
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Cppcheck - HTML report - [project name]</title>
    <link rel="stylesheet" href="style.css">
    <style>
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #FF0000; background-color: #FFAAAA } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .o { color: #333333 } /* Operator */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #557799 } /* Comment.Preproc */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #003388; font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #333399; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #6600EE; font-weight: bold } /* Literal.Number */
.highlight .s { background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #0000CC } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #BB0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #880000; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #FF0000; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066BB; font-weight: bold } /* Name.Function */
.highlight .nl { color: #997700; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #007700 } /* Name.Tag */
.highlight .nv { color: #996633 } /* Name.Variable */
.highlight .ow { color: #000000; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #6600EE; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #6600EE; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #005588; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #4400EE; font-weight: bold } /* Literal.Number.Oct */
.highlight .sb { background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #0044DD } /* Literal.String.Char */
.highlight .sd { color: #DD4422 } /* Literal.String.Doc */
.highlight .s2 { background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #666666; font-weight: bold; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { background-color: #eeeeee } /* Literal.String.Interpol */
.highlight .sx { color: #DD2200; background-color: #fff0f0 } /* Literal.String.Other */
.highlight .sr { color: #000000; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #AA6600 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700; font-weight: bold } /* Name.Variable.Global */
.highlight .vi { color: #3333BB } /* Name.Variable.Instance */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */
    </style>
    <script language="javascript">
      function getStyle(el,styleProp) {
        if (el.currentStyle)
          var y = el.currentStyle[styleProp];
        else if (window.getComputedStyle)
          var y = document.defaultView.getComputedStyle(el,null).getPropertyValue(styleProp);
        return y;
      }
      function toggle() {
        var el = this.expandable_content;
        var mark = this.expandable_marker;
        if (el.style.display == "block") {
          el.style.display = "none";
          mark.innerHTML = "[+]";
        } else {
          el.style.display = "block";
          mark.innerHTML = "[-]";
        }
      }
      function init_expandables() {
        var elts = document.getElementsByClassName("expandable");
        for (var i = 0; i < elts.length; i++) {
          var el = elts[i];
          var clickable = el.getElementsByTagName("span")[0];
          var marker = clickable.getElementsByClassName("marker")[0];
          var content = el.getElementsByClassName("content")[0];
          var width = clickable.clientWidth - parseInt(getStyle(content, "padding-left")) - parseInt(getStyle(content, "padding-right"));
          content.style.width = width + "px";
          clickable.expandable_content = content;
          clickable.expandable_marker = marker;
          clickable.onclick = toggle;
        }
      }
    </script>
  </head>
  <body onload="init_expandables()">
      <div id="header">
        <h1>Cppcheck report - [project name]: drivers/png/png.h </h1>
      </div>
      <div id="menu" dir="rtl">
       <p id="filename"><a href="index.html">Defects:</a> png.h</p>
<a href='518.html#line-978'> variableHidingTypedef 978</a><a href='518.html#line-1002'> variableHidingTypedef 1002</a><a href='518.html#line-1011'> variableHidingTypedef 1011</a><a href='518.html#line-1082'> variableHidingTypedef 1082</a><a href='518.html#line-1102'> variableHidingTypedef 1102</a><a href='518.html#line-1153'> variableHidingTypedef 1153</a><a href='518.html#line-1747'> variableHidingTypedef 1747</a><a href='518.html#line-1992'> variableHidingTypedef 1992</a><a href='518.html#line-2045'> variableHidingTypedef 2045</a><a href='518.html#line-2049'> variableHidingTypedef 2049</a><a href='518.html#line-2061'> variableHidingTypedef 2061</a><a href='518.html#line-2423'> variableHidingTypedef 2423</a><a href='518.html#line-2584'> variableHidingTypedef 2584</a>
      </div>
      <div id="content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>   1
   2
   3
   4
   5
   6
   7
   8
   9
  10
  11
  12
  13
  14
  15
  16
  17
  18
  19
  20
  21
  22
  23
  24
  25
  26
  27
  28
  29
  30
  31
  32
  33
  34
  35
  36
  37
  38
  39
  40
  41
  42
  43
  44
  45
  46
  47
  48
  49
  50
  51
  52
  53
  54
  55
  56
  57
  58
  59
  60
  61
  62
  63
  64
  65
  66
  67
  68
  69
  70
  71
  72
  73
  74
  75
  76
  77
  78
  79
  80
  81
  82
  83
  84
  85
  86
  87
  88
  89
  90
  91
  92
  93
  94
  95
  96
  97
  98
  99
 100
 101
 102
 103
 104
 105
 106
 107
 108
 109
 110
 111
 112
 113
 114
 115
 116
 117
 118
 119
 120
 121
 122
 123
 124
 125
 126
 127
 128
 129
 130
 131
 132
 133
 134
 135
 136
 137
 138
 139
 140
 141
 142
 143
 144
 145
 146
 147
 148
 149
 150
 151
 152
 153
 154
 155
 156
 157
 158
 159
 160
 161
 162
 163
 164
 165
 166
 167
 168
 169
 170
 171
 172
 173
 174
 175
 176
 177
 178
 179
 180
 181
 182
 183
 184
 185
 186
 187
 188
 189
 190
 191
 192
 193
 194
 195
 196
 197
 198
 199
 200
 201
 202
 203
 204
 205
 206
 207
 208
 209
 210
 211
 212
 213
 214
 215
 216
 217
 218
 219
 220
 221
 222
 223
 224
 225
 226
 227
 228
 229
 230
 231
 232
 233
 234
 235
 236
 237
 238
 239
 240
 241
 242
 243
 244
 245
 246
 247
 248
 249
 250
 251
 252
 253
 254
 255
 256
 257
 258
 259
 260
 261
 262
 263
 264
 265
 266
 267
 268
 269
 270
 271
 272
 273
 274
 275
 276
 277
 278
 279
 280
 281
 282
 283
 284
 285
 286
 287
 288
 289
 290
 291
 292
 293
 294
 295
 296
 297
 298
 299
 300
 301
 302
 303
 304
 305
 306
 307
 308
 309
 310
 311
 312
 313
 314
 315
 316
 317
 318
 319
 320
 321
 322
 323
 324
 325
 326
 327
 328
 329
 330
 331
 332
 333
 334
 335
 336
 337
 338
 339
 340
 341
 342
 343
 344
 345
 346
 347
 348
 349
 350
 351
 352
 353
 354
 355
 356
 357
 358
 359
 360
 361
 362
 363
 364
 365
 366
 367
 368
 369
 370
 371
 372
 373
 374
 375
 376
 377
 378
 379
 380
 381
 382
 383
 384
 385
 386
 387
 388
 389
 390
 391
 392
 393
 394
 395
 396
 397
 398
 399
 400
 401
 402
 403
 404
 405
 406
 407
 408
 409
 410
 411
 412
 413
 414
 415
 416
 417
 418
 419
 420
 421
 422
 423
 424
 425
 426
 427
 428
 429
 430
 431
 432
 433
 434
 435
 436
 437
 438
 439
 440
 441
 442
 443
 444
 445
 446
 447
 448
 449
 450
 451
 452
 453
 454
 455
 456
 457
 458
 459
 460
 461
 462
 463
 464
 465
 466
 467
 468
 469
 470
 471
 472
 473
 474
 475
 476
 477
 478
 479
 480
 481
 482
 483
 484
 485
 486
 487
 488
 489
 490
 491
 492
 493
 494
 495
 496
 497
 498
 499
 500
 501
 502
 503
 504
 505
 506
 507
 508
 509
 510
 511
 512
 513
 514
 515
 516
 517
 518
 519
 520
 521
 522
 523
 524
 525
 526
 527
 528
 529
 530
 531
 532
 533
 534
 535
 536
 537
 538
 539
 540
 541
 542
 543
 544
 545
 546
 547
 548
 549
 550
 551
 552
 553
 554
 555
 556
 557
 558
 559
 560
 561
 562
 563
 564
 565
 566
 567
 568
 569
 570
 571
 572
 573
 574
 575
 576
 577
 578
 579
 580
 581
 582
 583
 584
 585
 586
 587
 588
 589
 590
 591
 592
 593
 594
 595
 596
 597
 598
 599
 600
 601
 602
 603
 604
 605
 606
 607
 608
 609
 610
 611
 612
 613
 614
 615
 616
 617
 618
 619
 620
 621
 622
 623
 624
 625
 626
 627
 628
 629
 630
 631
 632
 633
 634
 635
 636
 637
 638
 639
 640
 641
 642
 643
 644
 645
 646
 647
 648
 649
 650
 651
 652
 653
 654
 655
 656
 657
 658
 659
 660
 661
 662
 663
 664
 665
 666
 667
 668
 669
 670
 671
 672
 673
 674
 675
 676
 677
 678
 679
 680
 681
 682
 683
 684
 685
 686
 687
 688
 689
 690
 691
 692
 693
 694
 695
 696
 697
 698
 699
 700
 701
 702
 703
 704
 705
 706
 707
 708
 709
 710
 711
 712
 713
 714
 715
 716
 717
 718
 719
 720
 721
 722
 723
 724
 725
 726
 727
 728
 729
 730
 731
 732
 733
 734
 735
 736
 737
 738
 739
 740
 741
 742
 743
 744
 745
 746
 747
 748
 749
 750
 751
 752
 753
 754
 755
 756
 757
 758
 759
 760
 761
 762
 763
 764
 765
 766
 767
 768
 769
 770
 771
 772
 773
 774
 775
 776
 777
 778
 779
 780
 781
 782
 783
 784
 785
 786
 787
 788
 789
 790
 791
 792
 793
 794
 795
 796
 797
 798
 799
 800
 801
 802
 803
 804
 805
 806
 807
 808
 809
 810
 811
 812
 813
 814
 815
 816
 817
 818
 819
 820
 821
 822
 823
 824
 825
 826
 827
 828
 829
 830
 831
 832
 833
 834
 835
 836
 837
 838
 839
 840
 841
 842
 843
 844
 845
 846
 847
 848
 849
 850
 851
 852
 853
 854
 855
 856
 857
 858
 859
 860
 861
 862
 863
 864
 865
 866
 867
 868
 869
 870
 871
 872
 873
 874
 875
 876
 877
 878
 879
 880
 881
 882
 883
 884
 885
 886
 887
 888
 889
 890
 891
 892
 893
 894
 895
 896
 897
 898
 899
 900
 901
 902
 903
 904
 905
 906
 907
 908
 909
 910
 911
 912
 913
 914
 915
 916
 917
 918
 919
 920
 921
 922
 923
 924
 925
 926
 927
 928
 929
 930
 931
 932
 933
 934
 935
 936
 937
 938
 939
 940
 941
 942
 943
 944
 945
 946
 947
 948
 949
 950
 951
 952
 953
 954
 955
 956
 957
 958
 959
 960
 961
 962
 963
 964
 965
 966
 967
 968
 969
 970
 971
 972
 973
 974
 975
 976
 977
 978
 979
 980
 981
 982
 983
 984
 985
 986
 987
 988
 989
 990
 991
 992
 993
 994
 995
 996
 997
 998
 999
1000
1001
1002
1003
1004
1005
1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046
1047
1048
1049
1050
1051
1052
1053
1054
1055
1056
1057
1058
1059
1060
1061
1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121
1122
1123
1124
1125
1126
1127
1128
1129
1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143
1144
1145
1146
1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170
1171
1172
1173
1174
1175
1176
1177
1178
1179
1180
1181
1182
1183
1184
1185
1186
1187
1188
1189
1190
1191
1192
1193
1194
1195
1196
1197
1198
1199
1200
1201
1202
1203
1204
1205
1206
1207
1208
1209
1210
1211
1212
1213
1214
1215
1216
1217
1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228
1229
1230
1231
1232
1233
1234
1235
1236
1237
1238
1239
1240
1241
1242
1243
1244
1245
1246
1247
1248
1249
1250
1251
1252
1253
1254
1255
1256
1257
1258
1259
1260
1261
1262
1263
1264
1265
1266
1267
1268
1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279
1280
1281
1282
1283
1284
1285
1286
1287
1288
1289
1290
1291
1292
1293
1294
1295
1296
1297
1298
1299
1300
1301
1302
1303
1304
1305
1306
1307
1308
1309
1310
1311
1312
1313
1314
1315
1316
1317
1318
1319
1320
1321
1322
1323
1324
1325
1326
1327
1328
1329
1330
1331
1332
1333
1334
1335
1336
1337
1338
1339
1340
1341
1342
1343
1344
1345
1346
1347
1348
1349
1350
1351
1352
1353
1354
1355
1356
1357
1358
1359
1360
1361
1362
1363
1364
1365
1366
1367
1368
1369
1370
1371
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388
1389
1390
1391
1392
1393
1394
1395
1396
1397
1398
1399
1400
1401
1402
1403
1404
1405
1406
1407
1408
1409
1410
1411
1412
1413
1414
1415
1416
1417
1418
1419
1420
1421
1422
1423
1424
1425
1426
1427
1428
1429
1430
1431
1432
1433
1434
1435
1436
1437
1438
1439
1440
1441
1442
1443
1444
1445
1446
1447
1448
1449
1450
1451
1452
1453
1454
1455
1456
1457
1458
1459
1460
1461
1462
1463
1464
1465
1466
1467
1468
1469
1470
1471
1472
1473
1474
1475
1476
1477
1478
1479
1480
1481
1482
1483
1484
1485
1486
1487
1488
1489
1490
1491
1492
1493
1494
1495
1496
1497
1498
1499
1500
1501
1502
1503
1504
1505
1506
1507
1508
1509
1510
1511
1512
1513
1514
1515
1516
1517
1518
1519
1520
1521
1522
1523
1524
1525
1526
1527
1528
1529
1530
1531
1532
1533
1534
1535
1536
1537
1538
1539
1540
1541
1542
1543
1544
1545
1546
1547
1548
1549
1550
1551
1552
1553
1554
1555
1556
1557
1558
1559
1560
1561
1562
1563
1564
1565
1566
1567
1568
1569
1570
1571
1572
1573
1574
1575
1576
1577
1578
1579
1580
1581
1582
1583
1584
1585
1586
1587
1588
1589
1590
1591
1592
1593
1594
1595
1596
1597
1598
1599
1600
1601
1602
1603
1604
1605
1606
1607
1608
1609
1610
1611
1612
1613
1614
1615
1616
1617
1618
1619
1620
1621
1622
1623
1624
1625
1626
1627
1628
1629
1630
1631
1632
1633
1634
1635
1636
1637
1638
1639
1640
1641
1642
1643
1644
1645
1646
1647
1648
1649
1650
1651
1652
1653
1654
1655
1656
1657
1658
1659
1660
1661
1662
1663
1664
1665
1666
1667
1668
1669
1670
1671
1672
1673
1674
1675
1676
1677
1678
1679
1680
1681
1682
1683
1684
1685
1686
1687
1688
1689
1690
1691
1692
1693
1694
1695
1696
1697
1698
1699
1700
1701
1702
1703
1704
1705
1706
1707
1708
1709
1710
1711
1712
1713
1714
1715
1716
1717
1718
1719
1720
1721
1722
1723
1724
1725
1726
1727
1728
1729
1730
1731
1732
1733
1734
1735
1736
1737
1738
1739
1740
1741
1742
1743
1744
1745
1746
1747
1748
1749
1750
1751
1752
1753
1754
1755
1756
1757
1758
1759
1760
1761
1762
1763
1764
1765
1766
1767
1768
1769
1770
1771
1772
1773
1774
1775
1776
1777
1778
1779
1780
1781
1782
1783
1784
1785
1786
1787
1788
1789
1790
1791
1792
1793
1794
1795
1796
1797
1798
1799
1800
1801
1802
1803
1804
1805
1806
1807
1808
1809
1810
1811
1812
1813
1814
1815
1816
1817
1818
1819
1820
1821
1822
1823
1824
1825
1826
1827
1828
1829
1830
1831
1832
1833
1834
1835
1836
1837
1838
1839
1840
1841
1842
1843
1844
1845
1846
1847
1848
1849
1850
1851
1852
1853
1854
1855
1856
1857
1858
1859
1860
1861
1862
1863
1864
1865
1866
1867
1868
1869
1870
1871
1872
1873
1874
1875
1876
1877
1878
1879
1880
1881
1882
1883
1884
1885
1886
1887
1888
1889
1890
1891
1892
1893
1894
1895
1896
1897
1898
1899
1900
1901
1902
1903
1904
1905
1906
1907
1908
1909
1910
1911
1912
1913
1914
1915
1916
1917
1918
1919
1920
1921
1922
1923
1924
1925
1926
1927
1928
1929
1930
1931
1932
1933
1934
1935
1936
1937
1938
1939
1940
1941
1942
1943
1944
1945
1946
1947
1948
1949
1950
1951
1952
1953
1954
1955
1956
1957
1958
1959
1960
1961
1962
1963
1964
1965
1966
1967
1968
1969
1970
1971
1972
1973
1974
1975
1976
1977
1978
1979
1980
1981
1982
1983
1984
1985
1986
1987
1988
1989
1990
1991
1992
1993
1994
1995
1996
1997
1998
1999
2000
2001
2002
2003
2004
2005
2006
2007
2008
2009
2010
2011
2012
2013
2014
2015
2016
2017
2018
2019
2020
2021
2022
2023
2024
2025
2026
2027
2028
2029
2030
2031
2032
2033
2034
2035
2036
2037
2038
2039
2040
2041
2042
2043
2044
2045
2046
2047
2048
2049
2050
2051
2052
2053
2054
2055
2056
2057
2058
2059
2060
2061
2062
2063
2064
2065
2066
2067
2068
2069
2070
2071
2072
2073
2074
2075
2076
2077
2078
2079
2080
2081
2082
2083
2084
2085
2086
2087
2088
2089
2090
2091
2092
2093
2094
2095
2096
2097
2098
2099
2100
2101
2102
2103
2104
2105
2106
2107
2108
2109
2110
2111
2112
2113
2114
2115
2116
2117
2118
2119
2120
2121
2122
2123
2124
2125
2126
2127
2128
2129
2130
2131
2132
2133
2134
2135
2136
2137
2138
2139
2140
2141
2142
2143
2144
2145
2146
2147
2148
2149
2150
2151
2152
2153
2154
2155
2156
2157
2158
2159
2160
2161
2162
2163
2164
2165
2166
2167
2168
2169
2170
2171
2172
2173
2174
2175
2176
2177
2178
2179
2180
2181
2182
2183
2184
2185
2186
2187
2188
2189
2190
2191
2192
2193
2194
2195
2196
2197
2198
2199
2200
2201
2202
2203
2204
2205
2206
2207
2208
2209
2210
2211
2212
2213
2214
2215
2216
2217
2218
2219
2220
2221
2222
2223
2224
2225
2226
2227
2228
2229
2230
2231
2232
2233
2234
2235
2236
2237
2238
2239
2240
2241
2242
2243
2244
2245
2246
2247
2248
2249
2250
2251
2252
2253
2254
2255
2256
2257
2258
2259
2260
2261
2262
2263
2264
2265
2266
2267
2268
2269
2270
2271
2272
2273
2274
2275
2276
2277
2278
2279
2280
2281
2282
2283
2284
2285
2286
2287
2288
2289
2290
2291
2292
2293
2294
2295
2296
2297
2298
2299
2300
2301
2302
2303
2304
2305
2306
2307
2308
2309
2310
2311
2312
2313
2314
2315
2316
2317
2318
2319
2320
2321
2322
2323
2324
2325
2326
2327
2328
2329
2330
2331
2332
2333
2334
2335
2336
2337
2338
2339
2340
2341
2342
2343
2344
2345
2346
2347
2348
2349
2350
2351
2352
2353
2354
2355
2356
2357
2358
2359
2360
2361
2362
2363
2364
2365
2366
2367
2368
2369
2370
2371
2372
2373
2374
2375
2376
2377
2378
2379
2380
2381
2382
2383
2384
2385
2386
2387
2388
2389
2390
2391
2392
2393
2394
2395
2396
2397
2398
2399
2400
2401
2402
2403
2404
2405
2406
2407
2408
2409
2410
2411
2412
2413
2414
2415
2416
2417
2418
2419
2420
2421
2422
2423
2424
2425
2426
2427
2428
2429
2430
2431
2432
2433
2434
2435
2436
2437
2438
2439
2440
2441
2442
2443
2444
2445
2446
2447
2448
2449
2450
2451
2452
2453
2454
2455
2456
2457
2458
2459
2460
2461
2462
2463
2464
2465
2466
2467
2468
2469
2470
2471
2472
2473
2474
2475
2476
2477
2478
2479
2480
2481
2482
2483
2484
2485
2486
2487
2488
2489
2490
2491
2492
2493
2494
2495
2496
2497
2498
2499
2500
2501
2502
2503
2504
2505
2506
2507
2508
2509
2510
2511
2512
2513
2514
2515
2516
2517
2518
2519
2520
2521
2522
2523
2524
2525
2526
2527
2528
2529
2530
2531
2532
2533
2534
2535
2536
2537
2538
2539
2540
2541
2542
2543
2544
2545
2546
2547
2548
2549
2550
2551
2552
2553
2554
2555
2556
2557
2558
2559
2560
2561
2562
2563
2564
2565
2566
2567
2568
2569
2570
2571
2572
2573
2574
2575
2576
2577
2578
2579
2580
2581
2582
2583
2584
2585
2586
2587
2588
2589
2590
2591
2592
2593
2594
2595
2596
2597
2598
2599
2600
2601
2602
2603
2604
2605
2606
2607
2608
2609
2610
2611
2612
2613
2614
2615
2616
2617
2618
2619
2620
2621
2622
2623
2624
2625
2626
2627
2628
2629
2630
2631
2632
2633
2634
2635
2636
2637
2638
2639
2640
2641
2642
2643
2644
2645
2646
2647
2648
2649
2650
2651</pre></div></td><td class="code"><div class="highlight"><pre><a name="line-1"></a><span class="cm">/* png.h - header file for PNG reference library</span>
<a name="line-2"></a><span class="cm"> *</span>
<a name="line-3"></a><span class="cm"> * libpng version 1.5.7 - December 15, 2011</span>
<a name="line-4"></a><span class="cm"> * Copyright (c) 1998-2011 Glenn Randers-Pehrson</span>
<a name="line-5"></a><span class="cm"> * (Version 0.96 Copyright (c) 1996, 1997 Andreas Dilger)</span>
<a name="line-6"></a><span class="cm"> * (Version 0.88 Copyright (c) 1995, 1996 Guy Eric Schalnat, Group 42, Inc.)</span>
<a name="line-7"></a><span class="cm"> *</span>
<a name="line-8"></a><span class="cm"> * This code is released under the libpng license (See LICENSE, below)</span>
<a name="line-9"></a><span class="cm"> *</span>
<a name="line-10"></a><span class="cm"> * Authors and maintainers:</span>
<a name="line-11"></a><span class="cm"> *   libpng versions 0.71, May 1995, through 0.88, January 1996: Guy Schalnat</span>
<a name="line-12"></a><span class="cm"> *   libpng versions 0.89c, June 1996, through 0.96, May 1997: Andreas Dilger</span>
<a name="line-13"></a><span class="cm"> *   libpng versions 0.97, January 1998, through 1.5.7 - December 15, 2011: Glenn</span>
<a name="line-14"></a><span class="cm"> *   See also &quot;Contributing Authors&quot;, below.</span>
<a name="line-15"></a><span class="cm"> *</span>
<a name="line-16"></a><span class="cm"> * Note about libpng version numbers:</span>
<a name="line-17"></a><span class="cm"> *</span>
<a name="line-18"></a><span class="cm"> *   Due to various miscommunications, unforeseen code incompatibilities</span>
<a name="line-19"></a><span class="cm"> *   and occasional factors outside the authors&#39; control, version numbering</span>
<a name="line-20"></a><span class="cm"> *   on the library has not always been consistent and straightforward.</span>
<a name="line-21"></a><span class="cm"> *   The following table summarizes matters since version 0.89c, which was</span>
<a name="line-22"></a><span class="cm"> *   the first widely used release:</span>
<a name="line-23"></a><span class="cm"> *</span>
<a name="line-24"></a><span class="cm"> *    source                 png.h  png.h  shared-lib</span>
<a name="line-25"></a><span class="cm"> *    version                string   int  version</span>
<a name="line-26"></a><span class="cm"> *    -------                ------ -----  ----------</span>
<a name="line-27"></a><span class="cm"> *    0.89c &quot;1.0 beta 3&quot;     0.89      89  1.0.89</span>
<a name="line-28"></a><span class="cm"> *    0.90  &quot;1.0 beta 4&quot;     0.90      90  0.90  [should have been 2.0.90]</span>
<a name="line-29"></a><span class="cm"> *    0.95  &quot;1.0 beta 5&quot;     0.95      95  0.95  [should have been 2.0.95]</span>
<a name="line-30"></a><span class="cm"> *    0.96  &quot;1.0 beta 6&quot;     0.96      96  0.96  [should have been 2.0.96]</span>
<a name="line-31"></a><span class="cm"> *    0.97b &quot;1.00.97 beta 7&quot; 1.00.97   97  1.0.1 [should have been 2.0.97]</span>
<a name="line-32"></a><span class="cm"> *    0.97c                  0.97      97  2.0.97</span>
<a name="line-33"></a><span class="cm"> *    0.98                   0.98      98  2.0.98</span>
<a name="line-34"></a><span class="cm"> *    0.99                   0.99      98  2.0.99</span>
<a name="line-35"></a><span class="cm"> *    0.99a-m                0.99      99  2.0.99</span>
<a name="line-36"></a><span class="cm"> *    1.00                   1.00     100  2.1.0 [100 should be 10000]</span>
<a name="line-37"></a><span class="cm"> *    1.0.0      (from here on, the   100  2.1.0 [100 should be 10000]</span>
<a name="line-38"></a><span class="cm"> *    1.0.1       png.h string is   10001  2.1.0</span>
<a name="line-39"></a><span class="cm"> *    1.0.1a-e    identical to the  10002  from here on, the shared library</span>
<a name="line-40"></a><span class="cm"> *    1.0.2       source version)   10002  is 2.V where V is the source code</span>
<a name="line-41"></a><span class="cm"> *    1.0.2a-b                      10003  version, except as noted.</span>
<a name="line-42"></a><span class="cm"> *    1.0.3                         10003</span>
<a name="line-43"></a><span class="cm"> *    1.0.3a-d                      10004</span>
<a name="line-44"></a><span class="cm"> *    1.0.4                         10004</span>
<a name="line-45"></a><span class="cm"> *    1.0.4a-f                      10005</span>
<a name="line-46"></a><span class="cm"> *    1.0.5 (+ 2 patches)           10005</span>
<a name="line-47"></a><span class="cm"> *    1.0.5a-d                      10006</span>
<a name="line-48"></a><span class="cm"> *    1.0.5e-r                      10100 (not source compatible)</span>
<a name="line-49"></a><span class="cm"> *    1.0.5s-v                      10006 (not binary compatible)</span>
<a name="line-50"></a><span class="cm"> *    1.0.6 (+ 3 patches)           10006 (still binary incompatible)</span>
<a name="line-51"></a><span class="cm"> *    1.0.6d-f                      10007 (still binary incompatible)</span>
<a name="line-52"></a><span class="cm"> *    1.0.6g                        10007</span>
<a name="line-53"></a><span class="cm"> *    1.0.6h                        10007  10.6h (testing xy.z so-numbering)</span>
<a name="line-54"></a><span class="cm"> *    1.0.6i                        10007  10.6i</span>
<a name="line-55"></a><span class="cm"> *    1.0.6j                        10007  2.1.0.6j (incompatible with 1.0.0)</span>
<a name="line-56"></a><span class="cm"> *    1.0.7beta11-14        DLLNUM  10007  2.1.0.7beta11-14 (binary compatible)</span>
<a name="line-57"></a><span class="cm"> *    1.0.7beta15-18           1    10007  2.1.0.7beta15-18 (binary compatible)</span>
<a name="line-58"></a><span class="cm"> *    1.0.7rc1-2               1    10007  2.1.0.7rc1-2 (binary compatible)</span>
<a name="line-59"></a><span class="cm"> *    1.0.7                    1    10007  (still compatible)</span>
<a name="line-60"></a><span class="cm"> *    1.0.8beta1-4             1    10008  2.1.0.8beta1-4</span>
<a name="line-61"></a><span class="cm"> *    1.0.8rc1                 1    10008  2.1.0.8rc1</span>
<a name="line-62"></a><span class="cm"> *    1.0.8                    1    10008  2.1.0.8</span>
<a name="line-63"></a><span class="cm"> *    1.0.9beta1-6             1    10009  2.1.0.9beta1-6</span>
<a name="line-64"></a><span class="cm"> *    1.0.9rc1                 1    10009  2.1.0.9rc1</span>
<a name="line-65"></a><span class="cm"> *    1.0.9beta7-10            1    10009  2.1.0.9beta7-10</span>
<a name="line-66"></a><span class="cm"> *    1.0.9rc2                 1    10009  2.1.0.9rc2</span>
<a name="line-67"></a><span class="cm"> *    1.0.9                    1    10009  2.1.0.9</span>
<a name="line-68"></a><span class="cm"> *    1.0.10beta1              1    10010  2.1.0.10beta1</span>
<a name="line-69"></a><span class="cm"> *    1.0.10rc1                1    10010  2.1.0.10rc1</span>
<a name="line-70"></a><span class="cm"> *    1.0.10                   1    10010  2.1.0.10</span>
<a name="line-71"></a><span class="cm"> *    1.0.11beta1-3            1    10011  2.1.0.11beta1-3</span>
<a name="line-72"></a><span class="cm"> *    1.0.11rc1                1    10011  2.1.0.11rc1</span>
<a name="line-73"></a><span class="cm"> *    1.0.11                   1    10011  2.1.0.11</span>
<a name="line-74"></a><span class="cm"> *    1.0.12beta1-2            2    10012  2.1.0.12beta1-2</span>
<a name="line-75"></a><span class="cm"> *    1.0.12rc1                2    10012  2.1.0.12rc1</span>
<a name="line-76"></a><span class="cm"> *    1.0.12                   2    10012  2.1.0.12</span>
<a name="line-77"></a><span class="cm"> *    1.1.0a-f                 -    10100  2.1.1.0a-f (branch abandoned)</span>
<a name="line-78"></a><span class="cm"> *    1.2.0beta1-2             2    10200  2.1.2.0beta1-2</span>
<a name="line-79"></a><span class="cm"> *    1.2.0beta3-5             3    10200  3.1.2.0beta3-5</span>
<a name="line-80"></a><span class="cm"> *    1.2.0rc1                 3    10200  3.1.2.0rc1</span>
<a name="line-81"></a><span class="cm"> *    1.2.0                    3    10200  3.1.2.0</span>
<a name="line-82"></a><span class="cm"> *    1.2.1beta1-4             3    10201  3.1.2.1beta1-4</span>
<a name="line-83"></a><span class="cm"> *    1.2.1rc1-2               3    10201  3.1.2.1rc1-2</span>
<a name="line-84"></a><span class="cm"> *    1.2.1                    3    10201  3.1.2.1</span>
<a name="line-85"></a><span class="cm"> *    1.2.2beta1-6            12    10202  12.so.0.1.2.2beta1-6</span>
<a name="line-86"></a><span class="cm"> *    1.0.13beta1             10    10013  10.so.0.1.0.13beta1</span>
<a name="line-87"></a><span class="cm"> *    1.0.13rc1               10    10013  10.so.0.1.0.13rc1</span>
<a name="line-88"></a><span class="cm"> *    1.2.2rc1                12    10202  12.so.0.1.2.2rc1</span>
<a name="line-89"></a><span class="cm"> *    1.0.13                  10    10013  10.so.0.1.0.13</span>
<a name="line-90"></a><span class="cm"> *    1.2.2                   12    10202  12.so.0.1.2.2</span>
<a name="line-91"></a><span class="cm"> *    1.2.3rc1-6              12    10203  12.so.0.1.2.3rc1-6</span>
<a name="line-92"></a><span class="cm"> *    1.2.3                   12    10203  12.so.0.1.2.3</span>
<a name="line-93"></a><span class="cm"> *    1.2.4beta1-3            13    10204  12.so.0.1.2.4beta1-3</span>
<a name="line-94"></a><span class="cm"> *    1.0.14rc1               13    10014  10.so.0.1.0.14rc1</span>
<a name="line-95"></a><span class="cm"> *    1.2.4rc1                13    10204  12.so.0.1.2.4rc1</span>
<a name="line-96"></a><span class="cm"> *    1.0.14                  10    10014  10.so.0.1.0.14</span>
<a name="line-97"></a><span class="cm"> *    1.2.4                   13    10204  12.so.0.1.2.4</span>
<a name="line-98"></a><span class="cm"> *    1.2.5beta1-2            13    10205  12.so.0.1.2.5beta1-2</span>
<a name="line-99"></a><span class="cm"> *    1.0.15rc1-3             10    10015  10.so.0.1.0.15rc1-3</span>
<a name="line-100"></a><span class="cm"> *    1.2.5rc1-3              13    10205  12.so.0.1.2.5rc1-3</span>
<a name="line-101"></a><span class="cm"> *    1.0.15                  10    10015  10.so.0.1.0.15</span>
<a name="line-102"></a><span class="cm"> *    1.2.5                   13    10205  12.so.0.1.2.5</span>
<a name="line-103"></a><span class="cm"> *    1.2.6beta1-4            13    10206  12.so.0.1.2.6beta1-4</span>
<a name="line-104"></a><span class="cm"> *    1.0.16                  10    10016  10.so.0.1.0.16</span>
<a name="line-105"></a><span class="cm"> *    1.2.6                   13    10206  12.so.0.1.2.6</span>
<a name="line-106"></a><span class="cm"> *    1.2.7beta1-2            13    10207  12.so.0.1.2.7beta1-2</span>
<a name="line-107"></a><span class="cm"> *    1.0.17rc1               10    10017  12.so.0.1.0.17rc1</span>
<a name="line-108"></a><span class="cm"> *    1.2.7rc1                13    10207  12.so.0.1.2.7rc1</span>
<a name="line-109"></a><span class="cm"> *    1.0.17                  10    10017  12.so.0.1.0.17</span>
<a name="line-110"></a><span class="cm"> *    1.2.7                   13    10207  12.so.0.1.2.7</span>
<a name="line-111"></a><span class="cm"> *    1.2.8beta1-5            13    10208  12.so.0.1.2.8beta1-5</span>
<a name="line-112"></a><span class="cm"> *    1.0.18rc1-5             10    10018  12.so.0.1.0.18rc1-5</span>
<a name="line-113"></a><span class="cm"> *    1.2.8rc1-5              13    10208  12.so.0.1.2.8rc1-5</span>
<a name="line-114"></a><span class="cm"> *    1.0.18                  10    10018  12.so.0.1.0.18</span>
<a name="line-115"></a><span class="cm"> *    1.2.8                   13    10208  12.so.0.1.2.8</span>
<a name="line-116"></a><span class="cm"> *    1.2.9beta1-3            13    10209  12.so.0.1.2.9beta1-3</span>
<a name="line-117"></a><span class="cm"> *    1.2.9beta4-11           13    10209  12.so.0.9[.0]</span>
<a name="line-118"></a><span class="cm"> *    1.2.9rc1                13    10209  12.so.0.9[.0]</span>
<a name="line-119"></a><span class="cm"> *    1.2.9                   13    10209  12.so.0.9[.0]</span>
<a name="line-120"></a><span class="cm"> *    1.2.10beta1-7           13    10210  12.so.0.10[.0]</span>
<a name="line-121"></a><span class="cm"> *    1.2.10rc1-2             13    10210  12.so.0.10[.0]</span>
<a name="line-122"></a><span class="cm"> *    1.2.10                  13    10210  12.so.0.10[.0]</span>
<a name="line-123"></a><span class="cm"> *    1.4.0beta1-5            14    10400  14.so.0.0[.0]</span>
<a name="line-124"></a><span class="cm"> *    1.2.11beta1-4           13    10211  12.so.0.11[.0]</span>
<a name="line-125"></a><span class="cm"> *    1.4.0beta7-8            14    10400  14.so.0.0[.0]</span>
<a name="line-126"></a><span class="cm"> *    1.2.11                  13    10211  12.so.0.11[.0]</span>
<a name="line-127"></a><span class="cm"> *    1.2.12                  13    10212  12.so.0.12[.0]</span>
<a name="line-128"></a><span class="cm"> *    1.4.0beta9-14           14    10400  14.so.0.0[.0]</span>
<a name="line-129"></a><span class="cm"> *    1.2.13                  13    10213  12.so.0.13[.0]</span>
<a name="line-130"></a><span class="cm"> *    1.4.0beta15-36          14    10400  14.so.0.0[.0]</span>
<a name="line-131"></a><span class="cm"> *    1.4.0beta37-87          14    10400  14.so.14.0[.0]</span>
<a name="line-132"></a><span class="cm"> *    1.4.0rc01               14    10400  14.so.14.0[.0]</span>
<a name="line-133"></a><span class="cm"> *    1.4.0beta88-109         14    10400  14.so.14.0[.0]</span>
<a name="line-134"></a><span class="cm"> *    1.4.0rc02-08            14    10400  14.so.14.0[.0]</span>
<a name="line-135"></a><span class="cm"> *    1.4.0                   14    10400  14.so.14.0[.0]</span>
<a name="line-136"></a><span class="cm"> *    1.4.1beta01-03          14    10401  14.so.14.1[.0]</span>
<a name="line-137"></a><span class="cm"> *    1.4.1rc01               14    10401  14.so.14.1[.0]</span>
<a name="line-138"></a><span class="cm"> *    1.4.1beta04-12          14    10401  14.so.14.1[.0]</span>
<a name="line-139"></a><span class="cm"> *    1.4.1                   14    10401  14.so.14.1[.0]</span>
<a name="line-140"></a><span class="cm"> *    1.4.2                   14    10402  14.so.14.2[.0]</span>
<a name="line-141"></a><span class="cm"> *    1.4.3                   14    10403  14.so.14.3[.0]</span>
<a name="line-142"></a><span class="cm"> *    1.4.4                   14    10404  14.so.14.4[.0]</span>
<a name="line-143"></a><span class="cm"> *    1.5.0beta01-58          15    10500  15.so.15.0[.0]</span>
<a name="line-144"></a><span class="cm"> *    1.5.0rc01-07            15    10500  15.so.15.0[.0]</span>
<a name="line-145"></a><span class="cm"> *    1.5.0                   15    10500  15.so.15.0[.0]</span>
<a name="line-146"></a><span class="cm"> *    1.5.1beta01-11          15    10501  15.so.15.1[.0]</span>
<a name="line-147"></a><span class="cm"> *    1.5.1rc01-02            15    10501  15.so.15.1[.0]</span>
<a name="line-148"></a><span class="cm"> *    1.5.1                   15    10501  15.so.15.1[.0]</span>
<a name="line-149"></a><span class="cm"> *    1.5.2beta01-03          15    10502  15.so.15.2[.0]</span>
<a name="line-150"></a><span class="cm"> *    1.5.2rc01-03            15    10502  15.so.15.2[.0]</span>
<a name="line-151"></a><span class="cm"> *    1.5.2                   15    10502  15.so.15.2[.0]</span>
<a name="line-152"></a><span class="cm"> *    1.5.3beta01-10          15    10503  15.so.15.3[.0]</span>
<a name="line-153"></a><span class="cm"> *    1.5.3rc01-02            15    10503  15.so.15.3[.0]</span>
<a name="line-154"></a><span class="cm"> *    1.5.3beta11             15    10503  15.so.15.3[.0]</span>
<a name="line-155"></a><span class="cm"> *    1.5.3 [omitted]</span>
<a name="line-156"></a><span class="cm"> *    1.5.4beta01-08          15    10504  15.so.15.4[.0]</span>
<a name="line-157"></a><span class="cm"> *    1.5.4rc01               15    10504  15.so.15.4[.0]</span>
<a name="line-158"></a><span class="cm"> *    1.5.4                   15    10504  15.so.15.4[.0]</span>
<a name="line-159"></a><span class="cm"> *    1.5.5beta01-08          15    10505  15.so.15.5[.0]</span>
<a name="line-160"></a><span class="cm"> *    1.5.5rc01               15    10505  15.so.15.5[.0]</span>
<a name="line-161"></a><span class="cm"> *    1.5.5                   15    10505  15.so.15.5[.0]</span>
<a name="line-162"></a><span class="cm"> *    1.5.6beta01-07          15    10506  15.so.15.6[.0]</span>
<a name="line-163"></a><span class="cm"> *    1.5.6rc01-03            15    10506  15.so.15.6[.0]</span>
<a name="line-164"></a><span class="cm"> *    1.5.6                   15    10506  15.so.15.6[.0]</span>
<a name="line-165"></a><span class="cm"> *    1.5.7beta01-05          15    10507  15.so.15.7[.0]</span>
<a name="line-166"></a><span class="cm"> *    1.5.7rc01-03            15    10507  15.so.15.7[.0]</span>
<a name="line-167"></a><span class="cm"> *    1.5.7                   15    10507  15.so.15.7[.0]</span>
<a name="line-168"></a><span class="cm"> *</span>
<a name="line-169"></a><span class="cm"> *   Henceforth the source version will match the shared-library major</span>
<a name="line-170"></a><span class="cm"> *   and minor numbers; the shared-library major version number will be</span>
<a name="line-171"></a><span class="cm"> *   used for changes in backward compatibility, as it is intended.  The</span>
<a name="line-172"></a><span class="cm"> *   PNG_LIBPNG_VER macro, which is not used within libpng but is available</span>
<a name="line-173"></a><span class="cm"> *   for applications, is an unsigned integer of the form xyyzz corresponding</span>
<a name="line-174"></a><span class="cm"> *   to the source version x.y.z (leading zeros in y and z).  Beta versions</span>
<a name="line-175"></a><span class="cm"> *   were given the previous public release number plus a letter, until</span>
<a name="line-176"></a><span class="cm"> *   version 1.0.6j; from then on they were given the upcoming public</span>
<a name="line-177"></a><span class="cm"> *   release number plus &quot;betaNN&quot; or &quot;rcN&quot;.</span>
<a name="line-178"></a><span class="cm"> *</span>
<a name="line-179"></a><span class="cm"> *   Binary incompatibility exists only when applications make direct access</span>
<a name="line-180"></a><span class="cm"> *   to the info_ptr or png_ptr members through png.h, and the compiled</span>
<a name="line-181"></a><span class="cm"> *   application is loaded with a different version of the library.</span>
<a name="line-182"></a><span class="cm"> *</span>
<a name="line-183"></a><span class="cm"> *   DLLNUM will change each time there are forward or backward changes</span>
<a name="line-184"></a><span class="cm"> *   in binary compatibility (e.g., when a new feature is added).</span>
<a name="line-185"></a><span class="cm"> *</span>
<a name="line-186"></a><span class="cm"> * See libpng-manual.txt or libpng.3 for more information.  The PNG</span>
<a name="line-187"></a><span class="cm"> * specification is available as a W3C Recommendation and as an ISO</span>
<a name="line-188"></a><span class="cm"> * Specification, &lt;http://www.w3.org/TR/2003/REC-PNG-20031110/</span>
<a name="line-189"></a><span class="cm"> */</span>
<a name="line-190"></a>
<a name="line-191"></a><span class="cm">/*</span>
<a name="line-192"></a><span class="cm"> * COPYRIGHT NOTICE, DISCLAIMER, and LICENSE:</span>
<a name="line-193"></a><span class="cm"> *</span>
<a name="line-194"></a><span class="cm"> * If you modify libpng you may insert additional notices immediately following</span>
<a name="line-195"></a><span class="cm"> * this sentence.</span>
<a name="line-196"></a><span class="cm"> *</span>
<a name="line-197"></a><span class="cm"> * This code is released under the libpng license.</span>
<a name="line-198"></a><span class="cm"> *</span>
<a name="line-199"></a><span class="cm"> * libpng versions 1.2.6, August 15, 2004, through 1.5.7, December 15, 2011, are</span>
<a name="line-200"></a><span class="cm"> * Copyright (c) 2004, 2006-2011 Glenn Randers-Pehrson, and are</span>
<a name="line-201"></a><span class="cm"> * distributed according to the same disclaimer and license as libpng-1.2.5</span>
<a name="line-202"></a><span class="cm"> * with the following individual added to the list of Contributing Authors:</span>
<a name="line-203"></a><span class="cm"> *</span>
<a name="line-204"></a><span class="cm"> *    Cosmin Truta</span>
<a name="line-205"></a><span class="cm"> *</span>
<a name="line-206"></a><span class="cm"> * libpng versions 1.0.7, July 1, 2000, through 1.2.5, October 3, 2002, are</span>
<a name="line-207"></a><span class="cm"> * Copyright (c) 2000-2002 Glenn Randers-Pehrson, and are</span>
<a name="line-208"></a><span class="cm"> * distributed according to the same disclaimer and license as libpng-1.0.6</span>
<a name="line-209"></a><span class="cm"> * with the following individuals added to the list of Contributing Authors:</span>
<a name="line-210"></a><span class="cm"> *</span>
<a name="line-211"></a><span class="cm"> *    Simon-Pierre Cadieux</span>
<a name="line-212"></a><span class="cm"> *    Eric S. Raymond</span>
<a name="line-213"></a><span class="cm"> *    Gilles Vollant</span>
<a name="line-214"></a><span class="cm"> *</span>
<a name="line-215"></a><span class="cm"> * and with the following additions to the disclaimer:</span>
<a name="line-216"></a><span class="cm"> *</span>
<a name="line-217"></a><span class="cm"> *    There is no warranty against interference with your enjoyment of the</span>
<a name="line-218"></a><span class="cm"> *    library or against infringement.  There is no warranty that our</span>
<a name="line-219"></a><span class="cm"> *    efforts or the library will fulfill any of your particular purposes</span>
<a name="line-220"></a><span class="cm"> *    or needs.  This library is provided with all faults, and the entire</span>
<a name="line-221"></a><span class="cm"> *    risk of satisfactory quality, performance, accuracy, and effort is with</span>
<a name="line-222"></a><span class="cm"> *    the user.</span>
<a name="line-223"></a><span class="cm"> *</span>
<a name="line-224"></a><span class="cm"> * libpng versions 0.97, January 1998, through 1.0.6, March 20, 2000, are</span>
<a name="line-225"></a><span class="cm"> * Copyright (c) 1998, 1999, 2000 Glenn Randers-Pehrson, and are</span>
<a name="line-226"></a><span class="cm"> * distributed according to the same disclaimer and license as libpng-0.96,</span>
<a name="line-227"></a><span class="cm"> * with the following individuals added to the list of Contributing Authors:</span>
<a name="line-228"></a><span class="cm"> *</span>
<a name="line-229"></a><span class="cm"> *    Tom Lane</span>
<a name="line-230"></a><span class="cm"> *    Glenn Randers-Pehrson</span>
<a name="line-231"></a><span class="cm"> *    Willem van Schaik</span>
<a name="line-232"></a><span class="cm"> *</span>
<a name="line-233"></a><span class="cm"> * libpng versions 0.89, June 1996, through 0.96, May 1997, are</span>
<a name="line-234"></a><span class="cm"> * Copyright (c) 1996, 1997 Andreas Dilger</span>
<a name="line-235"></a><span class="cm"> * Distributed according to the same disclaimer and license as libpng-0.88,</span>
<a name="line-236"></a><span class="cm"> * with the following individuals added to the list of Contributing Authors:</span>
<a name="line-237"></a><span class="cm"> *</span>
<a name="line-238"></a><span class="cm"> *    John Bowler</span>
<a name="line-239"></a><span class="cm"> *    Kevin Bracey</span>
<a name="line-240"></a><span class="cm"> *    Sam Bushell</span>
<a name="line-241"></a><span class="cm"> *    Magnus Holmgren</span>
<a name="line-242"></a><span class="cm"> *    Greg Roelofs</span>
<a name="line-243"></a><span class="cm"> *    Tom Tanner</span>
<a name="line-244"></a><span class="cm"> *</span>
<a name="line-245"></a><span class="cm"> * libpng versions 0.5, May 1995, through 0.88, January 1996, are</span>
<a name="line-246"></a><span class="cm"> * Copyright (c) 1995, 1996 Guy Eric Schalnat, Group 42, Inc.</span>
<a name="line-247"></a><span class="cm"> *</span>
<a name="line-248"></a><span class="cm"> * For the purposes of this copyright and license, &quot;Contributing Authors&quot;</span>
<a name="line-249"></a><span class="cm"> * is defined as the following set of individuals:</span>
<a name="line-250"></a><span class="cm"> *</span>
<a name="line-251"></a><span class="cm"> *    Andreas Dilger</span>
<a name="line-252"></a><span class="cm"> *    Dave Martindale</span>
<a name="line-253"></a><span class="cm"> *    Guy Eric Schalnat</span>
<a name="line-254"></a><span class="cm"> *    Paul Schmidt</span>
<a name="line-255"></a><span class="cm"> *    Tim Wegner</span>
<a name="line-256"></a><span class="cm"> *</span>
<a name="line-257"></a><span class="cm"> * The PNG Reference Library is supplied &quot;AS IS&quot;.  The Contributing Authors</span>
<a name="line-258"></a><span class="cm"> * and Group 42, Inc. disclaim all warranties, expressed or implied,</span>
<a name="line-259"></a><span class="cm"> * including, without limitation, the warranties of merchantability and of</span>
<a name="line-260"></a><span class="cm"> * fitness for any purpose.  The Contributing Authors and Group 42, Inc.</span>
<a name="line-261"></a><span class="cm"> * assume no liability for direct, indirect, incidental, special, exemplary,</span>
<a name="line-262"></a><span class="cm"> * or consequential damages, which may result from the use of the PNG</span>
<a name="line-263"></a><span class="cm"> * Reference Library, even if advised of the possibility of such damage.</span>
<a name="line-264"></a><span class="cm"> *</span>
<a name="line-265"></a><span class="cm"> * Permission is hereby granted to use, copy, modify, and distribute this</span>
<a name="line-266"></a><span class="cm"> * source code, or portions hereof, for any purpose, without fee, subject</span>
<a name="line-267"></a><span class="cm"> * to the following restrictions:</span>
<a name="line-268"></a><span class="cm"> *</span>
<a name="line-269"></a><span class="cm"> *   1. The origin of this source code must not be misrepresented.</span>
<a name="line-270"></a><span class="cm"> *</span>
<a name="line-271"></a><span class="cm"> *   2. Altered versions must be plainly marked as such and must not</span>
<a name="line-272"></a><span class="cm"> *      be misrepresented as being the original source.</span>
<a name="line-273"></a><span class="cm"> *</span>
<a name="line-274"></a><span class="cm"> *   3. This Copyright notice may not be removed or altered from</span>
<a name="line-275"></a><span class="cm"> *      any source or altered source distribution.</span>
<a name="line-276"></a><span class="cm"> *</span>
<a name="line-277"></a><span class="cm"> * The Contributing Authors and Group 42, Inc. specifically permit, without</span>
<a name="line-278"></a><span class="cm"> * fee, and encourage the use of this source code as a component to</span>
<a name="line-279"></a><span class="cm"> * supporting the PNG file format in commercial products.  If you use this</span>
<a name="line-280"></a><span class="cm"> * source code in a product, acknowledgment is not required but would be</span>
<a name="line-281"></a><span class="cm"> * appreciated.</span>
<a name="line-282"></a><span class="cm"> */</span>
<a name="line-283"></a>
<a name="line-284"></a><span class="cm">/*</span>
<a name="line-285"></a><span class="cm"> * A &quot;png_get_copyright&quot; function is available, for convenient use in &quot;about&quot;</span>
<a name="line-286"></a><span class="cm"> * boxes and the like:</span>
<a name="line-287"></a><span class="cm"> *</span>
<a name="line-288"></a><span class="cm"> *     printf(&quot;%s&quot;, png_get_copyright(NULL));</span>
<a name="line-289"></a><span class="cm"> *</span>
<a name="line-290"></a><span class="cm"> * Also, the PNG logo (in PNG format, of course) is supplied in the</span>
<a name="line-291"></a><span class="cm"> * files &quot;pngbar.png&quot; and &quot;pngbar.jpg (88x31) and &quot;pngnow.png&quot; (98x31).</span>
<a name="line-292"></a><span class="cm"> */</span>
<a name="line-293"></a>
<a name="line-294"></a><span class="cm">/*</span>
<a name="line-295"></a><span class="cm"> * Libpng is OSI Certified Open Source Software.  OSI Certified is a</span>
<a name="line-296"></a><span class="cm"> * certification mark of the Open Source Initiative.</span>
<a name="line-297"></a><span class="cm"> */</span>
<a name="line-298"></a>
<a name="line-299"></a><span class="cm">/*</span>
<a name="line-300"></a><span class="cm"> * The contributing authors would like to thank all those who helped</span>
<a name="line-301"></a><span class="cm"> * with testing, bug fixes, and patience.  This wouldn&#39;t have been</span>
<a name="line-302"></a><span class="cm"> * possible without all of you.</span>
<a name="line-303"></a><span class="cm"> *</span>
<a name="line-304"></a><span class="cm"> * Thanks to Frank J. T. Wojcik for helping with the documentation.</span>
<a name="line-305"></a><span class="cm"> */</span>
<a name="line-306"></a>
<a name="line-307"></a><span class="cm">/*</span>
<a name="line-308"></a><span class="cm"> * Y2K compliance in libpng:</span>
<a name="line-309"></a><span class="cm"> * =========================</span>
<a name="line-310"></a><span class="cm"> *</span>
<a name="line-311"></a><span class="cm"> *    December 15, 2011</span>
<a name="line-312"></a><span class="cm"> *</span>
<a name="line-313"></a><span class="cm"> *    Since the PNG Development group is an ad-hoc body, we can&#39;t make</span>
<a name="line-314"></a><span class="cm"> *    an official declaration.</span>
<a name="line-315"></a><span class="cm"> *</span>
<a name="line-316"></a><span class="cm"> *    This is your unofficial assurance that libpng from version 0.71 and</span>
<a name="line-317"></a><span class="cm"> *    upward through 1.5.7 are Y2K compliant.  It is my belief that</span>
<a name="line-318"></a><span class="cm"> *    earlier versions were also Y2K compliant.</span>
<a name="line-319"></a><span class="cm"> *</span>
<a name="line-320"></a><span class="cm"> *    Libpng only has two year fields.  One is a 2-byte unsigned integer</span>
<a name="line-321"></a><span class="cm"> *    that will hold years up to 65535.  The other holds the date in text</span>
<a name="line-322"></a><span class="cm"> *    format, and will hold years up to 9999.</span>
<a name="line-323"></a><span class="cm"> *</span>
<a name="line-324"></a><span class="cm"> *    The integer is</span>
<a name="line-325"></a><span class="cm"> *        &quot;png_uint_16 year&quot; in png_time_struct.</span>
<a name="line-326"></a><span class="cm"> *</span>
<a name="line-327"></a><span class="cm"> *    The string is</span>
<a name="line-328"></a><span class="cm"> *        &quot;png_char time_buffer&quot; in png_struct</span>
<a name="line-329"></a><span class="cm"> *</span>
<a name="line-330"></a><span class="cm"> *    There are seven time-related functions:</span>
<a name="line-331"></a><span class="cm"> *        png.c: png_convert_to_rfc_1123() in png.c</span>
<a name="line-332"></a><span class="cm"> *          (formerly png_convert_to_rfc_1152() in error)</span>
<a name="line-333"></a><span class="cm"> *        png_convert_from_struct_tm() in pngwrite.c, called in pngwrite.c</span>
<a name="line-334"></a><span class="cm"> *        png_convert_from_time_t() in pngwrite.c</span>
<a name="line-335"></a><span class="cm"> *        png_get_tIME() in pngget.c</span>
<a name="line-336"></a><span class="cm"> *        png_handle_tIME() in pngrutil.c, called in pngread.c</span>
<a name="line-337"></a><span class="cm"> *        png_set_tIME() in pngset.c</span>
<a name="line-338"></a><span class="cm"> *        png_write_tIME() in pngwutil.c, called in pngwrite.c</span>
<a name="line-339"></a><span class="cm"> *</span>
<a name="line-340"></a><span class="cm"> *    All handle dates properly in a Y2K environment.  The</span>
<a name="line-341"></a><span class="cm"> *    png_convert_from_time_t() function calls gmtime() to convert from system</span>
<a name="line-342"></a><span class="cm"> *    clock time, which returns (year - 1900), which we properly convert to</span>
<a name="line-343"></a><span class="cm"> *    the full 4-digit year.  There is a possibility that applications using</span>
<a name="line-344"></a><span class="cm"> *    libpng are not passing 4-digit years into the png_convert_to_rfc_1123()</span>
<a name="line-345"></a><span class="cm"> *    function, or that they are incorrectly passing only a 2-digit year</span>
<a name="line-346"></a><span class="cm"> *    instead of &quot;year - 1900&quot; into the png_convert_from_struct_tm() function,</span>
<a name="line-347"></a><span class="cm"> *    but this is not under our control.  The libpng documentation has always</span>
<a name="line-348"></a><span class="cm"> *    stated that it works with 4-digit years, and the APIs have been</span>
<a name="line-349"></a><span class="cm"> *    documented as such.</span>
<a name="line-350"></a><span class="cm"> *</span>
<a name="line-351"></a><span class="cm"> *    The tIME chunk itself is also Y2K compliant.  It uses a 2-byte unsigned</span>
<a name="line-352"></a><span class="cm"> *    integer to hold the year, and can hold years as large as 65535.</span>
<a name="line-353"></a><span class="cm"> *</span>
<a name="line-354"></a><span class="cm"> *    zlib, upon which libpng depends, is also Y2K compliant.  It contains</span>
<a name="line-355"></a><span class="cm"> *    no date-related code.</span>
<a name="line-356"></a><span class="cm"> *</span>
<a name="line-357"></a><span class="cm"> *       Glenn Randers-Pehrson</span>
<a name="line-358"></a><span class="cm"> *       libpng maintainer</span>
<a name="line-359"></a><span class="cm"> *       PNG Development Group</span>
<a name="line-360"></a><span class="cm"> */</span>
<a name="line-361"></a>
<a name="line-362"></a><span class="cp">#ifndef PNG_H</span>
<a name="line-363"></a><span class="cp">#define PNG_H</span>
<a name="line-364"></a>
<a name="line-365"></a><span class="cm">/* This is not the place to learn how to use libpng. The file libpng-manual.txt</span>
<a name="line-366"></a><span class="cm"> * describes how to use libpng, and the file example.c summarizes it</span>
<a name="line-367"></a><span class="cm"> * with some code on which to build.  This file is useful for looking</span>
<a name="line-368"></a><span class="cm"> * at the actual function definitions and structure components.</span>
<a name="line-369"></a><span class="cm"> *</span>
<a name="line-370"></a><span class="cm"> * If you just need to read a PNG file and don&#39;t want to read the documentation</span>
<a name="line-371"></a><span class="cm"> * skip to the end of this file and read the section entitled &#39;simplified API&#39;.</span>
<a name="line-372"></a><span class="cm"> */</span>
<a name="line-373"></a>
<a name="line-374"></a><span class="cm">/* Version information for png.h - this should match the version in png.c */</span>
<a name="line-375"></a><span class="cp">#define PNG_LIBPNG_VER_STRING &quot;1.5.7&quot;</span>
<a name="line-376"></a><span class="cp">#define PNG_HEADER_VERSION_STRING \</span>
<a name="line-377"></a><span class="cp">     &quot; libpng version 1.5.7 - December 15, 2011\n&quot;</span>
<a name="line-378"></a>
<a name="line-379"></a><span class="cp">#define PNG_LIBPNG_VER_SONUM   15</span>
<a name="line-380"></a><span class="cp">#define PNG_LIBPNG_VER_DLLNUM  15</span>
<a name="line-381"></a>
<a name="line-382"></a><span class="cm">/* These should match the first 3 components of PNG_LIBPNG_VER_STRING: */</span>
<a name="line-383"></a><span class="cp">#define PNG_LIBPNG_VER_MAJOR   1</span>
<a name="line-384"></a><span class="cp">#define PNG_LIBPNG_VER_MINOR   5</span>
<a name="line-385"></a><span class="cp">#define PNG_LIBPNG_VER_RELEASE 7</span>
<a name="line-386"></a>
<a name="line-387"></a><span class="cm">/* This should match the numeric part of the final component of</span>
<a name="line-388"></a><span class="cm"> * PNG_LIBPNG_VER_STRING, omitting any leading zero:</span>
<a name="line-389"></a><span class="cm"> */</span>
<a name="line-390"></a>
<a name="line-391"></a><span class="cp">#define PNG_LIBPNG_VER_BUILD  0</span>
<a name="line-392"></a>
<a name="line-393"></a><span class="cm">/* Release Status */</span>
<a name="line-394"></a><span class="cp">#define PNG_LIBPNG_BUILD_ALPHA    1</span>
<a name="line-395"></a><span class="cp">#define PNG_LIBPNG_BUILD_BETA     2</span>
<a name="line-396"></a><span class="cp">#define PNG_LIBPNG_BUILD_RC       3</span>
<a name="line-397"></a><span class="cp">#define PNG_LIBPNG_BUILD_STABLE   4</span>
<a name="line-398"></a><span class="cp">#define PNG_LIBPNG_BUILD_RELEASE_STATUS_MASK 7</span>
<a name="line-399"></a>
<a name="line-400"></a><span class="cm">/* Release-Specific Flags */</span>
<a name="line-401"></a><span class="cp">#define PNG_LIBPNG_BUILD_PATCH    8 </span><span class="cm">/* Can be OR&#39;ed with</span>
<a name="line-402"></a><span class="cm">                                       PNG_LIBPNG_BUILD_STABLE only */</span><span class="cp"></span>
<a name="line-403"></a><span class="cp">#define PNG_LIBPNG_BUILD_PRIVATE 16 </span><span class="cm">/* Cannot be OR&#39;ed with</span>
<a name="line-404"></a><span class="cm">                                       PNG_LIBPNG_BUILD_SPECIAL */</span><span class="cp"></span>
<a name="line-405"></a><span class="cp">#define PNG_LIBPNG_BUILD_SPECIAL 32 </span><span class="cm">/* Cannot be OR&#39;ed with</span>
<a name="line-406"></a><span class="cm">                                       PNG_LIBPNG_BUILD_PRIVATE */</span><span class="cp"></span>
<a name="line-407"></a>
<a name="line-408"></a><span class="cp">#define PNG_LIBPNG_BUILD_BASE_TYPE PNG_LIBPNG_BUILD_BETA</span>
<a name="line-409"></a>
<a name="line-410"></a><span class="cm">/* Careful here.  At one time, Guy wanted to use 082, but that would be octal.</span>
<a name="line-411"></a><span class="cm"> * We must not include leading zeros.</span>
<a name="line-412"></a><span class="cm"> * Versions 0.7 through 1.0.0 were in the range 0 to 100 here (only</span>
<a name="line-413"></a><span class="cm"> * version 1.0.0 was mis-numbered 100 instead of 10000).  From</span>
<a name="line-414"></a><span class="cm"> * version 1.0.1 it&#39;s    xxyyzz, where x=major, y=minor, z=release</span>
<a name="line-415"></a><span class="cm"> */</span>
<a name="line-416"></a><span class="cp">#define PNG_LIBPNG_VER 10507 </span><span class="cm">/* 1.5.7 */</span><span class="cp"></span>
<a name="line-417"></a>
<a name="line-418"></a><span class="cm">/* Library configuration: these options cannot be changed after</span>
<a name="line-419"></a><span class="cm"> * the library has been built.</span>
<a name="line-420"></a><span class="cm"> */</span>
<a name="line-421"></a><span class="cp">#ifndef PNGLCONF_H</span>
<a name="line-422"></a>    <span class="cm">/* If pnglibconf.h is missing, you can</span>
<a name="line-423"></a><span class="cm">     * copy scripts/pnglibconf.h.prebuilt to pnglibconf.h</span>
<a name="line-424"></a><span class="cm">     */</span>
<a name="line-425"></a><span class="cp">#   include &quot;pnglibconf.h&quot;</span>
<a name="line-426"></a><span class="cp">#endif</span>
<a name="line-427"></a>
<a name="line-428"></a><span class="cp">#ifndef PNG_VERSION_INFO_ONLY</span>
<a name="line-429"></a><span class="cp">#  ifndef PNG_BUILDING_SYMBOL_TABLE</span>
<a name="line-430"></a>  <span class="cm">/*</span>
<a name="line-431"></a><span class="cm">   *   Standard header files (not needed for the version info or while</span>
<a name="line-432"></a><span class="cm">   *   building symbol table -- see scripts/pnglibconf.dfa)</span>
<a name="line-433"></a><span class="cm">   */</span>
<a name="line-434"></a><span class="cp">#    ifdef PNG_SETJMP_SUPPORTED</span>
<a name="line-435"></a><span class="cp">#      include &lt;setjmp.h&gt;</span>
<a name="line-436"></a><span class="cp">#    endif</span>
<a name="line-437"></a>
<a name="line-438"></a>    <span class="cm">/* Need the time information for converting tIME chunks, it</span>
<a name="line-439"></a><span class="cm">     * defines struct tm:</span>
<a name="line-440"></a><span class="cm">     */</span>
<a name="line-441"></a><span class="cp">#    ifdef PNG_CONVERT_tIME_SUPPORTED</span>
<a name="line-442"></a>       <span class="cm">/* &quot;time.h&quot; functions are not supported on all operating systems */</span>
<a name="line-443"></a><span class="cp">#      include &lt;time.h&gt;</span>
<a name="line-444"></a><span class="cp">#    endif</span>
<a name="line-445"></a><span class="cp">#  endif</span>
<a name="line-446"></a>
<a name="line-447"></a><span class="cm">/* Machine specific configuration. */</span>
<a name="line-448"></a><span class="cp">#  include &quot;pngconf.h&quot;</span>
<a name="line-449"></a><span class="cp">#endif</span>
<a name="line-450"></a>
<a name="line-451"></a><span class="cm">/*</span>
<a name="line-452"></a><span class="cm"> * Added at libpng-1.2.8</span>
<a name="line-453"></a><span class="cm"> *</span>
<a name="line-454"></a><span class="cm"> * Ref MSDN: Private as priority over Special</span>
<a name="line-455"></a><span class="cm"> * VS_FF_PRIVATEBUILD File *was not* built using standard release</span>
<a name="line-456"></a><span class="cm"> * procedures. If this value is given, the StringFileInfo block must</span>
<a name="line-457"></a><span class="cm"> * contain a PrivateBuild string.</span>
<a name="line-458"></a><span class="cm"> *</span>
<a name="line-459"></a><span class="cm"> * VS_FF_SPECIALBUILD File *was* built by the original company using</span>
<a name="line-460"></a><span class="cm"> * standard release procedures but is a variation of the standard</span>
<a name="line-461"></a><span class="cm"> * file of the same version number. If this value is given, the</span>
<a name="line-462"></a><span class="cm"> * StringFileInfo block must contain a SpecialBuild string.</span>
<a name="line-463"></a><span class="cm"> */</span>
<a name="line-464"></a>
<a name="line-465"></a><span class="cp">#ifdef PNG_USER_PRIVATEBUILD </span><span class="cm">/* From pnglibconf.h */</span><span class="cp"></span>
<a name="line-466"></a><span class="cp">#  define PNG_LIBPNG_BUILD_TYPE \</span>
<a name="line-467"></a><span class="cp">       (PNG_LIBPNG_BUILD_BASE_TYPE | PNG_LIBPNG_BUILD_PRIVATE)</span>
<a name="line-468"></a><span class="cp">#else</span>
<a name="line-469"></a><span class="cp">#  ifdef PNG_LIBPNG_SPECIALBUILD</span>
<a name="line-470"></a><span class="cp">#    define PNG_LIBPNG_BUILD_TYPE \</span>
<a name="line-471"></a><span class="cp">         (PNG_LIBPNG_BUILD_BASE_TYPE | PNG_LIBPNG_BUILD_SPECIAL)</span>
<a name="line-472"></a><span class="cp">#  else</span>
<a name="line-473"></a><span class="cp">#    define PNG_LIBPNG_BUILD_TYPE (PNG_LIBPNG_BUILD_BASE_TYPE)</span>
<a name="line-474"></a><span class="cp">#  endif</span>
<a name="line-475"></a><span class="cp">#endif</span>
<a name="line-476"></a>
<a name="line-477"></a><span class="cp">#ifndef PNG_VERSION_INFO_ONLY</span>
<a name="line-478"></a>
<a name="line-479"></a><span class="cm">/* Inhibit C++ name-mangling for libpng functions but not for system calls. */</span>
<a name="line-480"></a><span class="cp">#ifdef __cplusplus</span>
<a name="line-481"></a><span class="k">extern</span> <span class="s">&quot;C&quot;</span> <span class="p">{</span>
<a name="line-482"></a><span class="cp">#endif </span><span class="cm">/* __cplusplus */</span><span class="cp"></span>
<a name="line-483"></a>
<a name="line-484"></a><span class="cm">/* Version information for C files, stored in png.c.  This had better match</span>
<a name="line-485"></a><span class="cm"> * the version above.</span>
<a name="line-486"></a><span class="cm"> */</span>
<a name="line-487"></a><span class="cp">#define png_libpng_ver png_get_header_ver(NULL)</span>
<a name="line-488"></a>
<a name="line-489"></a><span class="cm">/* This file is arranged in several sections:</span>
<a name="line-490"></a><span class="cm"> *</span>
<a name="line-491"></a><span class="cm"> * 1. Any configuration options that can be specified by for the application</span>
<a name="line-492"></a><span class="cm"> *    code when it is built.  (Build time configuration is in pnglibconf.h)</span>
<a name="line-493"></a><span class="cm"> * 2. Type definitions (base types are defined in pngconf.h), structure</span>
<a name="line-494"></a><span class="cm"> *    definitions.</span>
<a name="line-495"></a><span class="cm"> * 3. Exported library functions.</span>
<a name="line-496"></a><span class="cm"> *</span>
<a name="line-497"></a><span class="cm"> * The library source code has additional files (principally pngpriv.h) that</span>
<a name="line-498"></a><span class="cm"> * allow configuration of the library.</span>
<a name="line-499"></a><span class="cm"> */</span>
<a name="line-500"></a><span class="cm">/* Section 1: run time configuration</span>
<a name="line-501"></a><span class="cm"> * See pnglibconf.h for build time configuration</span>
<a name="line-502"></a><span class="cm"> *</span>
<a name="line-503"></a><span class="cm"> * Run time configuration allows the application to choose between</span>
<a name="line-504"></a><span class="cm"> * implementations of certain arithmetic APIs.  The default is set</span>
<a name="line-505"></a><span class="cm"> * at build time and recorded in pnglibconf.h, but it is safe to</span>
<a name="line-506"></a><span class="cm"> * override these (and only these) settings.  Note that this won&#39;t</span>
<a name="line-507"></a><span class="cm"> * change what the library does, only application code, and the</span>
<a name="line-508"></a><span class="cm"> * settings can (and probably should) be made on a per-file basis</span>
<a name="line-509"></a><span class="cm"> * by setting the #defines before including png.h</span>
<a name="line-510"></a><span class="cm"> *</span>
<a name="line-511"></a><span class="cm"> * Use macros to read integers from PNG data or use the exported</span>
<a name="line-512"></a><span class="cm"> * functions?</span>
<a name="line-513"></a><span class="cm"> *   PNG_USE_READ_MACROS: use the macros (see below)  Note that</span>
<a name="line-514"></a><span class="cm"> *     the macros evaluate their argument multiple times.</span>
<a name="line-515"></a><span class="cm"> *   PNG_NO_USE_READ_MACROS: call the relevant library function.</span>
<a name="line-516"></a><span class="cm"> *</span>
<a name="line-517"></a><span class="cm"> * Use the alternative algorithm for compositing alpha samples that</span>
<a name="line-518"></a><span class="cm"> * does not use division?</span>
<a name="line-519"></a><span class="cm"> *   PNG_READ_COMPOSITE_NODIV_SUPPORTED: use the &#39;no division&#39;</span>
<a name="line-520"></a><span class="cm"> *      algorithm.</span>
<a name="line-521"></a><span class="cm"> *   PNG_NO_READ_COMPOSITE_NODIV: use the &#39;division&#39; algorithm.</span>
<a name="line-522"></a><span class="cm"> *</span>
<a name="line-523"></a><span class="cm"> * How to handle benign errors if PNG_ALLOW_BENIGN_ERRORS is</span>
<a name="line-524"></a><span class="cm"> * false?</span>
<a name="line-525"></a><span class="cm"> *   PNG_ALLOW_BENIGN_ERRORS: map calls to the benign error</span>
<a name="line-526"></a><span class="cm"> *      APIs to png_warning.</span>
<a name="line-527"></a><span class="cm"> * Otherwise the calls are mapped to png_error.</span>
<a name="line-528"></a><span class="cm"> */</span>
<a name="line-529"></a>
<a name="line-530"></a><span class="cm">/* Section 2: type definitions, including structures and compile time</span>
<a name="line-531"></a><span class="cm"> * constants.</span>
<a name="line-532"></a><span class="cm"> * See pngconf.h for base types that vary by machine/system</span>
<a name="line-533"></a><span class="cm"> */</span>
<a name="line-534"></a>
<a name="line-535"></a><span class="cm">/* This triggers a compiler error in png.c, if png.c and png.h</span>
<a name="line-536"></a><span class="cm"> * do not agree upon the version number.</span>
<a name="line-537"></a><span class="cm"> */</span>
<a name="line-538"></a><span class="k">typedef</span> <span class="kt">char</span><span class="o">*</span> <span class="n">png_libpng_version_1_5_7</span><span class="p">;</span>
<a name="line-539"></a>
<a name="line-540"></a><span class="cm">/* Three color definitions.  The order of the red, green, and blue, (and the</span>
<a name="line-541"></a><span class="cm"> * exact size) is not important, although the size of the fields need to</span>
<a name="line-542"></a><span class="cm"> * be png_byte or png_uint_16 (as defined below).</span>
<a name="line-543"></a><span class="cm"> */</span>
<a name="line-544"></a><span class="k">typedef</span> <span class="k">struct</span> <span class="n">png_color_struct</span>
<a name="line-545"></a><span class="p">{</span>
<a name="line-546"></a>   <span class="n">png_byte</span> <span class="n">red</span><span class="p">;</span>
<a name="line-547"></a>   <span class="n">png_byte</span> <span class="n">green</span><span class="p">;</span>
<a name="line-548"></a>   <span class="n">png_byte</span> <span class="n">blue</span><span class="p">;</span>
<a name="line-549"></a><span class="p">}</span> <span class="n">png_color</span><span class="p">;</span>
<a name="line-550"></a><span class="k">typedef</span> <span class="n">png_color</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_colorp</span><span class="p">;</span>
<a name="line-551"></a><span class="k">typedef</span> <span class="n">PNG_CONST</span> <span class="n">png_color</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_const_colorp</span><span class="p">;</span>
<a name="line-552"></a><span class="k">typedef</span> <span class="n">png_color</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_colorpp</span><span class="p">;</span>
<a name="line-553"></a>
<a name="line-554"></a><span class="k">typedef</span> <span class="k">struct</span> <span class="n">png_color_16_struct</span>
<a name="line-555"></a><span class="p">{</span>
<a name="line-556"></a>   <span class="n">png_byte</span> <span class="n">index</span><span class="p">;</span>    <span class="cm">/* used for palette files */</span>
<a name="line-557"></a>   <span class="n">png_uint_16</span> <span class="n">red</span><span class="p">;</span>   <span class="cm">/* for use in red green blue files */</span>
<a name="line-558"></a>   <span class="n">png_uint_16</span> <span class="n">green</span><span class="p">;</span>
<a name="line-559"></a>   <span class="n">png_uint_16</span> <span class="n">blue</span><span class="p">;</span>
<a name="line-560"></a>   <span class="n">png_uint_16</span> <span class="n">gray</span><span class="p">;</span>  <span class="cm">/* for use in grayscale files */</span>
<a name="line-561"></a><span class="p">}</span> <span class="n">png_color_16</span><span class="p">;</span>
<a name="line-562"></a><span class="k">typedef</span> <span class="n">png_color_16</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_color_16p</span><span class="p">;</span>
<a name="line-563"></a><span class="k">typedef</span> <span class="n">PNG_CONST</span> <span class="n">png_color_16</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_const_color_16p</span><span class="p">;</span>
<a name="line-564"></a><span class="k">typedef</span> <span class="n">png_color_16</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_color_16pp</span><span class="p">;</span>
<a name="line-565"></a>
<a name="line-566"></a><span class="k">typedef</span> <span class="k">struct</span> <span class="n">png_color_8_struct</span>
<a name="line-567"></a><span class="p">{</span>
<a name="line-568"></a>   <span class="n">png_byte</span> <span class="n">red</span><span class="p">;</span>   <span class="cm">/* for use in red green blue files */</span>
<a name="line-569"></a>   <span class="n">png_byte</span> <span class="n">green</span><span class="p">;</span>
<a name="line-570"></a>   <span class="n">png_byte</span> <span class="n">blue</span><span class="p">;</span>
<a name="line-571"></a>   <span class="n">png_byte</span> <span class="n">gray</span><span class="p">;</span>  <span class="cm">/* for use in grayscale files */</span>
<a name="line-572"></a>   <span class="n">png_byte</span> <span class="n">alpha</span><span class="p">;</span> <span class="cm">/* for alpha channel files */</span>
<a name="line-573"></a><span class="p">}</span> <span class="n">png_color_8</span><span class="p">;</span>
<a name="line-574"></a><span class="k">typedef</span> <span class="n">png_color_8</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_color_8p</span><span class="p">;</span>
<a name="line-575"></a><span class="k">typedef</span> <span class="n">PNG_CONST</span> <span class="n">png_color_8</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_const_color_8p</span><span class="p">;</span>
<a name="line-576"></a><span class="k">typedef</span> <span class="n">png_color_8</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_color_8pp</span><span class="p">;</span>
<a name="line-577"></a>
<a name="line-578"></a><span class="cm">/*</span>
<a name="line-579"></a><span class="cm"> * The following two structures are used for the in-core representation</span>
<a name="line-580"></a><span class="cm"> * of sPLT chunks.</span>
<a name="line-581"></a><span class="cm"> */</span>
<a name="line-582"></a><span class="k">typedef</span> <span class="k">struct</span> <span class="n">png_sPLT_entry_struct</span>
<a name="line-583"></a><span class="p">{</span>
<a name="line-584"></a>   <span class="n">png_uint_16</span> <span class="n">red</span><span class="p">;</span>
<a name="line-585"></a>   <span class="n">png_uint_16</span> <span class="n">green</span><span class="p">;</span>
<a name="line-586"></a>   <span class="n">png_uint_16</span> <span class="n">blue</span><span class="p">;</span>
<a name="line-587"></a>   <span class="n">png_uint_16</span> <span class="n">alpha</span><span class="p">;</span>
<a name="line-588"></a>   <span class="n">png_uint_16</span> <span class="n">frequency</span><span class="p">;</span>
<a name="line-589"></a><span class="p">}</span> <span class="n">png_sPLT_entry</span><span class="p">;</span>
<a name="line-590"></a><span class="k">typedef</span> <span class="n">png_sPLT_entry</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_sPLT_entryp</span><span class="p">;</span>
<a name="line-591"></a><span class="k">typedef</span> <span class="n">PNG_CONST</span> <span class="n">png_sPLT_entry</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_const_sPLT_entryp</span><span class="p">;</span>
<a name="line-592"></a><span class="k">typedef</span> <span class="n">png_sPLT_entry</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_sPLT_entrypp</span><span class="p">;</span>
<a name="line-593"></a>
<a name="line-594"></a><span class="cm">/*  When the depth of the sPLT palette is 8 bits, the color and alpha samples</span>
<a name="line-595"></a><span class="cm"> *  occupy the LSB of their respective members, and the MSB of each member</span>
<a name="line-596"></a><span class="cm"> *  is zero-filled.  The frequency member always occupies the full 16 bits.</span>
<a name="line-597"></a><span class="cm"> */</span>
<a name="line-598"></a>
<a name="line-599"></a><span class="k">typedef</span> <span class="k">struct</span> <span class="n">png_sPLT_struct</span>
<a name="line-600"></a><span class="p">{</span>
<a name="line-601"></a>   <span class="n">png_charp</span> <span class="n">name</span><span class="p">;</span>           <span class="cm">/* palette name */</span>
<a name="line-602"></a>   <span class="n">png_byte</span> <span class="n">depth</span><span class="p">;</span>           <span class="cm">/* depth of palette samples */</span>
<a name="line-603"></a>   <span class="n">png_sPLT_entryp</span> <span class="n">entries</span><span class="p">;</span>  <span class="cm">/* palette entries */</span>
<a name="line-604"></a>   <span class="n">png_int_32</span> <span class="n">nentries</span><span class="p">;</span>      <span class="cm">/* number of palette entries */</span>
<a name="line-605"></a><span class="p">}</span> <span class="n">png_sPLT_t</span><span class="p">;</span>
<a name="line-606"></a><span class="k">typedef</span> <span class="n">png_sPLT_t</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_sPLT_tp</span><span class="p">;</span>
<a name="line-607"></a><span class="k">typedef</span> <span class="n">PNG_CONST</span> <span class="n">png_sPLT_t</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_const_sPLT_tp</span><span class="p">;</span>
<a name="line-608"></a><span class="k">typedef</span> <span class="n">png_sPLT_t</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_sPLT_tpp</span><span class="p">;</span>
<a name="line-609"></a>
<a name="line-610"></a><span class="cp">#ifdef PNG_TEXT_SUPPORTED</span>
<a name="line-611"></a><span class="cm">/* png_text holds the contents of a text/ztxt/itxt chunk in a PNG file,</span>
<a name="line-612"></a><span class="cm"> * and whether that contents is compressed or not.  The &quot;key&quot; field</span>
<a name="line-613"></a><span class="cm"> * points to a regular zero-terminated C string.  The &quot;text&quot; fields can be a</span>
<a name="line-614"></a><span class="cm"> * regular C string, an empty string, or a NULL pointer.</span>
<a name="line-615"></a><span class="cm"> * However, the structure returned by png_get_text() will always contain</span>
<a name="line-616"></a><span class="cm"> * the &quot;text&quot; field as a regular zero-terminated C string (possibly</span>
<a name="line-617"></a><span class="cm"> * empty), never a NULL pointer, so it can be safely used in printf() and</span>
<a name="line-618"></a><span class="cm"> * other string-handling functions.  Note that the &quot;itxt_length&quot;, &quot;lang&quot;, and</span>
<a name="line-619"></a><span class="cm"> * &quot;lang_key&quot; members of the structure only exist when the library is built</span>
<a name="line-620"></a><span class="cm"> * with iTXt chunk support.  Prior to libpng-1.4.0 the library was built by</span>
<a name="line-621"></a><span class="cm"> * default without iTXt support. Also note that when iTXt *is* supported,</span>
<a name="line-622"></a><span class="cm"> * the &quot;lang&quot; and &quot;lang_key&quot; fields contain NULL pointers when the</span>
<a name="line-623"></a><span class="cm"> * &quot;compression&quot; field contains * PNG_TEXT_COMPRESSION_NONE or</span>
<a name="line-624"></a><span class="cm"> * PNG_TEXT_COMPRESSION_zTXt. Note that the &quot;compression value&quot; is not the</span>
<a name="line-625"></a><span class="cm"> * same as what appears in the PNG tEXt/zTXt/iTXt chunk&#39;s &quot;compression flag&quot;</span>
<a name="line-626"></a><span class="cm"> * which is always 0 or 1, or its &quot;compression method&quot; which is always 0.</span>
<a name="line-627"></a><span class="cm"> */</span>
<a name="line-628"></a><span class="k">typedef</span> <span class="k">struct</span> <span class="n">png_text_struct</span>
<a name="line-629"></a><span class="p">{</span>
<a name="line-630"></a>   <span class="kt">int</span>  <span class="n">compression</span><span class="p">;</span>       <span class="cm">/* compression value:</span>
<a name="line-631"></a><span class="cm">                             -1: tEXt, none</span>
<a name="line-632"></a><span class="cm">                              0: zTXt, deflate</span>
<a name="line-633"></a><span class="cm">                              1: iTXt, none</span>
<a name="line-634"></a><span class="cm">                              2: iTXt, deflate  */</span>
<a name="line-635"></a>   <span class="n">png_charp</span> <span class="n">key</span><span class="p">;</span>          <span class="cm">/* keyword, 1-79 character description of &quot;text&quot; */</span>
<a name="line-636"></a>   <span class="n">png_charp</span> <span class="n">text</span><span class="p">;</span>         <span class="cm">/* comment, may be an empty string (ie &quot;&quot;)</span>
<a name="line-637"></a><span class="cm">                              or a NULL pointer */</span>
<a name="line-638"></a>   <span class="kt">png_size_t</span> <span class="n">text_length</span><span class="p">;</span> <span class="cm">/* length of the text string */</span>
<a name="line-639"></a>   <span class="kt">png_size_t</span> <span class="n">itxt_length</span><span class="p">;</span> <span class="cm">/* length of the itxt string */</span>
<a name="line-640"></a>   <span class="n">png_charp</span> <span class="n">lang</span><span class="p">;</span>         <span class="cm">/* language code, 0-79 characters</span>
<a name="line-641"></a><span class="cm">                              or a NULL pointer */</span>
<a name="line-642"></a>   <span class="n">png_charp</span> <span class="n">lang_key</span><span class="p">;</span>     <span class="cm">/* keyword translated UTF-8 string, 0 or more</span>
<a name="line-643"></a><span class="cm">                              chars or a NULL pointer */</span>
<a name="line-644"></a><span class="p">}</span> <span class="n">png_text</span><span class="p">;</span>
<a name="line-645"></a><span class="k">typedef</span> <span class="n">png_text</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_textp</span><span class="p">;</span>
<a name="line-646"></a><span class="k">typedef</span> <span class="n">PNG_CONST</span> <span class="n">png_text</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_const_textp</span><span class="p">;</span>
<a name="line-647"></a><span class="k">typedef</span> <span class="n">png_text</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_textpp</span><span class="p">;</span>
<a name="line-648"></a><span class="cp">#endif</span>
<a name="line-649"></a>
<a name="line-650"></a><span class="cm">/* Supported compression types for text in PNG files (tEXt, and zTXt).</span>
<a name="line-651"></a><span class="cm"> * The values of the PNG_TEXT_COMPRESSION_ defines should NOT be changed. */</span>
<a name="line-652"></a><span class="cp">#define PNG_TEXT_COMPRESSION_NONE_WR -3</span>
<a name="line-653"></a><span class="cp">#define PNG_TEXT_COMPRESSION_zTXt_WR -2</span>
<a name="line-654"></a><span class="cp">#define PNG_TEXT_COMPRESSION_NONE    -1</span>
<a name="line-655"></a><span class="cp">#define PNG_TEXT_COMPRESSION_zTXt     0</span>
<a name="line-656"></a><span class="cp">#define PNG_ITXT_COMPRESSION_NONE     1</span>
<a name="line-657"></a><span class="cp">#define PNG_ITXT_COMPRESSION_zTXt     2</span>
<a name="line-658"></a><span class="cp">#define PNG_TEXT_COMPRESSION_LAST     3  </span><span class="cm">/* Not a valid value */</span><span class="cp"></span>
<a name="line-659"></a>
<a name="line-660"></a><span class="cm">/* png_time is a way to hold the time in an machine independent way.</span>
<a name="line-661"></a><span class="cm"> * Two conversions are provided, both from time_t and struct tm.  There</span>
<a name="line-662"></a><span class="cm"> * is no portable way to convert to either of these structures, as far</span>
<a name="line-663"></a><span class="cm"> * as I know.  If you know of a portable way, send it to me.  As a side</span>
<a name="line-664"></a><span class="cm"> * note - PNG has always been Year 2000 compliant!</span>
<a name="line-665"></a><span class="cm"> */</span>
<a name="line-666"></a><span class="k">typedef</span> <span class="k">struct</span> <span class="n">png_time_struct</span>
<a name="line-667"></a><span class="p">{</span>
<a name="line-668"></a>   <span class="n">png_uint_16</span> <span class="n">year</span><span class="p">;</span> <span class="cm">/* full year, as in, 1995 */</span>
<a name="line-669"></a>   <span class="n">png_byte</span> <span class="n">month</span><span class="p">;</span>   <span class="cm">/* month of year, 1 - 12 */</span>
<a name="line-670"></a>   <span class="n">png_byte</span> <span class="n">day</span><span class="p">;</span>     <span class="cm">/* day of month, 1 - 31 */</span>
<a name="line-671"></a>   <span class="n">png_byte</span> <span class="n">hour</span><span class="p">;</span>    <span class="cm">/* hour of day, 0 - 23 */</span>
<a name="line-672"></a>   <span class="n">png_byte</span> <span class="n">minute</span><span class="p">;</span>  <span class="cm">/* minute of hour, 0 - 59 */</span>
<a name="line-673"></a>   <span class="n">png_byte</span> <span class="n">second</span><span class="p">;</span>  <span class="cm">/* second of minute, 0 - 60 (for leap seconds) */</span>
<a name="line-674"></a><span class="p">}</span> <span class="n">png_time</span><span class="p">;</span>
<a name="line-675"></a><span class="k">typedef</span> <span class="n">png_time</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_timep</span><span class="p">;</span>
<a name="line-676"></a><span class="k">typedef</span> <span class="n">PNG_CONST</span> <span class="n">png_time</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_const_timep</span><span class="p">;</span>
<a name="line-677"></a><span class="k">typedef</span> <span class="n">png_time</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_timepp</span><span class="p">;</span>
<a name="line-678"></a>
<a name="line-679"></a><span class="cp">#if defined(PNG_UNKNOWN_CHUNKS_SUPPORTED) || \</span>
<a name="line-680"></a><span class="cp">    defined(PNG_HANDLE_AS_UNKNOWN_SUPPORTED)</span>
<a name="line-681"></a><span class="cm">/* png_unknown_chunk is a structure to hold queued chunks for which there is</span>
<a name="line-682"></a><span class="cm"> * no specific support.  The idea is that we can use this to queue</span>
<a name="line-683"></a><span class="cm"> * up private chunks for output even though the library doesn&#39;t actually</span>
<a name="line-684"></a><span class="cm"> * know about their semantics.</span>
<a name="line-685"></a><span class="cm"> */</span>
<a name="line-686"></a><span class="k">typedef</span> <span class="k">struct</span> <span class="kt">png_unknown_chunk_t</span>
<a name="line-687"></a><span class="p">{</span>
<a name="line-688"></a>    <span class="n">png_byte</span> <span class="n">name</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
<a name="line-689"></a>    <span class="n">png_byte</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span>
<a name="line-690"></a>    <span class="kt">png_size_t</span> <span class="n">size</span><span class="p">;</span>
<a name="line-691"></a>
<a name="line-692"></a>    <span class="cm">/* libpng-using applications should NOT directly modify this byte. */</span>
<a name="line-693"></a>    <span class="n">png_byte</span> <span class="n">location</span><span class="p">;</span> <span class="cm">/* mode of operation at read time */</span>
<a name="line-694"></a><span class="p">}</span>
<a name="line-695"></a>
<a name="line-696"></a>
<a name="line-697"></a><span class="n">png_unknown_chunk</span><span class="p">;</span>
<a name="line-698"></a><span class="k">typedef</span> <span class="n">png_unknown_chunk</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_unknown_chunkp</span><span class="p">;</span>
<a name="line-699"></a><span class="k">typedef</span> <span class="n">PNG_CONST</span> <span class="n">png_unknown_chunk</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_const_unknown_chunkp</span><span class="p">;</span>
<a name="line-700"></a><span class="k">typedef</span> <span class="n">png_unknown_chunk</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_unknown_chunkpp</span><span class="p">;</span>
<a name="line-701"></a><span class="cp">#endif</span>
<a name="line-702"></a>
<a name="line-703"></a><span class="cm">/* Values for the unknown chunk location byte */</span>
<a name="line-704"></a>
<a name="line-705"></a><span class="cp">#define PNG_HAVE_IHDR  0x01</span>
<a name="line-706"></a><span class="cp">#define PNG_HAVE_PLTE  0x02</span>
<a name="line-707"></a><span class="cp">#define PNG_AFTER_IDAT 0x08</span>
<a name="line-708"></a>
<a name="line-709"></a><span class="cm">/* The complete definition of png_info has, as of libpng-1.5.0,</span>
<a name="line-710"></a><span class="cm"> * been moved into a separate header file that is not accessible to</span>
<a name="line-711"></a><span class="cm"> * applications.  Read libpng-manual.txt or libpng.3 for more info.</span>
<a name="line-712"></a><span class="cm"> */</span>
<a name="line-713"></a><span class="k">typedef</span> <span class="k">struct</span> <span class="n">png_info_def</span> <span class="n">png_info</span><span class="p">;</span>
<a name="line-714"></a><span class="k">typedef</span> <span class="n">png_info</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_infop</span><span class="p">;</span>
<a name="line-715"></a><span class="k">typedef</span> <span class="n">PNG_CONST</span> <span class="n">png_info</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_const_infop</span><span class="p">;</span>
<a name="line-716"></a><span class="k">typedef</span> <span class="n">png_info</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_infopp</span><span class="p">;</span>
<a name="line-717"></a>
<a name="line-718"></a><span class="cm">/* Maximum positive integer used in PNG is (2^31)-1 */</span>
<a name="line-719"></a><span class="cp">#define PNG_UINT_31_MAX ((png_uint_32)0x7fffffffL)</span>
<a name="line-720"></a><span class="cp">#define PNG_UINT_32_MAX ((png_uint_32)(-1))</span>
<a name="line-721"></a><span class="cp">#define PNG_SIZE_MAX ((png_size_t)(-1))</span>
<a name="line-722"></a>
<a name="line-723"></a><span class="cm">/* These are constants for fixed point values encoded in the</span>
<a name="line-724"></a><span class="cm"> * PNG specification manner (x100000)</span>
<a name="line-725"></a><span class="cm"> */</span>
<a name="line-726"></a><span class="cp">#define PNG_FP_1    100000</span>
<a name="line-727"></a><span class="cp">#define PNG_FP_HALF  50000</span>
<a name="line-728"></a><span class="cp">#define PNG_FP_MAX  ((png_fixed_point)0x7fffffffL)</span>
<a name="line-729"></a><span class="cp">#define PNG_FP_MIN  (-PNG_FP_MAX)</span>
<a name="line-730"></a>
<a name="line-731"></a><span class="cm">/* These describe the color_type field in png_info. */</span>
<a name="line-732"></a><span class="cm">/* color type masks */</span>
<a name="line-733"></a><span class="cp">#define PNG_COLOR_MASK_PALETTE    1</span>
<a name="line-734"></a><span class="cp">#define PNG_COLOR_MASK_COLOR      2</span>
<a name="line-735"></a><span class="cp">#define PNG_COLOR_MASK_ALPHA      4</span>
<a name="line-736"></a>
<a name="line-737"></a><span class="cm">/* color types.  Note that not all combinations are legal */</span>
<a name="line-738"></a><span class="cp">#define PNG_COLOR_TYPE_GRAY 0</span>
<a name="line-739"></a><span class="cp">#define PNG_COLOR_TYPE_PALETTE  (PNG_COLOR_MASK_COLOR | PNG_COLOR_MASK_PALETTE)</span>
<a name="line-740"></a><span class="cp">#define PNG_COLOR_TYPE_RGB        (PNG_COLOR_MASK_COLOR)</span>
<a name="line-741"></a><span class="cp">#define PNG_COLOR_TYPE_RGB_ALPHA  (PNG_COLOR_MASK_COLOR | PNG_COLOR_MASK_ALPHA)</span>
<a name="line-742"></a><span class="cp">#define PNG_COLOR_TYPE_GRAY_ALPHA (PNG_COLOR_MASK_ALPHA)</span>
<a name="line-743"></a><span class="cm">/* aliases */</span>
<a name="line-744"></a><span class="cp">#define PNG_COLOR_TYPE_RGBA  PNG_COLOR_TYPE_RGB_ALPHA</span>
<a name="line-745"></a><span class="cp">#define PNG_COLOR_TYPE_GA  PNG_COLOR_TYPE_GRAY_ALPHA</span>
<a name="line-746"></a>
<a name="line-747"></a><span class="cm">/* This is for compression type. PNG 1.0-1.2 only define the single type. */</span>
<a name="line-748"></a><span class="cp">#define PNG_COMPRESSION_TYPE_BASE 0 </span><span class="cm">/* Deflate method 8, 32K window */</span><span class="cp"></span>
<a name="line-749"></a><span class="cp">#define PNG_COMPRESSION_TYPE_DEFAULT PNG_COMPRESSION_TYPE_BASE</span>
<a name="line-750"></a>
<a name="line-751"></a><span class="cm">/* This is for filter type. PNG 1.0-1.2 only define the single type. */</span>
<a name="line-752"></a><span class="cp">#define PNG_FILTER_TYPE_BASE      0 </span><span class="cm">/* Single row per-byte filtering */</span><span class="cp"></span>
<a name="line-753"></a><span class="cp">#define PNG_INTRAPIXEL_DIFFERENCING 64 </span><span class="cm">/* Used only in MNG datastreams */</span><span class="cp"></span>
<a name="line-754"></a><span class="cp">#define PNG_FILTER_TYPE_DEFAULT   PNG_FILTER_TYPE_BASE</span>
<a name="line-755"></a>
<a name="line-756"></a><span class="cm">/* These are for the interlacing type.  These values should NOT be changed. */</span>
<a name="line-757"></a><span class="cp">#define PNG_INTERLACE_NONE        0 </span><span class="cm">/* Non-interlaced image */</span><span class="cp"></span>
<a name="line-758"></a><span class="cp">#define PNG_INTERLACE_ADAM7       1 </span><span class="cm">/* Adam7 interlacing */</span><span class="cp"></span>
<a name="line-759"></a><span class="cp">#define PNG_INTERLACE_LAST        2 </span><span class="cm">/* Not a valid value */</span><span class="cp"></span>
<a name="line-760"></a>
<a name="line-761"></a><span class="cm">/* These are for the oFFs chunk.  These values should NOT be changed. */</span>
<a name="line-762"></a><span class="cp">#define PNG_OFFSET_PIXEL          0 </span><span class="cm">/* Offset in pixels */</span><span class="cp"></span>
<a name="line-763"></a><span class="cp">#define PNG_OFFSET_MICROMETER     1 </span><span class="cm">/* Offset in micrometers (1/10^6 meter) */</span><span class="cp"></span>
<a name="line-764"></a><span class="cp">#define PNG_OFFSET_LAST           2 </span><span class="cm">/* Not a valid value */</span><span class="cp"></span>
<a name="line-765"></a>
<a name="line-766"></a><span class="cm">/* These are for the pCAL chunk.  These values should NOT be changed. */</span>
<a name="line-767"></a><span class="cp">#define PNG_EQUATION_LINEAR       0 </span><span class="cm">/* Linear transformation */</span><span class="cp"></span>
<a name="line-768"></a><span class="cp">#define PNG_EQUATION_BASE_E       1 </span><span class="cm">/* Exponential base e transform */</span><span class="cp"></span>
<a name="line-769"></a><span class="cp">#define PNG_EQUATION_ARBITRARY    2 </span><span class="cm">/* Arbitrary base exponential transform */</span><span class="cp"></span>
<a name="line-770"></a><span class="cp">#define PNG_EQUATION_HYPERBOLIC   3 </span><span class="cm">/* Hyperbolic sine transformation */</span><span class="cp"></span>
<a name="line-771"></a><span class="cp">#define PNG_EQUATION_LAST         4 </span><span class="cm">/* Not a valid value */</span><span class="cp"></span>
<a name="line-772"></a>
<a name="line-773"></a><span class="cm">/* These are for the sCAL chunk.  These values should NOT be changed. */</span>
<a name="line-774"></a><span class="cp">#define PNG_SCALE_UNKNOWN         0 </span><span class="cm">/* unknown unit (image scale) */</span><span class="cp"></span>
<a name="line-775"></a><span class="cp">#define PNG_SCALE_METER           1 </span><span class="cm">/* meters per pixel */</span><span class="cp"></span>
<a name="line-776"></a><span class="cp">#define PNG_SCALE_RADIAN          2 </span><span class="cm">/* radians per pixel */</span><span class="cp"></span>
<a name="line-777"></a><span class="cp">#define PNG_SCALE_LAST            3 </span><span class="cm">/* Not a valid value */</span><span class="cp"></span>
<a name="line-778"></a>
<a name="line-779"></a><span class="cm">/* These are for the pHYs chunk.  These values should NOT be changed. */</span>
<a name="line-780"></a><span class="cp">#define PNG_RESOLUTION_UNKNOWN    0 </span><span class="cm">/* pixels/unknown unit (aspect ratio) */</span><span class="cp"></span>
<a name="line-781"></a><span class="cp">#define PNG_RESOLUTION_METER      1 </span><span class="cm">/* pixels/meter */</span><span class="cp"></span>
<a name="line-782"></a><span class="cp">#define PNG_RESOLUTION_LAST       2 </span><span class="cm">/* Not a valid value */</span><span class="cp"></span>
<a name="line-783"></a>
<a name="line-784"></a><span class="cm">/* These are for the sRGB chunk.  These values should NOT be changed. */</span>
<a name="line-785"></a><span class="cp">#define PNG_sRGB_INTENT_PERCEPTUAL 0</span>
<a name="line-786"></a><span class="cp">#define PNG_sRGB_INTENT_RELATIVE   1</span>
<a name="line-787"></a><span class="cp">#define PNG_sRGB_INTENT_SATURATION 2</span>
<a name="line-788"></a><span class="cp">#define PNG_sRGB_INTENT_ABSOLUTE   3</span>
<a name="line-789"></a><span class="cp">#define PNG_sRGB_INTENT_LAST       4 </span><span class="cm">/* Not a valid value */</span><span class="cp"></span>
<a name="line-790"></a>
<a name="line-791"></a><span class="cm">/* This is for text chunks */</span>
<a name="line-792"></a><span class="cp">#define PNG_KEYWORD_MAX_LENGTH     79</span>
<a name="line-793"></a>
<a name="line-794"></a><span class="cm">/* Maximum number of entries in PLTE/sPLT/tRNS arrays */</span>
<a name="line-795"></a><span class="cp">#define PNG_MAX_PALETTE_LENGTH    256</span>
<a name="line-796"></a>
<a name="line-797"></a><span class="cm">/* These determine if an ancillary chunk&#39;s data has been successfully read</span>
<a name="line-798"></a><span class="cm"> * from the PNG header, or if the application has filled in the corresponding</span>
<a name="line-799"></a><span class="cm"> * data in the info_struct to be written into the output file.  The values</span>
<a name="line-800"></a><span class="cm"> * of the PNG_INFO_&lt;chunk&gt; defines should NOT be changed.</span>
<a name="line-801"></a><span class="cm"> */</span>
<a name="line-802"></a><span class="cp">#define PNG_INFO_gAMA 0x0001</span>
<a name="line-803"></a><span class="cp">#define PNG_INFO_sBIT 0x0002</span>
<a name="line-804"></a><span class="cp">#define PNG_INFO_cHRM 0x0004</span>
<a name="line-805"></a><span class="cp">#define PNG_INFO_PLTE 0x0008</span>
<a name="line-806"></a><span class="cp">#define PNG_INFO_tRNS 0x0010</span>
<a name="line-807"></a><span class="cp">#define PNG_INFO_bKGD 0x0020</span>
<a name="line-808"></a><span class="cp">#define PNG_INFO_hIST 0x0040</span>
<a name="line-809"></a><span class="cp">#define PNG_INFO_pHYs 0x0080</span>
<a name="line-810"></a><span class="cp">#define PNG_INFO_oFFs 0x0100</span>
<a name="line-811"></a><span class="cp">#define PNG_INFO_tIME 0x0200</span>
<a name="line-812"></a><span class="cp">#define PNG_INFO_pCAL 0x0400</span>
<a name="line-813"></a><span class="cp">#define PNG_INFO_sRGB 0x0800   </span><span class="cm">/* GR-P, 0.96a */</span><span class="cp"></span>
<a name="line-814"></a><span class="cp">#define PNG_INFO_iCCP 0x1000   </span><span class="cm">/* ESR, 1.0.6 */</span><span class="cp"></span>
<a name="line-815"></a><span class="cp">#define PNG_INFO_sPLT 0x2000   </span><span class="cm">/* ESR, 1.0.6 */</span><span class="cp"></span>
<a name="line-816"></a><span class="cp">#define PNG_INFO_sCAL 0x4000   </span><span class="cm">/* ESR, 1.0.6 */</span><span class="cp"></span>
<a name="line-817"></a><span class="cp">#define PNG_INFO_IDAT 0x8000   </span><span class="cm">/* ESR, 1.0.6 */</span><span class="cp"></span>
<a name="line-818"></a>
<a name="line-819"></a><span class="cm">/* This is used for the transformation routines, as some of them</span>
<a name="line-820"></a><span class="cm"> * change these values for the row.  It also should enable using</span>
<a name="line-821"></a><span class="cm"> * the routines for other purposes.</span>
<a name="line-822"></a><span class="cm"> */</span>
<a name="line-823"></a><span class="k">typedef</span> <span class="k">struct</span> <span class="n">png_row_info_struct</span>
<a name="line-824"></a><span class="p">{</span>
<a name="line-825"></a>   <span class="n">png_uint_32</span> <span class="n">width</span><span class="p">;</span>    <span class="cm">/* width of row */</span>
<a name="line-826"></a>   <span class="kt">png_size_t</span> <span class="n">rowbytes</span><span class="p">;</span>  <span class="cm">/* number of bytes in row */</span>
<a name="line-827"></a>   <span class="n">png_byte</span> <span class="n">color_type</span><span class="p">;</span>  <span class="cm">/* color type of row */</span>
<a name="line-828"></a>   <span class="n">png_byte</span> <span class="n">bit_depth</span><span class="p">;</span>   <span class="cm">/* bit depth of row */</span>
<a name="line-829"></a>   <span class="n">png_byte</span> <span class="n">channels</span><span class="p">;</span>    <span class="cm">/* number of channels (1, 2, 3, or 4) */</span>
<a name="line-830"></a>   <span class="n">png_byte</span> <span class="n">pixel_depth</span><span class="p">;</span> <span class="cm">/* bits per pixel (depth * channels) */</span>
<a name="line-831"></a><span class="p">}</span> <span class="n">png_row_info</span><span class="p">;</span>
<a name="line-832"></a>
<a name="line-833"></a><span class="k">typedef</span> <span class="n">png_row_info</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_row_infop</span><span class="p">;</span>
<a name="line-834"></a><span class="k">typedef</span> <span class="n">png_row_info</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_row_infopp</span><span class="p">;</span>
<a name="line-835"></a>
<a name="line-836"></a><span class="cm">/* The complete definition of png_struct has, as of libpng-1.5.0,</span>
<a name="line-837"></a><span class="cm"> * been moved into a separate header file that is not accessible to</span>
<a name="line-838"></a><span class="cm"> * applications.  Read libpng-manual.txt or libpng.3 for more info.</span>
<a name="line-839"></a><span class="cm"> */</span>
<a name="line-840"></a><span class="k">typedef</span> <span class="k">struct</span> <span class="n">png_struct_def</span> <span class="n">png_struct</span><span class="p">;</span>
<a name="line-841"></a><span class="k">typedef</span> <span class="n">PNG_CONST</span> <span class="n">png_struct</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_const_structp</span><span class="p">;</span>
<a name="line-842"></a><span class="k">typedef</span> <span class="n">png_struct</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_structp</span><span class="p">;</span>
<a name="line-843"></a>
<a name="line-844"></a><span class="cm">/* These are the function types for the I/O functions and for the functions</span>
<a name="line-845"></a><span class="cm"> * that allow the user to override the default I/O functions with his or her</span>
<a name="line-846"></a><span class="cm"> * own.  The png_error_ptr type should match that of user-supplied warning</span>
<a name="line-847"></a><span class="cm"> * and error functions, while the png_rw_ptr type should match that of the</span>
<a name="line-848"></a><span class="cm"> * user read/write data functions.  Note that the &#39;write&#39; function must not</span>
<a name="line-849"></a><span class="cm"> * modify the buffer it is passed. The &#39;read&#39; function, on the other hand, is</span>
<a name="line-850"></a><span class="cm"> * expected to return the read data in the buffer.</span>
<a name="line-851"></a><span class="cm"> */</span>
<a name="line-852"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="o">*</span><span class="n">png_error_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span> <span class="n">png_const_charp</span><span class="p">));</span>
<a name="line-853"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="o">*</span><span class="n">png_rw_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span> <span class="n">png_bytep</span><span class="p">,</span> <span class="kt">png_size_t</span><span class="p">));</span>
<a name="line-854"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="o">*</span><span class="n">png_flush_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">));</span>
<a name="line-855"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="o">*</span><span class="n">png_read_status_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span>
<a name="line-856"></a>    <span class="kt">int</span><span class="p">));</span>
<a name="line-857"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="o">*</span><span class="n">png_write_status_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span>
<a name="line-858"></a>    <span class="kt">int</span><span class="p">));</span>
<a name="line-859"></a>
<a name="line-860"></a><span class="cp">#ifdef PNG_PROGRESSIVE_READ_SUPPORTED</span>
<a name="line-861"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="o">*</span><span class="n">png_progressive_info_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span> <span class="n">png_infop</span><span class="p">));</span>
<a name="line-862"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="o">*</span><span class="n">png_progressive_end_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span> <span class="n">png_infop</span><span class="p">));</span>
<a name="line-863"></a>
<a name="line-864"></a><span class="cm">/* The following callback receives png_uint_32 row_number, int pass for the</span>
<a name="line-865"></a><span class="cm"> * png_bytep data of the row.  When transforming an interlaced image the</span>
<a name="line-866"></a><span class="cm"> * row number is the row number within the sub-image of the interlace pass, so</span>
<a name="line-867"></a><span class="cm"> * the value will increase to the height of the sub-image (not the full image)</span>
<a name="line-868"></a><span class="cm"> * then reset to 0 for the next pass.</span>
<a name="line-869"></a><span class="cm"> *</span>
<a name="line-870"></a><span class="cm"> * Use PNG_ROW_FROM_PASS_ROW(row, pass) and PNG_COL_FROM_PASS_COL(col, pass) to</span>
<a name="line-871"></a><span class="cm"> * find the output pixel (x,y) given an interlaced sub-image pixel</span>
<a name="line-872"></a><span class="cm"> * (row,col,pass).  (See below for these macros.)</span>
<a name="line-873"></a><span class="cm"> */</span>
<a name="line-874"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="o">*</span><span class="n">png_progressive_row_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span> <span class="n">png_bytep</span><span class="p">,</span>
<a name="line-875"></a>    <span class="n">png_uint_32</span><span class="p">,</span> <span class="kt">int</span><span class="p">));</span>
<a name="line-876"></a><span class="cp">#endif</span>
<a name="line-877"></a>
<a name="line-878"></a><span class="cp">#if defined(PNG_READ_USER_TRANSFORM_SUPPORTED) || \</span>
<a name="line-879"></a><span class="cp">    defined(PNG_WRITE_USER_TRANSFORM_SUPPORTED)</span>
<a name="line-880"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="o">*</span><span class="n">png_user_transform_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span> <span class="n">png_row_infop</span><span class="p">,</span>
<a name="line-881"></a>    <span class="n">png_bytep</span><span class="p">));</span>
<a name="line-882"></a><span class="cp">#endif</span>
<a name="line-883"></a>
<a name="line-884"></a><span class="cp">#ifdef PNG_USER_CHUNKS_SUPPORTED</span>
<a name="line-885"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="o">*</span><span class="n">png_user_chunk_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span>
<a name="line-886"></a>    <span class="n">png_unknown_chunkp</span><span class="p">));</span>
<a name="line-887"></a><span class="cp">#endif</span>
<a name="line-888"></a><span class="cp">#ifdef PNG_UNKNOWN_CHUNKS_SUPPORTED</span>
<a name="line-889"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="o">*</span><span class="n">png_unknown_chunk_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">));</span>
<a name="line-890"></a><span class="cp">#endif</span>
<a name="line-891"></a>
<a name="line-892"></a><span class="cp">#ifdef PNG_SETJMP_SUPPORTED</span>
<a name="line-893"></a><span class="cm">/* This must match the function definition in &lt;setjmp.h&gt;, and the application</span>
<a name="line-894"></a><span class="cm"> * must include this before png.h to obtain the definition of jmp_buf.  The</span>
<a name="line-895"></a><span class="cm"> * function is required to be PNG_NORETURN, but this is not checked.  If the</span>
<a name="line-896"></a><span class="cm"> * function does return the application will crash via an abort() or similar</span>
<a name="line-897"></a><span class="cm"> * system level call.</span>
<a name="line-898"></a><span class="cm"> *</span>
<a name="line-899"></a><span class="cm"> * If you get a warning here while building the library you may need to make</span>
<a name="line-900"></a><span class="cm"> * changes to ensure that pnglibconf.h records the calling convention used by</span>
<a name="line-901"></a><span class="cm"> * your compiler.  This may be very difficult - try using a different compiler</span>
<a name="line-902"></a><span class="cm"> * to build the library!</span>
<a name="line-903"></a><span class="cm"> */</span>
<a name="line-904"></a><span class="n">PNG_FUNCTION</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="p">(</span><span class="n">PNGCAPI</span> <span class="o">*</span><span class="n">png_longjmp_ptr</span><span class="p">),</span> <span class="n">PNGARG</span><span class="p">((</span><span class="kt">jmp_buf</span><span class="p">,</span> <span class="kt">int</span><span class="p">)),</span> <span class="k">typedef</span><span class="p">);</span>
<a name="line-905"></a><span class="cp">#endif</span>
<a name="line-906"></a>
<a name="line-907"></a><span class="cm">/* Transform masks for the high-level interface */</span>
<a name="line-908"></a><span class="cp">#define PNG_TRANSFORM_IDENTITY       0x0000    </span><span class="cm">/* read and write */</span><span class="cp"></span>
<a name="line-909"></a><span class="cp">#define PNG_TRANSFORM_STRIP_16       0x0001    </span><span class="cm">/* read only */</span><span class="cp"></span>
<a name="line-910"></a><span class="cp">#define PNG_TRANSFORM_STRIP_ALPHA    0x0002    </span><span class="cm">/* read only */</span><span class="cp"></span>
<a name="line-911"></a><span class="cp">#define PNG_TRANSFORM_PACKING        0x0004    </span><span class="cm">/* read and write */</span><span class="cp"></span>
<a name="line-912"></a><span class="cp">#define PNG_TRANSFORM_PACKSWAP       0x0008    </span><span class="cm">/* read and write */</span><span class="cp"></span>
<a name="line-913"></a><span class="cp">#define PNG_TRANSFORM_EXPAND         0x0010    </span><span class="cm">/* read only */</span><span class="cp"></span>
<a name="line-914"></a><span class="cp">#define PNG_TRANSFORM_INVERT_MONO    0x0020    </span><span class="cm">/* read and write */</span><span class="cp"></span>
<a name="line-915"></a><span class="cp">#define PNG_TRANSFORM_SHIFT          0x0040    </span><span class="cm">/* read and write */</span><span class="cp"></span>
<a name="line-916"></a><span class="cp">#define PNG_TRANSFORM_BGR            0x0080    </span><span class="cm">/* read and write */</span><span class="cp"></span>
<a name="line-917"></a><span class="cp">#define PNG_TRANSFORM_SWAP_ALPHA     0x0100    </span><span class="cm">/* read and write */</span><span class="cp"></span>
<a name="line-918"></a><span class="cp">#define PNG_TRANSFORM_SWAP_ENDIAN    0x0200    </span><span class="cm">/* read and write */</span><span class="cp"></span>
<a name="line-919"></a><span class="cp">#define PNG_TRANSFORM_INVERT_ALPHA   0x0400    </span><span class="cm">/* read and write */</span><span class="cp"></span>
<a name="line-920"></a><span class="cp">#define PNG_TRANSFORM_STRIP_FILLER   0x0800    </span><span class="cm">/* write only */</span><span class="cp"></span>
<a name="line-921"></a><span class="cm">/* Added to libpng-1.2.34 */</span>
<a name="line-922"></a><span class="cp">#define PNG_TRANSFORM_STRIP_FILLER_BEFORE PNG_TRANSFORM_STRIP_FILLER</span>
<a name="line-923"></a><span class="cp">#define PNG_TRANSFORM_STRIP_FILLER_AFTER 0x1000 </span><span class="cm">/* write only */</span><span class="cp"></span>
<a name="line-924"></a><span class="cm">/* Added to libpng-1.4.0 */</span>
<a name="line-925"></a><span class="cp">#define PNG_TRANSFORM_GRAY_TO_RGB   0x2000      </span><span class="cm">/* read only */</span><span class="cp"></span>
<a name="line-926"></a><span class="cm">/* Added to libpng-1.5.4 */</span>
<a name="line-927"></a><span class="cp">#define PNG_TRANSFORM_EXPAND_16     0x4000      </span><span class="cm">/* read only */</span><span class="cp"></span>
<a name="line-928"></a><span class="cp">#define PNG_TRANSFORM_SCALE_16      0x8000      </span><span class="cm">/* read only */</span><span class="cp"></span>
<a name="line-929"></a>
<a name="line-930"></a><span class="cm">/* Flags for MNG supported features */</span>
<a name="line-931"></a><span class="cp">#define PNG_FLAG_MNG_EMPTY_PLTE     0x01</span>
<a name="line-932"></a><span class="cp">#define PNG_FLAG_MNG_FILTER_64      0x04</span>
<a name="line-933"></a><span class="cp">#define PNG_ALL_MNG_FEATURES        0x05</span>
<a name="line-934"></a>
<a name="line-935"></a><span class="cm">/* NOTE: prior to 1.5 these functions had no &#39;API&#39; style declaration,</span>
<a name="line-936"></a><span class="cm"> * this allowed the zlib default functions to be used on Windows</span>
<a name="line-937"></a><span class="cm"> * platforms.  In 1.5 the zlib default malloc (which just calls malloc and</span>
<a name="line-938"></a><span class="cm"> * ignores the first argument) should be completely compatible with the</span>
<a name="line-939"></a><span class="cm"> * following.</span>
<a name="line-940"></a><span class="cm"> */</span>
<a name="line-941"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="n">png_voidp</span><span class="p">,</span> <span class="o">*</span><span class="n">png_malloc_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span>
<a name="line-942"></a>    <span class="kt">png_alloc_size_t</span><span class="p">));</span>
<a name="line-943"></a><span class="k">typedef</span> <span class="nf">PNG_CALLBACK</span><span class="p">(</span><span class="kt">void</span><span class="p">,</span> <span class="o">*</span><span class="n">png_free_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span> <span class="n">png_voidp</span><span class="p">));</span>
<a name="line-944"></a>
<a name="line-945"></a><span class="k">typedef</span> <span class="n">png_struct</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">png_structpp</span><span class="p">;</span>
<a name="line-946"></a>
<a name="line-947"></a><span class="cm">/* Section 3: exported functions</span>
<a name="line-948"></a><span class="cm"> * Here are the function definitions most commonly used.  This is not</span>
<a name="line-949"></a><span class="cm"> * the place to find out how to use libpng.  See libpng-manual.txt for the</span>
<a name="line-950"></a><span class="cm"> * full explanation, see example.c for the summary.  This just provides</span>
<a name="line-951"></a><span class="cm"> * a simple one line description of the use of each function.</span>
<a name="line-952"></a><span class="cm"> *</span>
<a name="line-953"></a><span class="cm"> * The PNG_EXPORT() and PNG_EXPORTA() macros used below are defined in</span>
<a name="line-954"></a><span class="cm"> * pngconf.h and in the *.dfn files in the scripts directory.</span>
<a name="line-955"></a><span class="cm"> *</span>
<a name="line-956"></a><span class="cm"> *   PNG_EXPORT(ordinal, type, name, (args));</span>
<a name="line-957"></a><span class="cm"> *</span>
<a name="line-958"></a><span class="cm"> *       ordinal:    ordinal that is used while building</span>
<a name="line-959"></a><span class="cm"> *                   *.def files. The ordinal value is only</span>
<a name="line-960"></a><span class="cm"> *                   relevant when preprocessing png.h with</span>
<a name="line-961"></a><span class="cm"> *                   the *.dfn files for building symbol table</span>
<a name="line-962"></a><span class="cm"> *                   entries, and are removed by pngconf.h.</span>
<a name="line-963"></a><span class="cm"> *       type:       return type of the function</span>
<a name="line-964"></a><span class="cm"> *       name:       function name</span>
<a name="line-965"></a><span class="cm"> *       args:       function arguments, with types</span>
<a name="line-966"></a><span class="cm"> *</span>
<a name="line-967"></a><span class="cm"> * When we wish to append attributes to a function prototype we use</span>
<a name="line-968"></a><span class="cm"> * the PNG_EXPORTA() macro instead.</span>
<a name="line-969"></a><span class="cm"> *</span>
<a name="line-970"></a><span class="cm"> *   PNG_EXPORTA(ordinal, type, name, (args), attributes);</span>
<a name="line-971"></a><span class="cm"> *</span>
<a name="line-972"></a><span class="cm"> *       ordinal, type, name, and args: same as in PNG_EXPORT().</span>
<a name="line-973"></a><span class="cm"> *       attributes: function attributes</span>
<a name="line-974"></a><span class="cm"> */</span>
<a name="line-975"></a>
<a name="line-976"></a><span class="cm">/* Returns the version number of the library */</span>
<a name="line-977"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_access_version_number</span><span class="p">,</span> <span class="p">(</span><span class="kt">void</span><span class="p">));</span>
<a name="line-978"></a><span class="hll"><span class='inconclusive2'>&lt;--- The variable 'png_uint_32' hides a typedef with the same name.</span>
</span><a name="line-979"></a><span class="cm">/* Tell lib we have already handled the first &lt;num_bytes&gt; magic bytes.</span>
<a name="line-980"></a><span class="cm"> * Handling more than 8 bytes from the beginning of the file is an error.</span>
<a name="line-981"></a><span class="cm"> */</span>
<a name="line-982"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_sig_bytes</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num_bytes</span><span class="p">));</span>
<a name="line-983"></a>
<a name="line-984"></a><span class="cm">/* Check sig[start] through sig[start + num_to_check - 1] to see if it&#39;s a</span>
<a name="line-985"></a><span class="cm"> * PNG file.  Returns zero if the supplied bytes match the 8-byte PNG</span>
<a name="line-986"></a><span class="cm"> * signature, and non-zero otherwise.  Having num_to_check == 0 or</span>
<a name="line-987"></a><span class="cm"> * start &gt; 7 will always fail (ie return non-zero).</span>
<a name="line-988"></a><span class="cm"> */</span>
<a name="line-989"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="n">png_sig_cmp</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_bytep</span> <span class="n">sig</span><span class="p">,</span> <span class="kt">png_size_t</span> <span class="n">start</span><span class="p">,</span>
<a name="line-990"></a>    <span class="kt">png_size_t</span> <span class="n">num_to_check</span><span class="p">));</span>
<a name="line-991"></a>
<a name="line-992"></a><span class="cm">/* Simple signature checking function.  This is the same as calling</span>
<a name="line-993"></a><span class="cm"> * png_check_sig(sig, n) := !png_sig_cmp(sig, 0, n).</span>
<a name="line-994"></a><span class="cm"> */</span>
<a name="line-995"></a><span class="cp">#define png_check_sig(sig, n) !png_sig_cmp((sig), 0, (n))</span>
<a name="line-996"></a>
<a name="line-997"></a><span class="cm">/* Allocate and initialize png_ptr struct for reading, and any other memory. */</span>
<a name="line-998"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">png_structp</span><span class="p">,</span> <span class="n">png_create_read_struct</span><span class="p">,</span>
<a name="line-999"></a>    <span class="p">(</span><span class="n">png_const_charp</span> <span class="n">user_png_ver</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">error_ptr</span><span class="p">,</span>
<a name="line-1000"></a>    <span class="n">png_error_ptr</span> <span class="n">error_fn</span><span class="p">,</span> <span class="n">png_error_ptr</span> <span class="n">warn_fn</span><span class="p">),</span>
<a name="line-1001"></a>    <span class="n">PNG_ALLOCATED</span><span class="p">);</span>
<a name="line-1002"></a><span class="hll"><span class='inconclusive2'>&lt;--- The variable 'png_structp' hides a typedef with the same name.</span>
</span><a name="line-1003"></a><span class="cm">/* Allocate and initialize png_ptr struct for writing, and any other memory */</span>
<a name="line-1004"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">png_structp</span><span class="p">,</span> <span class="n">png_create_write_struct</span><span class="p">,</span>
<a name="line-1005"></a>    <span class="p">(</span><span class="n">png_const_charp</span> <span class="n">user_png_ver</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">error_ptr</span><span class="p">,</span> <span class="n">png_error_ptr</span> <span class="n">error_fn</span><span class="p">,</span>
<a name="line-1006"></a>    <span class="n">png_error_ptr</span> <span class="n">warn_fn</span><span class="p">),</span>
<a name="line-1007"></a>    <span class="n">PNG_ALLOCATED</span><span class="p">);</span>
<a name="line-1008"></a>
<a name="line-1009"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="kt">png_size_t</span><span class="p">,</span> <span class="n">png_get_compression_buffer_size</span><span class="p">,</span>
<a name="line-1010"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1011"></a><span class="hll"><span class='inconclusive2'>&lt;--- The variable 'png_size_t' hides a typedef with the same name.</span>
</span><a name="line-1012"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_compression_buffer_size</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1013"></a>    <span class="kt">png_size_t</span> <span class="n">size</span><span class="p">));</span>
<a name="line-1014"></a>
<a name="line-1015"></a><span class="cm">/* Moved from pngconf.h in 1.4.0 and modified to ensure setjmp/longjmp</span>
<a name="line-1016"></a><span class="cm"> * match up.</span>
<a name="line-1017"></a><span class="cm"> */</span>
<a name="line-1018"></a><span class="cp">#ifdef PNG_SETJMP_SUPPORTED</span>
<a name="line-1019"></a><span class="cm">/* This function returns the jmp_buf built in to *png_ptr.  It must be</span>
<a name="line-1020"></a><span class="cm"> * supplied with an appropriate &#39;longjmp&#39; function to use on that jmp_buf</span>
<a name="line-1021"></a><span class="cm"> * unless the default error function is overridden in which case NULL is</span>
<a name="line-1022"></a><span class="cm"> * acceptable.  The size of the jmp_buf is checked against the actual size</span>
<a name="line-1023"></a><span class="cm"> * allocated by the library - the call will return NULL on a mismatch</span>
<a name="line-1024"></a><span class="cm"> * indicating an ABI mismatch.</span>
<a name="line-1025"></a><span class="cm"> */</span>
<a name="line-1026"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="kt">jmp_buf</span><span class="o">*</span><span class="p">,</span> <span class="n">png_set_longjmp_fn</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1027"></a>    <span class="n">png_longjmp_ptr</span> <span class="n">longjmp_fn</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">jmp_buf_size</span><span class="p">));</span>
<a name="line-1028"></a><span class="cp">#  define png_jmpbuf(png_ptr) \</span>
<a name="line-1029"></a><span class="cp">      (*png_set_longjmp_fn((png_ptr), longjmp, sizeof (jmp_buf)))</span>
<a name="line-1030"></a><span class="cp">#else</span>
<a name="line-1031"></a><span class="cp">#  define png_jmpbuf(png_ptr) \</span>
<a name="line-1032"></a><span class="cp">      (LIBPNG_WAS_COMPILED_WITH__PNG_NO_SETJMP)</span>
<a name="line-1033"></a><span class="cp">#endif</span>
<a name="line-1034"></a><span class="cm">/* This function should be used by libpng applications in place of</span>
<a name="line-1035"></a><span class="cm"> * longjmp(png_ptr-&gt;jmpbuf, val).  If longjmp_fn() has been set, it</span>
<a name="line-1036"></a><span class="cm"> * will use it; otherwise it will call PNG_ABORT().  This function was</span>
<a name="line-1037"></a><span class="cm"> * added in libpng-1.5.0.</span>
<a name="line-1038"></a><span class="cm"> */</span>
<a name="line-1039"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_longjmp</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">val</span><span class="p">),</span>
<a name="line-1040"></a>    <span class="n">PNG_NORETURN</span><span class="p">);</span>
<a name="line-1041"></a>
<a name="line-1042"></a><span class="cp">#ifdef PNG_READ_SUPPORTED</span>
<a name="line-1043"></a><span class="cm">/* Reset the compression stream */</span>
<a name="line-1044"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="n">png_reset_zstream</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1045"></a><span class="cp">#endif</span>
<a name="line-1046"></a>
<a name="line-1047"></a><span class="cm">/* New functions added in libpng-1.0.2 (not enabled by default until 1.2.0) */</span>
<a name="line-1048"></a><span class="cp">#ifdef PNG_USER_MEM_SUPPORTED</span>
<a name="line-1049"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">png_structp</span><span class="p">,</span> <span class="n">png_create_read_struct_2</span><span class="p">,</span>
<a name="line-1050"></a>    <span class="p">(</span><span class="n">png_const_charp</span> <span class="n">user_png_ver</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">error_ptr</span><span class="p">,</span> <span class="n">png_error_ptr</span> <span class="n">error_fn</span><span class="p">,</span>
<a name="line-1051"></a>    <span class="n">png_error_ptr</span> <span class="n">warn_fn</span><span class="p">,</span>
<a name="line-1052"></a>    <span class="n">png_voidp</span> <span class="n">mem_ptr</span><span class="p">,</span> <span class="n">png_malloc_ptr</span> <span class="n">malloc_fn</span><span class="p">,</span> <span class="n">png_free_ptr</span> <span class="n">free_fn</span><span class="p">),</span>
<a name="line-1053"></a>    <span class="n">PNG_ALLOCATED</span><span class="p">);</span>
<a name="line-1054"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="n">png_structp</span><span class="p">,</span> <span class="n">png_create_write_struct_2</span><span class="p">,</span>
<a name="line-1055"></a>    <span class="p">(</span><span class="n">png_const_charp</span> <span class="n">user_png_ver</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">error_ptr</span><span class="p">,</span> <span class="n">png_error_ptr</span> <span class="n">error_fn</span><span class="p">,</span>
<a name="line-1056"></a>    <span class="n">png_error_ptr</span> <span class="n">warn_fn</span><span class="p">,</span>
<a name="line-1057"></a>    <span class="n">png_voidp</span> <span class="n">mem_ptr</span><span class="p">,</span> <span class="n">png_malloc_ptr</span> <span class="n">malloc_fn</span><span class="p">,</span> <span class="n">png_free_ptr</span> <span class="n">free_fn</span><span class="p">),</span>
<a name="line-1058"></a>    <span class="n">PNG_ALLOCATED</span><span class="p">);</span>
<a name="line-1059"></a><span class="cp">#endif</span>
<a name="line-1060"></a>
<a name="line-1061"></a><span class="cm">/* Write the PNG file signature. */</span>
<a name="line-1062"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_sig</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1063"></a>
<a name="line-1064"></a><span class="cm">/* Write a PNG chunk - size, type, (optional) data, CRC. */</span>
<a name="line-1065"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_chunk</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_bytep</span>
<a name="line-1066"></a>    <span class="n">chunk_name</span><span class="p">,</span> <span class="n">png_const_bytep</span> <span class="n">data</span><span class="p">,</span> <span class="kt">png_size_t</span> <span class="n">length</span><span class="p">));</span>
<a name="line-1067"></a>
<a name="line-1068"></a><span class="cm">/* Write the start of a PNG chunk - length and chunk name. */</span>
<a name="line-1069"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_chunk_start</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1070"></a>    <span class="n">png_const_bytep</span> <span class="n">chunk_name</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="n">length</span><span class="p">));</span>
<a name="line-1071"></a>
<a name="line-1072"></a><span class="cm">/* Write the data of a PNG chunk started with png_write_chunk_start(). */</span>
<a name="line-1073"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_chunk_data</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1074"></a>    <span class="n">png_const_bytep</span> <span class="n">data</span><span class="p">,</span> <span class="kt">png_size_t</span> <span class="n">length</span><span class="p">));</span>
<a name="line-1075"></a>
<a name="line-1076"></a><span class="cm">/* Finish a chunk started with png_write_chunk_start() (includes CRC). */</span>
<a name="line-1077"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_chunk_end</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1078"></a>
<a name="line-1079"></a><span class="cm">/* Allocate and initialize the info structure */</span>
<a name="line-1080"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="n">png_infop</span><span class="p">,</span> <span class="n">png_create_info_struct</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">),</span>
<a name="line-1081"></a>    <span class="n">PNG_ALLOCATED</span><span class="p">);</span>
<a name="line-1082"></a><span class="hll"><span class='inconclusive2'>&lt;--- The variable 'png_infop' hides a typedef with the same name.</span>
</span><a name="line-1083"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_info_init_3</span><span class="p">,</span> <span class="p">(</span><span class="n">png_infopp</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-1084"></a>    <span class="kt">png_size_t</span> <span class="n">png_info_struct_size</span><span class="p">));</span>
<a name="line-1085"></a>
<a name="line-1086"></a><span class="cm">/* Writes all the PNG information before the image. */</span>
<a name="line-1087"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_info_before_PLTE</span><span class="p">,</span>
<a name="line-1088"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-1089"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_info</span><span class="p">,</span>
<a name="line-1090"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-1091"></a>
<a name="line-1092"></a><span class="cp">#ifdef PNG_SEQUENTIAL_READ_SUPPORTED</span>
<a name="line-1093"></a><span class="cm">/* Read the information before the actual image data. */</span>
<a name="line-1094"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_read_info</span><span class="p">,</span>
<a name="line-1095"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-1096"></a><span class="cp">#endif</span>
<a name="line-1097"></a>
<a name="line-1098"></a><span class="cp">#ifdef PNG_TIME_RFC1123_SUPPORTED</span>
<a name="line-1099"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="n">png_const_charp</span><span class="p">,</span> <span class="n">png_convert_to_rfc1123</span><span class="p">,</span>
<a name="line-1100"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1101"></a>    <span class="n">png_const_timep</span> <span class="n">ptime</span><span class="p">));</span>
<a name="line-1102"></a><span class="hll"><span class="cp">#endif</span><span class='inconclusive2'>&lt;--- The variable 'png_const_charp' hides a typedef with the same name.</span>
</span><a name="line-1103"></a>
<a name="line-1104"></a><span class="cp">#ifdef PNG_CONVERT_tIME_SUPPORTED</span>
<a name="line-1105"></a><span class="cm">/* Convert from a struct tm to png_time */</span>
<a name="line-1106"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_convert_from_struct_tm</span><span class="p">,</span> <span class="p">(</span><span class="n">png_timep</span> <span class="n">ptime</span><span class="p">,</span>
<a name="line-1107"></a>    <span class="n">PNG_CONST</span> <span class="k">struct</span> <span class="n">tm</span> <span class="n">FAR</span> <span class="o">*</span> <span class="n">ttime</span><span class="p">));</span>
<a name="line-1108"></a>
<a name="line-1109"></a><span class="cm">/* Convert from time_t to png_time.  Uses gmtime() */</span>
<a name="line-1110"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="kt">png_convert_from_time_t</span><span class="p">,</span>
<a name="line-1111"></a>    <span class="p">(</span><span class="n">png_timep</span> <span class="n">ptime</span><span class="p">,</span> <span class="kt">time_t</span> <span class="n">ttime</span><span class="p">));</span>
<a name="line-1112"></a><span class="cp">#endif </span><span class="cm">/* PNG_CONVERT_tIME_SUPPORTED */</span><span class="cp"></span>
<a name="line-1113"></a>
<a name="line-1114"></a><span class="cp">#ifdef PNG_READ_EXPAND_SUPPORTED</span>
<a name="line-1115"></a><span class="cm">/* Expand data to 24-bit RGB, or 8-bit grayscale, with alpha if available. */</span>
<a name="line-1116"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">26</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_expand</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1117"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_expand_gray_1_2_4_to_8</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1118"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_palette_to_rgb</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1119"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_tRNS_to_alpha</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1120"></a><span class="cp">#endif</span>
<a name="line-1121"></a>
<a name="line-1122"></a><span class="cp">#ifdef PNG_READ_EXPAND_16_SUPPORTED</span>
<a name="line-1123"></a><span class="cm">/* Expand to 16-bit channels, forces conversion of palette to RGB and expansion</span>
<a name="line-1124"></a><span class="cm"> * of a tRNS chunk if present.</span>
<a name="line-1125"></a><span class="cm"> */</span>
<a name="line-1126"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">221</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_expand_16</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1127"></a><span class="cp">#endif</span>
<a name="line-1128"></a>
<a name="line-1129"></a><span class="cp">#if defined(PNG_READ_BGR_SUPPORTED) || defined(PNG_WRITE_BGR_SUPPORTED)</span>
<a name="line-1130"></a><span class="cm">/* Use blue, green, red order for pixels. */</span>
<a name="line-1131"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_bgr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1132"></a><span class="cp">#endif</span>
<a name="line-1133"></a>
<a name="line-1134"></a><span class="cp">#ifdef PNG_READ_GRAY_TO_RGB_SUPPORTED</span>
<a name="line-1135"></a><span class="cm">/* Expand the grayscale to 24-bit RGB if necessary. */</span>
<a name="line-1136"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_gray_to_rgb</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1137"></a><span class="cp">#endif</span>
<a name="line-1138"></a>
<a name="line-1139"></a><span class="cp">#ifdef PNG_READ_RGB_TO_GRAY_SUPPORTED</span>
<a name="line-1140"></a><span class="cm">/* Reduce RGB to grayscale. */</span>
<a name="line-1141"></a><span class="cp">#define PNG_ERROR_ACTION_NONE  1</span>
<a name="line-1142"></a><span class="cp">#define PNG_ERROR_ACTION_WARN  2</span>
<a name="line-1143"></a><span class="cp">#define PNG_ERROR_ACTION_ERROR 3</span>
<a name="line-1144"></a><span class="cp">#define PNG_RGB_TO_GRAY_DEFAULT (-1)</span><span class="cm">/*for red/green coefficients*/</span><span class="cp"></span>
<a name="line-1145"></a>
<a name="line-1146"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_rgb_to_gray</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1147"></a>    <span class="kt">int</span> <span class="n">error_action</span><span class="p">,</span> <span class="kt">double</span> <span class="n">red</span><span class="p">,</span> <span class="kt">double</span> <span class="n">green</span><span class="p">));</span>
<a name="line-1148"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">33</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_rgb_to_gray_fixed</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1149"></a>    <span class="kt">int</span> <span class="n">error_action</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">red</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">green</span><span class="p">));</span>
<a name="line-1150"></a>
<a name="line-1151"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">34</span><span class="p">,</span> <span class="n">png_byte</span><span class="p">,</span> <span class="n">png_get_rgb_to_gray_status</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span>
<a name="line-1152"></a>    <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1153"></a><span class="hll"><span class="cp">#endif</span><span class='inconclusive2'>&lt;--- The variable 'png_byte' hides a typedef with the same name.</span>
</span><a name="line-1154"></a>
<a name="line-1155"></a><span class="cp">#ifdef PNG_BUILD_GRAYSCALE_PALETTE_SUPPORTED</span>
<a name="line-1156"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_build_grayscale_palette</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span> <span class="n">bit_depth</span><span class="p">,</span>
<a name="line-1157"></a>    <span class="n">png_colorp</span> <span class="n">palette</span><span class="p">));</span>
<a name="line-1158"></a><span class="cp">#endif</span>
<a name="line-1159"></a>
<a name="line-1160"></a><span class="cp">#ifdef PNG_READ_ALPHA_MODE_SUPPORTED</span>
<a name="line-1161"></a><span class="cm">/* How the alpha channel is interpreted - this affects how the color channels of</span>
<a name="line-1162"></a><span class="cm"> * a PNG file are returned when an alpha channel, or tRNS chunk in a palette</span>
<a name="line-1163"></a><span class="cm"> * file, is present.</span>
<a name="line-1164"></a><span class="cm"> *</span>
<a name="line-1165"></a><span class="cm"> * This has no effect on the way pixels are written into a PNG output</span>
<a name="line-1166"></a><span class="cm"> * datastream. The color samples in a PNG datastream are never premultiplied</span>
<a name="line-1167"></a><span class="cm"> * with the alpha samples.</span>
<a name="line-1168"></a><span class="cm"> *</span>
<a name="line-1169"></a><span class="cm"> * The default is to return data according to the PNG specification: the alpha</span>
<a name="line-1170"></a><span class="cm"> * channel is a linear measure of the contribution of the pixel to the</span>
<a name="line-1171"></a><span class="cm"> * corresponding composited pixel.  The gamma encoded color channels must be</span>
<a name="line-1172"></a><span class="cm"> * scaled according to the contribution and to do this it is necessary to undo</span>
<a name="line-1173"></a><span class="cm"> * the encoding, scale the color values, perform the composition and reencode</span>
<a name="line-1174"></a><span class="cm"> * the values.  This is the &#39;PNG&#39; mode.</span>
<a name="line-1175"></a><span class="cm"> *</span>
<a name="line-1176"></a><span class="cm"> * The alternative is to &#39;associate&#39; the alpha with the color information by</span>
<a name="line-1177"></a><span class="cm"> * storing color channel values that have been scaled by the alpha.  The</span>
<a name="line-1178"></a><span class="cm"> * advantage is that the color channels can be resampled (the image can be</span>
<a name="line-1179"></a><span class="cm"> * scaled) in this form.  The disadvantage is that normal practice is to store</span>
<a name="line-1180"></a><span class="cm"> * linear, not (gamma) encoded, values and this requires 16-bit channels for</span>
<a name="line-1181"></a><span class="cm"> * still images rather than the 8-bit channels that are just about sufficient if</span>
<a name="line-1182"></a><span class="cm"> * gamma encoding is used.  In addition all non-transparent pixel values,</span>
<a name="line-1183"></a><span class="cm"> * including completely opaque ones, must be gamma encoded to produce the final</span>
<a name="line-1184"></a><span class="cm"> * image.  This is the &#39;STANDARD&#39;, &#39;ASSOCIATED&#39; or &#39;PREMULTIPLIED&#39; mode (the</span>
<a name="line-1185"></a><span class="cm"> * latter being the two common names for associated alpha color channels.)</span>
<a name="line-1186"></a><span class="cm"> *</span>
<a name="line-1187"></a><span class="cm"> * Since it is not necessary to perform arithmetic on opaque color values so</span>
<a name="line-1188"></a><span class="cm"> * long as they are not to be resampled and are in the final color space it is</span>
<a name="line-1189"></a><span class="cm"> * possible to optimize the handling of alpha by storing the opaque pixels in</span>
<a name="line-1190"></a><span class="cm"> * the PNG format (adjusted for the output color space) while storing partially</span>
<a name="line-1191"></a><span class="cm"> * opaque pixels in the standard, linear, format.  The accuracy required for</span>
<a name="line-1192"></a><span class="cm"> * standard alpha composition is relatively low, because the pixels are</span>
<a name="line-1193"></a><span class="cm"> * isolated, therefore typically the accuracy loss in storing 8-bit linear</span>
<a name="line-1194"></a><span class="cm"> * values is acceptable.  (This is not true if the alpha channel is used to</span>
<a name="line-1195"></a><span class="cm"> * simulate transparency over large areas - use 16 bits or the PNG mode in</span>
<a name="line-1196"></a><span class="cm"> * this case!)  This is the &#39;OPTIMIZED&#39; mode.  For this mode a pixel is</span>
<a name="line-1197"></a><span class="cm"> * treated as opaque only if the alpha value is equal to the maximum value.</span>
<a name="line-1198"></a><span class="cm"> *</span>
<a name="line-1199"></a><span class="cm"> * The final choice is to gamma encode the alpha channel as well.  This is</span>
<a name="line-1200"></a><span class="cm"> * broken because, in practice, no implementation that uses this choice</span>
<a name="line-1201"></a><span class="cm"> * correctly undoes the encoding before handling alpha composition.  Use this</span>
<a name="line-1202"></a><span class="cm"> * choice only if other serious errors in the software or hardware you use</span>
<a name="line-1203"></a><span class="cm"> * mandate it; the typical serious error is for dark halos to appear around</span>
<a name="line-1204"></a><span class="cm"> * opaque areas of the composited PNG image because of arithmetic overflow.</span>
<a name="line-1205"></a><span class="cm"> *</span>
<a name="line-1206"></a><span class="cm"> * The API function png_set_alpha_mode specifies which of these choices to use</span>
<a name="line-1207"></a><span class="cm"> * with an enumerated &#39;mode&#39; value and the gamma of the required output:</span>
<a name="line-1208"></a><span class="cm"> */</span>
<a name="line-1209"></a><span class="cp">#define PNG_ALPHA_PNG           0 </span><span class="cm">/* according to the PNG standard */</span><span class="cp"></span>
<a name="line-1210"></a><span class="cp">#define PNG_ALPHA_STANDARD      1 </span><span class="cm">/* according to Porter/Duff */</span><span class="cp"></span>
<a name="line-1211"></a><span class="cp">#define PNG_ALPHA_ASSOCIATED    1 </span><span class="cm">/* as above; this is the normal practice */</span><span class="cp"></span>
<a name="line-1212"></a><span class="cp">#define PNG_ALPHA_PREMULTIPLIED 1 </span><span class="cm">/* as above */</span><span class="cp"></span>
<a name="line-1213"></a><span class="cp">#define PNG_ALPHA_OPTIMIZED     2 </span><span class="cm">/* &#39;PNG&#39; for opaque pixels, else &#39;STANDARD&#39; */</span><span class="cp"></span>
<a name="line-1214"></a><span class="cp">#define PNG_ALPHA_BROKEN        3 </span><span class="cm">/* the alpha channel is gamma encoded */</span><span class="cp"></span>
<a name="line-1215"></a>
<a name="line-1216"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">227</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_alpha_mode</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">mode</span><span class="p">,</span>
<a name="line-1217"></a>    <span class="kt">double</span> <span class="n">output_gamma</span><span class="p">));</span>
<a name="line-1218"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">228</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_alpha_mode_fixed</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1219"></a>    <span class="kt">int</span> <span class="n">mode</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">output_gamma</span><span class="p">));</span>
<a name="line-1220"></a><span class="cp">#endif</span>
<a name="line-1221"></a>
<a name="line-1222"></a><span class="cp">#if defined(PNG_READ_GAMMA_SUPPORTED) || defined(PNG_READ_ALPHA_MODE_SUPPORTED)</span>
<a name="line-1223"></a><span class="cm">/* The output_gamma value is a screen gamma in libpng terminology: it expresses</span>
<a name="line-1224"></a><span class="cm"> * how to decode the output values, not how they are encoded.  The values used</span>
<a name="line-1225"></a><span class="cm"> * correspond to the normal numbers used to describe the overall gamma of a</span>
<a name="line-1226"></a><span class="cm"> * computer display system; for example 2.2 for an sRGB conformant system.  The</span>
<a name="line-1227"></a><span class="cm"> * values are scaled by 100000 in the _fixed version of the API (so 220000 for</span>
<a name="line-1228"></a><span class="cm"> * sRGB.)</span>
<a name="line-1229"></a><span class="cm"> *</span>
<a name="line-1230"></a><span class="cm"> * The inverse of the value is always used to provide a default for the PNG file</span>
<a name="line-1231"></a><span class="cm"> * encoding if it has no gAMA chunk and if png_set_gamma() has not been called</span>
<a name="line-1232"></a><span class="cm"> * to override the PNG gamma information.</span>
<a name="line-1233"></a><span class="cm"> *</span>
<a name="line-1234"></a><span class="cm"> * When the ALPHA_OPTIMIZED mode is selected the output gamma is used to encode</span>
<a name="line-1235"></a><span class="cm"> * opaque pixels however pixels with lower alpha values are not encoded,</span>
<a name="line-1236"></a><span class="cm"> * regardless of the output gamma setting.</span>
<a name="line-1237"></a><span class="cm"> *</span>
<a name="line-1238"></a><span class="cm"> * When the standard Porter Duff handling is requested with mode 1 the output</span>
<a name="line-1239"></a><span class="cm"> * encoding is set to be linear and the output_gamma value is only relevant</span>
<a name="line-1240"></a><span class="cm"> * as a default for input data that has no gamma information.  The linear output</span>
<a name="line-1241"></a><span class="cm"> * encoding will be overridden if png_set_gamma() is called - the results may be</span>
<a name="line-1242"></a><span class="cm"> * highly unexpected!</span>
<a name="line-1243"></a><span class="cm"> *</span>
<a name="line-1244"></a><span class="cm"> * The following numbers are derived from the sRGB standard and the research</span>
<a name="line-1245"></a><span class="cm"> * behind it.  sRGB is defined to be approximated by a PNG gAMA chunk value of</span>
<a name="line-1246"></a><span class="cm"> * 0.45455 (1/2.2) for PNG.  The value implicitly includes any viewing</span>
<a name="line-1247"></a><span class="cm"> * correction required to take account of any differences in the color</span>
<a name="line-1248"></a><span class="cm"> * environment of the original scene and the intended display environment; the</span>
<a name="line-1249"></a><span class="cm"> * value expresses how to *decode* the image for display, not how the original</span>
<a name="line-1250"></a><span class="cm"> * data was *encoded*.</span>
<a name="line-1251"></a><span class="cm"> *</span>
<a name="line-1252"></a><span class="cm"> * sRGB provides a peg for the PNG standard by defining a viewing environment.</span>
<a name="line-1253"></a><span class="cm"> * sRGB itself, and earlier TV standards, actually use a more complex transform</span>
<a name="line-1254"></a><span class="cm"> * (a linear portion then a gamma 2.4 power law) than PNG can express.  (PNG is</span>
<a name="line-1255"></a><span class="cm"> * limited to simple power laws.)  By saying that an image for direct display on</span>
<a name="line-1256"></a><span class="cm"> * an sRGB conformant system should be stored with a gAMA chunk value of 45455</span>
<a name="line-1257"></a><span class="cm"> * (11.3.3.2 and 11.3.3.5 of the ISO PNG specification) the PNG specification</span>
<a name="line-1258"></a><span class="cm"> * makes it possible to derive values for other display systems and</span>
<a name="line-1259"></a><span class="cm"> * environments.</span>
<a name="line-1260"></a><span class="cm"> *</span>
<a name="line-1261"></a><span class="cm"> * The Mac value is deduced from the sRGB based on an assumption that the actual</span>
<a name="line-1262"></a><span class="cm"> * extra viewing correction used in early Mac display systems was implemented as</span>
<a name="line-1263"></a><span class="cm"> * a power 1.45 lookup table.</span>
<a name="line-1264"></a><span class="cm"> *</span>
<a name="line-1265"></a><span class="cm"> * Any system where a programmable lookup table is used or where the behavior of</span>
<a name="line-1266"></a><span class="cm"> * the final display device characteristics can be changed requires system</span>
<a name="line-1267"></a><span class="cm"> * specific code to obtain the current characteristic.  However this can be</span>
<a name="line-1268"></a><span class="cm"> * difficult and most PNG gamma correction only requires an approximate value.</span>
<a name="line-1269"></a><span class="cm"> *</span>
<a name="line-1270"></a><span class="cm"> * By default, if png_set_alpha_mode() is not called, libpng assumes that all</span>
<a name="line-1271"></a><span class="cm"> * values are unencoded, linear, values and that the output device also has a</span>
<a name="line-1272"></a><span class="cm"> * linear characteristic.  This is only very rarely correct - it is invariably</span>
<a name="line-1273"></a><span class="cm"> * better to call png_set_alpha_mode() with PNG_DEFAULT_sRGB than rely on the</span>
<a name="line-1274"></a><span class="cm"> * default if you don&#39;t know what the right answer is!</span>
<a name="line-1275"></a><span class="cm"> *</span>
<a name="line-1276"></a><span class="cm"> * The special value PNG_GAMMA_MAC_18 indicates an older Mac system (pre Mac OS</span>
<a name="line-1277"></a><span class="cm"> * 10.6) which used a correction table to implement a somewhat lower gamma on an</span>
<a name="line-1278"></a><span class="cm"> * otherwise sRGB system.</span>
<a name="line-1279"></a><span class="cm"> *</span>
<a name="line-1280"></a><span class="cm"> * Both these values are reserved (not simple gamma values) in order to allow</span>
<a name="line-1281"></a><span class="cm"> * more precise correction internally in the future.</span>
<a name="line-1282"></a><span class="cm"> *</span>
<a name="line-1283"></a><span class="cm"> * NOTE: the following values can be passed to either the fixed or floating</span>
<a name="line-1284"></a><span class="cm"> * point APIs, but the floating point API will also accept floating point</span>
<a name="line-1285"></a><span class="cm"> * values.</span>
<a name="line-1286"></a><span class="cm"> */</span>
<a name="line-1287"></a><span class="cp">#define PNG_DEFAULT_sRGB -1       </span><span class="cm">/* sRGB gamma and color space */</span><span class="cp"></span>
<a name="line-1288"></a><span class="cp">#define PNG_GAMMA_MAC_18 -2       </span><span class="cm">/* Old Mac &#39;1.8&#39; gamma and color space */</span><span class="cp"></span>
<a name="line-1289"></a><span class="cp">#define PNG_GAMMA_sRGB   220000   </span><span class="cm">/* Television standards--matches sRGB gamma */</span><span class="cp"></span>
<a name="line-1290"></a><span class="cp">#define PNG_GAMMA_LINEAR PNG_FP_1 </span><span class="cm">/* Linear */</span><span class="cp"></span>
<a name="line-1291"></a><span class="cp">#endif</span>
<a name="line-1292"></a>
<a name="line-1293"></a><span class="cm">/* The following are examples of calls to png_set_alpha_mode to achieve the</span>
<a name="line-1294"></a><span class="cm"> * required overall gamma correction and, where necessary, alpha</span>
<a name="line-1295"></a><span class="cm"> * premultiplication.</span>
<a name="line-1296"></a><span class="cm"> *</span>
<a name="line-1297"></a><span class="cm"> * png_set_alpha_mode(pp, PNG_ALPHA_PNG, PNG_DEFAULT_sRGB);</span>
<a name="line-1298"></a><span class="cm"> *    This is the default libpng handling of the alpha channel - it is not</span>
<a name="line-1299"></a><span class="cm"> *    pre-multiplied into the color components.  In addition the call states</span>
<a name="line-1300"></a><span class="cm"> *    that the output is for a sRGB system and causes all PNG files without gAMA</span>
<a name="line-1301"></a><span class="cm"> *    chunks to be assumed to be encoded using sRGB.</span>
<a name="line-1302"></a><span class="cm"> *</span>
<a name="line-1303"></a><span class="cm"> * png_set_alpha_mode(pp, PNG_ALPHA_PNG, PNG_GAMMA_MAC);</span>
<a name="line-1304"></a><span class="cm"> *    In this case the output is assumed to be something like an sRGB conformant</span>
<a name="line-1305"></a><span class="cm"> *    display preceeded by a power-law lookup table of power 1.45.  This is how</span>
<a name="line-1306"></a><span class="cm"> *    early Mac systems behaved.</span>
<a name="line-1307"></a><span class="cm"> *</span>
<a name="line-1308"></a><span class="cm"> * png_set_alpha_mode(pp, PNG_ALPHA_STANDARD, PNG_GAMMA_LINEAR);</span>
<a name="line-1309"></a><span class="cm"> *    This is the classic Jim Blinn approach and will work in academic</span>
<a name="line-1310"></a><span class="cm"> *    environments where everything is done by the book.  It has the shortcoming</span>
<a name="line-1311"></a><span class="cm"> *    of assuming that input PNG data with no gamma information is linear - this</span>
<a name="line-1312"></a><span class="cm"> *    is unlikely to be correct unless the PNG files where generated locally.</span>
<a name="line-1313"></a><span class="cm"> *    Most of the time the output precision will be so low as to show</span>
<a name="line-1314"></a><span class="cm"> *    significant banding in dark areas of the image.</span>
<a name="line-1315"></a><span class="cm"> *</span>
<a name="line-1316"></a><span class="cm"> * png_set_expand_16(pp);</span>
<a name="line-1317"></a><span class="cm"> * png_set_alpha_mode(pp, PNG_ALPHA_STANDARD, PNG_DEFAULT_sRGB);</span>
<a name="line-1318"></a><span class="cm"> *    This is a somewhat more realistic Jim Blinn inspired approach.  PNG files</span>
<a name="line-1319"></a><span class="cm"> *    are assumed to have the sRGB encoding if not marked with a gamma value and</span>
<a name="line-1320"></a><span class="cm"> *    the output is always 16 bits per component.  This permits accurate scaling</span>
<a name="line-1321"></a><span class="cm"> *    and processing of the data.  If you know that your input PNG files were</span>
<a name="line-1322"></a><span class="cm"> *    generated locally you might need to replace PNG_DEFAULT_sRGB with the</span>
<a name="line-1323"></a><span class="cm"> *    correct value for your system.</span>
<a name="line-1324"></a><span class="cm"> *</span>
<a name="line-1325"></a><span class="cm"> * png_set_alpha_mode(pp, PNG_ALPHA_OPTIMIZED, PNG_DEFAULT_sRGB);</span>
<a name="line-1326"></a><span class="cm"> *    If you just need to composite the PNG image onto an existing background</span>
<a name="line-1327"></a><span class="cm"> *    and if you control the code that does this you can use the optimization</span>
<a name="line-1328"></a><span class="cm"> *    setting.  In this case you just copy completely opaque pixels to the</span>
<a name="line-1329"></a><span class="cm"> *    output.  For pixels that are not completely transparent (you just skip</span>
<a name="line-1330"></a><span class="cm"> *    those) you do the composition math using png_composite or png_composite_16</span>
<a name="line-1331"></a><span class="cm"> *    below then encode the resultant 8-bit or 16-bit values to match the output</span>
<a name="line-1332"></a><span class="cm"> *    encoding.</span>
<a name="line-1333"></a><span class="cm"> *</span>
<a name="line-1334"></a><span class="cm"> * Other cases</span>
<a name="line-1335"></a><span class="cm"> *    If neither the PNG nor the standard linear encoding work for you because</span>
<a name="line-1336"></a><span class="cm"> *    of the software or hardware you use then you have a big problem.  The PNG</span>
<a name="line-1337"></a><span class="cm"> *    case will probably result in halos around the image.  The linear encoding</span>
<a name="line-1338"></a><span class="cm"> *    will probably result in a washed out, too bright, image (it&#39;s actually too</span>
<a name="line-1339"></a><span class="cm"> *    contrasty.)  Try the ALPHA_OPTIMIZED mode above - this will probably</span>
<a name="line-1340"></a><span class="cm"> *    substantially reduce the halos.  Alternatively try:</span>
<a name="line-1341"></a><span class="cm"> *</span>
<a name="line-1342"></a><span class="cm"> * png_set_alpha_mode(pp, PNG_ALPHA_BROKEN, PNG_DEFAULT_sRGB);</span>
<a name="line-1343"></a><span class="cm"> *    This option will also reduce the halos, but there will be slight dark</span>
<a name="line-1344"></a><span class="cm"> *    halos round the opaque parts of the image where the background is light.</span>
<a name="line-1345"></a><span class="cm"> *    In the OPTIMIZED mode the halos will be light halos where the background</span>
<a name="line-1346"></a><span class="cm"> *    is dark.  Take your pick - the halos are unavoidable unless you can get</span>
<a name="line-1347"></a><span class="cm"> *    your hardware/software fixed!  (The OPTIMIZED approach is slightly</span>
<a name="line-1348"></a><span class="cm"> *    faster.)</span>
<a name="line-1349"></a><span class="cm"> *</span>
<a name="line-1350"></a><span class="cm"> * When the default gamma of PNG files doesn&#39;t match the output gamma.</span>
<a name="line-1351"></a><span class="cm"> *    If you have PNG files with no gamma information png_set_alpha_mode allows</span>
<a name="line-1352"></a><span class="cm"> *    you to provide a default gamma, but it also sets the ouput gamma to the</span>
<a name="line-1353"></a><span class="cm"> *    matching value.  If you know your PNG files have a gamma that doesn&#39;t</span>
<a name="line-1354"></a><span class="cm"> *    match the output you can take advantage of the fact that</span>
<a name="line-1355"></a><span class="cm"> *    png_set_alpha_mode always sets the output gamma but only sets the PNG</span>
<a name="line-1356"></a><span class="cm"> *    default if it is not already set:</span>
<a name="line-1357"></a><span class="cm"> *</span>
<a name="line-1358"></a><span class="cm"> * png_set_alpha_mode(pp, PNG_ALPHA_PNG, PNG_DEFAULT_sRGB);</span>
<a name="line-1359"></a><span class="cm"> * png_set_alpha_mode(pp, PNG_ALPHA_PNG, PNG_GAMMA_MAC);</span>
<a name="line-1360"></a><span class="cm"> *    The first call sets both the default and the output gamma values, the</span>
<a name="line-1361"></a><span class="cm"> *    second call overrides the output gamma without changing the default.  This</span>
<a name="line-1362"></a><span class="cm"> *    is easier than achieving the same effect with png_set_gamma.  You must use</span>
<a name="line-1363"></a><span class="cm"> *    PNG_ALPHA_PNG for the first call - internal checking in png_set_alpha will</span>
<a name="line-1364"></a><span class="cm"> *    fire if more than one call to png_set_alpha_mode and png_set_background is</span>
<a name="line-1365"></a><span class="cm"> *    made in the same read operation, however multiple calls with PNG_ALPHA_PNG</span>
<a name="line-1366"></a><span class="cm"> *    are ignored.</span>
<a name="line-1367"></a><span class="cm"> */</span>
<a name="line-1368"></a>
<a name="line-1369"></a><span class="cp">#ifdef PNG_READ_STRIP_ALPHA_SUPPORTED</span>
<a name="line-1370"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">36</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_strip_alpha</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1371"></a><span class="cp">#endif</span>
<a name="line-1372"></a>
<a name="line-1373"></a><span class="cp">#if defined(PNG_READ_SWAP_ALPHA_SUPPORTED) || \</span>
<a name="line-1374"></a><span class="cp">    defined(PNG_WRITE_SWAP_ALPHA_SUPPORTED)</span>
<a name="line-1375"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">37</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_swap_alpha</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1376"></a><span class="cp">#endif</span>
<a name="line-1377"></a>
<a name="line-1378"></a><span class="cp">#if defined(PNG_READ_INVERT_ALPHA_SUPPORTED) || \</span>
<a name="line-1379"></a><span class="cp">    defined(PNG_WRITE_INVERT_ALPHA_SUPPORTED)</span>
<a name="line-1380"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">38</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_invert_alpha</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1381"></a><span class="cp">#endif</span>
<a name="line-1382"></a>
<a name="line-1383"></a><span class="cp">#if defined(PNG_READ_FILLER_SUPPORTED) || defined(PNG_WRITE_FILLER_SUPPORTED)</span>
<a name="line-1384"></a><span class="cm">/* Add a filler byte to 8-bit Gray or 24-bit RGB images. */</span>
<a name="line-1385"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">39</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_filler</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="n">filler</span><span class="p">,</span>
<a name="line-1386"></a>    <span class="kt">int</span> <span class="n">flags</span><span class="p">));</span>
<a name="line-1387"></a><span class="cm">/* The values of the PNG_FILLER_ defines should NOT be changed */</span>
<a name="line-1388"></a><span class="cp">#  define PNG_FILLER_BEFORE 0</span>
<a name="line-1389"></a><span class="cp">#  define PNG_FILLER_AFTER 1</span>
<a name="line-1390"></a><span class="cm">/* Add an alpha byte to 8-bit Gray or 24-bit RGB images. */</span>
<a name="line-1391"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_add_alpha</span><span class="p">,</span>
<a name="line-1392"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="n">filler</span><span class="p">,</span>
<a name="line-1393"></a>    <span class="kt">int</span> <span class="n">flags</span><span class="p">));</span>
<a name="line-1394"></a><span class="cp">#endif </span><span class="cm">/* PNG_READ_FILLER_SUPPORTED || PNG_WRITE_FILLER_SUPPORTED */</span><span class="cp"></span>
<a name="line-1395"></a>
<a name="line-1396"></a><span class="cp">#if defined(PNG_READ_SWAP_SUPPORTED) || defined(PNG_WRITE_SWAP_SUPPORTED)</span>
<a name="line-1397"></a><span class="cm">/* Swap bytes in 16-bit depth files. */</span>
<a name="line-1398"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_swap</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1399"></a><span class="cp">#endif</span>
<a name="line-1400"></a>
<a name="line-1401"></a><span class="cp">#if defined(PNG_READ_PACK_SUPPORTED) || defined(PNG_WRITE_PACK_SUPPORTED)</span>
<a name="line-1402"></a><span class="cm">/* Use 1 byte per pixel in 1, 2, or 4-bit depth files. */</span>
<a name="line-1403"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_packing</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1404"></a><span class="cp">#endif</span>
<a name="line-1405"></a>
<a name="line-1406"></a><span class="cp">#if defined(PNG_READ_PACKSWAP_SUPPORTED) || \</span>
<a name="line-1407"></a><span class="cp">    defined(PNG_WRITE_PACKSWAP_SUPPORTED)</span>
<a name="line-1408"></a><span class="cm">/* Swap packing order of pixels in bytes. */</span>
<a name="line-1409"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">43</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_packswap</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1410"></a><span class="cp">#endif</span>
<a name="line-1411"></a>
<a name="line-1412"></a><span class="cp">#if defined(PNG_READ_SHIFT_SUPPORTED) || defined(PNG_WRITE_SHIFT_SUPPORTED)</span>
<a name="line-1413"></a><span class="cm">/* Converts files to legal bit depths. */</span>
<a name="line-1414"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">44</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_shift</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_color_8p</span>
<a name="line-1415"></a>    <span class="n">true_bits</span><span class="p">));</span>
<a name="line-1416"></a><span class="cp">#endif</span>
<a name="line-1417"></a>
<a name="line-1418"></a><span class="cp">#if defined(PNG_READ_INTERLACING_SUPPORTED) || \</span>
<a name="line-1419"></a><span class="cp">    defined(PNG_WRITE_INTERLACING_SUPPORTED)</span>
<a name="line-1420"></a><span class="cm">/* Have the code handle the interlacing.  Returns the number of passes.</span>
<a name="line-1421"></a><span class="cm"> * MUST be called before png_read_update_info or png_start_read_image,</span>
<a name="line-1422"></a><span class="cm"> * otherwise it will not have the desired effect.  Note that it is still</span>
<a name="line-1423"></a><span class="cm"> * necessary to call png_read_row or png_read_rows png_get_image_height</span>
<a name="line-1424"></a><span class="cm"> * times for each pass.</span>
<a name="line-1425"></a><span class="cm">*/</span>
<a name="line-1426"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="n">png_set_interlace_handling</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1427"></a><span class="cp">#endif</span>
<a name="line-1428"></a>
<a name="line-1429"></a><span class="cp">#if defined(PNG_READ_INVERT_SUPPORTED) || defined(PNG_WRITE_INVERT_SUPPORTED)</span>
<a name="line-1430"></a><span class="cm">/* Invert monochrome files */</span>
<a name="line-1431"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">46</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_invert_mono</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1432"></a><span class="cp">#endif</span>
<a name="line-1433"></a>
<a name="line-1434"></a><span class="cp">#ifdef PNG_READ_BACKGROUND_SUPPORTED</span>
<a name="line-1435"></a><span class="cm">/* Handle alpha and tRNS by replacing with a background color.  Prior to</span>
<a name="line-1436"></a><span class="cm"> * libpng-1.5.4 this API must not be called before the PNG file header has been</span>
<a name="line-1437"></a><span class="cm"> * read.  Doing so will result in unexpected behavior and possible warnings or</span>
<a name="line-1438"></a><span class="cm"> * errors if the PNG file contains a bKGD chunk.</span>
<a name="line-1439"></a><span class="cm"> */</span>
<a name="line-1440"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">47</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_background</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1441"></a>    <span class="n">png_const_color_16p</span> <span class="n">background_color</span><span class="p">,</span> <span class="kt">int</span> <span class="n">background_gamma_code</span><span class="p">,</span>
<a name="line-1442"></a>    <span class="kt">int</span> <span class="n">need_expand</span><span class="p">,</span> <span class="kt">double</span> <span class="n">background_gamma</span><span class="p">));</span>
<a name="line-1443"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">215</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_background_fixed</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1444"></a>    <span class="n">png_const_color_16p</span> <span class="n">background_color</span><span class="p">,</span> <span class="kt">int</span> <span class="n">background_gamma_code</span><span class="p">,</span>
<a name="line-1445"></a>    <span class="kt">int</span> <span class="n">need_expand</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">background_gamma</span><span class="p">));</span>
<a name="line-1446"></a><span class="cp">#endif</span>
<a name="line-1447"></a><span class="cp">#ifdef PNG_READ_BACKGROUND_SUPPORTED</span>
<a name="line-1448"></a><span class="cp">#  define PNG_BACKGROUND_GAMMA_UNKNOWN 0</span>
<a name="line-1449"></a><span class="cp">#  define PNG_BACKGROUND_GAMMA_SCREEN  1</span>
<a name="line-1450"></a><span class="cp">#  define PNG_BACKGROUND_GAMMA_FILE    2</span>
<a name="line-1451"></a><span class="cp">#  define PNG_BACKGROUND_GAMMA_UNIQUE  3</span>
<a name="line-1452"></a><span class="cp">#endif</span>
<a name="line-1453"></a>
<a name="line-1454"></a><span class="cp">#ifdef PNG_READ_SCALE_16_TO_8_SUPPORTED</span>
<a name="line-1455"></a><span class="cm">/* Scale a 16-bit depth file down to 8-bit, accurately. */</span>
<a name="line-1456"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">229</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_scale_16</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1457"></a><span class="cp">#endif</span>
<a name="line-1458"></a>
<a name="line-1459"></a><span class="cp">#ifdef PNG_READ_STRIP_16_TO_8_SUPPORTED</span>
<a name="line-1460"></a><span class="cp">#define PNG_READ_16_TO_8 SUPPORTED </span><span class="cm">/* Name prior to 1.5.4 */</span><span class="cp"></span>
<a name="line-1461"></a><span class="cm">/* Strip the second byte of information from a 16-bit depth file. */</span>
<a name="line-1462"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">48</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_strip_16</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1463"></a><span class="cp">#endif</span>
<a name="line-1464"></a>
<a name="line-1465"></a><span class="cp">#ifdef PNG_READ_QUANTIZE_SUPPORTED</span>
<a name="line-1466"></a><span class="cm">/* Turn on quantizing, and reduce the palette to the number of colors</span>
<a name="line-1467"></a><span class="cm"> * available.</span>
<a name="line-1468"></a><span class="cm"> */</span>
<a name="line-1469"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">49</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_quantize</span><span class="p">,</span>
<a name="line-1470"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_colorp</span> <span class="n">palette</span><span class="p">,</span>
<a name="line-1471"></a>    <span class="kt">int</span> <span class="n">num_palette</span><span class="p">,</span> <span class="kt">int</span> <span class="n">maximum_colors</span><span class="p">,</span> <span class="n">png_const_uint_16p</span> <span class="n">histogram</span><span class="p">,</span>
<a name="line-1472"></a>    <span class="kt">int</span> <span class="n">full_quantize</span><span class="p">));</span>
<a name="line-1473"></a><span class="cp">#endif</span>
<a name="line-1474"></a>
<a name="line-1475"></a><span class="cp">#ifdef PNG_READ_GAMMA_SUPPORTED</span>
<a name="line-1476"></a><span class="cm">/* The threshold on gamma processing is configurable but hard-wired into the</span>
<a name="line-1477"></a><span class="cm"> * library.  The following is the floating point variant.</span>
<a name="line-1478"></a><span class="cm"> */</span>
<a name="line-1479"></a><span class="cp">#define PNG_GAMMA_THRESHOLD (PNG_GAMMA_THRESHOLD_FIXED*.00001)</span>
<a name="line-1480"></a>
<a name="line-1481"></a><span class="cm">/* Handle gamma correction. Screen_gamma=(display_exponent).</span>
<a name="line-1482"></a><span class="cm"> * NOTE: this API simply sets the screen and file gamma values. It will</span>
<a name="line-1483"></a><span class="cm"> * therefore override the value for gamma in a PNG file if it is called after</span>
<a name="line-1484"></a><span class="cm"> * the file header has been read - use with care  - call before reading the PNG</span>
<a name="line-1485"></a><span class="cm"> * file for best results!</span>
<a name="line-1486"></a><span class="cm"> *</span>
<a name="line-1487"></a><span class="cm"> * These routines accept the same gamma values as png_set_alpha_mode (described</span>
<a name="line-1488"></a><span class="cm"> * above).  The PNG_GAMMA_ defines and PNG_DEFAULT_sRGB can be passed to either</span>
<a name="line-1489"></a><span class="cm"> * API (floating point or fixed.)  Notice, however, that the &#39;file_gamma&#39; value</span>
<a name="line-1490"></a><span class="cm"> * is the inverse of a &#39;screen gamma&#39; value.</span>
<a name="line-1491"></a><span class="cm"> */</span>
<a name="line-1492"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_gamma</span><span class="p">,</span>
<a name="line-1493"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">double</span> <span class="n">screen_gamma</span><span class="p">,</span>
<a name="line-1494"></a>    <span class="kt">double</span> <span class="n">override_file_gamma</span><span class="p">));</span>
<a name="line-1495"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">208</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_gamma_fixed</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1496"></a>    <span class="n">png_fixed_point</span> <span class="n">screen_gamma</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">override_file_gamma</span><span class="p">));</span>
<a name="line-1497"></a><span class="cp">#endif</span>
<a name="line-1498"></a>
<a name="line-1499"></a><span class="cp">#ifdef PNG_WRITE_FLUSH_SUPPORTED</span>
<a name="line-1500"></a><span class="cm">/* Set how many lines between output flushes - 0 for no flushing */</span>
<a name="line-1501"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">51</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_flush</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nrows</span><span class="p">));</span>
<a name="line-1502"></a><span class="cm">/* Flush the current PNG output buffer */</span>
<a name="line-1503"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">52</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_flush</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1504"></a><span class="cp">#endif</span>
<a name="line-1505"></a>
<a name="line-1506"></a><span class="cm">/* Optional update palette with requested transformations */</span>
<a name="line-1507"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_start_read_image</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1508"></a>
<a name="line-1509"></a><span class="cm">/* Optional call to update the users info structure */</span>
<a name="line-1510"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">54</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_read_update_info</span><span class="p">,</span>
<a name="line-1511"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-1512"></a>
<a name="line-1513"></a><span class="cp">#ifdef PNG_SEQUENTIAL_READ_SUPPORTED</span>
<a name="line-1514"></a><span class="cm">/* Read one or more rows of image data. */</span>
<a name="line-1515"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">55</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_read_rows</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_bytepp</span> <span class="n">row</span><span class="p">,</span>
<a name="line-1516"></a>    <span class="n">png_bytepp</span> <span class="n">display_row</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="n">num_rows</span><span class="p">));</span>
<a name="line-1517"></a><span class="cp">#endif</span>
<a name="line-1518"></a>
<a name="line-1519"></a><span class="cp">#ifdef PNG_SEQUENTIAL_READ_SUPPORTED</span>
<a name="line-1520"></a><span class="cm">/* Read a row of data. */</span>
<a name="line-1521"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">56</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_read_row</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_bytep</span> <span class="n">row</span><span class="p">,</span>
<a name="line-1522"></a>    <span class="n">png_bytep</span> <span class="n">display_row</span><span class="p">));</span>
<a name="line-1523"></a><span class="cp">#endif</span>
<a name="line-1524"></a>
<a name="line-1525"></a><span class="cp">#ifdef PNG_SEQUENTIAL_READ_SUPPORTED</span>
<a name="line-1526"></a><span class="cm">/* Read the whole image into memory at once. */</span>
<a name="line-1527"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">57</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_read_image</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_bytepp</span> <span class="n">image</span><span class="p">));</span>
<a name="line-1528"></a><span class="cp">#endif</span>
<a name="line-1529"></a>
<a name="line-1530"></a><span class="cm">/* Write a row of image data */</span>
<a name="line-1531"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">58</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_row</span><span class="p">,</span>
<a name="line-1532"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_bytep</span> <span class="n">row</span><span class="p">));</span>
<a name="line-1533"></a>
<a name="line-1534"></a><span class="cm">/* Write a few rows of image data: (*row) is not written; however, the type</span>
<a name="line-1535"></a><span class="cm"> * is declared as writeable to maintain compatibility with previous versions</span>
<a name="line-1536"></a><span class="cm"> * of libpng and to allow the &#39;display_row&#39; array from read_rows to be passed</span>
<a name="line-1537"></a><span class="cm"> * unchanged to write_rows.</span>
<a name="line-1538"></a><span class="cm"> */</span>
<a name="line-1539"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">59</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_rows</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_bytepp</span> <span class="n">row</span><span class="p">,</span>
<a name="line-1540"></a>    <span class="n">png_uint_32</span> <span class="n">num_rows</span><span class="p">));</span>
<a name="line-1541"></a>
<a name="line-1542"></a><span class="cm">/* Write the image data */</span>
<a name="line-1543"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_image</span><span class="p">,</span>
<a name="line-1544"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_bytepp</span> <span class="n">image</span><span class="p">));</span>
<a name="line-1545"></a>
<a name="line-1546"></a><span class="cm">/* Write the end of the PNG file. */</span>
<a name="line-1547"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">61</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_end</span><span class="p">,</span>
<a name="line-1548"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-1549"></a>
<a name="line-1550"></a><span class="cp">#ifdef PNG_SEQUENTIAL_READ_SUPPORTED</span>
<a name="line-1551"></a><span class="cm">/* Read the end of the PNG file. */</span>
<a name="line-1552"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">62</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_read_end</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-1553"></a><span class="cp">#endif</span>
<a name="line-1554"></a>
<a name="line-1555"></a><span class="cm">/* Free any memory associated with the png_info_struct */</span>
<a name="line-1556"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">63</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_destroy_info_struct</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1557"></a>    <span class="n">png_infopp</span> <span class="n">info_ptr_ptr</span><span class="p">));</span>
<a name="line-1558"></a>
<a name="line-1559"></a><span class="cm">/* Free any memory associated with the png_struct and the png_info_structs */</span>
<a name="line-1560"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_destroy_read_struct</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structpp</span> <span class="n">png_ptr_ptr</span><span class="p">,</span>
<a name="line-1561"></a>    <span class="n">png_infopp</span> <span class="n">info_ptr_ptr</span><span class="p">,</span> <span class="n">png_infopp</span> <span class="n">end_info_ptr_ptr</span><span class="p">));</span>
<a name="line-1562"></a>
<a name="line-1563"></a><span class="cm">/* Free any memory associated with the png_struct and the png_info_structs */</span>
<a name="line-1564"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">65</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_destroy_write_struct</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structpp</span> <span class="n">png_ptr_ptr</span><span class="p">,</span>
<a name="line-1565"></a>    <span class="n">png_infopp</span> <span class="n">info_ptr_ptr</span><span class="p">));</span>
<a name="line-1566"></a>
<a name="line-1567"></a><span class="cm">/* Set the libpng method of handling chunk CRC errors */</span>
<a name="line-1568"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">66</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_crc_action</span><span class="p">,</span>
<a name="line-1569"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">crit_action</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ancil_action</span><span class="p">));</span>
<a name="line-1570"></a>
<a name="line-1571"></a><span class="cm">/* Values for png_set_crc_action() say how to handle CRC errors in</span>
<a name="line-1572"></a><span class="cm"> * ancillary and critical chunks, and whether to use the data contained</span>
<a name="line-1573"></a><span class="cm"> * therein.  Note that it is impossible to &quot;discard&quot; data in a critical</span>
<a name="line-1574"></a><span class="cm"> * chunk.  For versions prior to 0.90, the action was always error/quit,</span>
<a name="line-1575"></a><span class="cm"> * whereas in version 0.90 and later, the action for CRC errors in ancillary</span>
<a name="line-1576"></a><span class="cm"> * chunks is warn/discard.  These values should NOT be changed.</span>
<a name="line-1577"></a><span class="cm"> *</span>
<a name="line-1578"></a><span class="cm"> *      value                       action:critical     action:ancillary</span>
<a name="line-1579"></a><span class="cm"> */</span>
<a name="line-1580"></a><span class="cp">#define PNG_CRC_DEFAULT       0  </span><span class="cm">/* error/quit          warn/discard data */</span><span class="cp"></span>
<a name="line-1581"></a><span class="cp">#define PNG_CRC_ERROR_QUIT    1  </span><span class="cm">/* error/quit          error/quit        */</span><span class="cp"></span>
<a name="line-1582"></a><span class="cp">#define PNG_CRC_WARN_DISCARD  2  </span><span class="cm">/* (INVALID)           warn/discard data */</span><span class="cp"></span>
<a name="line-1583"></a><span class="cp">#define PNG_CRC_WARN_USE      3  </span><span class="cm">/* warn/use data       warn/use data     */</span><span class="cp"></span>
<a name="line-1584"></a><span class="cp">#define PNG_CRC_QUIET_USE     4  </span><span class="cm">/* quiet/use data      quiet/use data    */</span><span class="cp"></span>
<a name="line-1585"></a><span class="cp">#define PNG_CRC_NO_CHANGE     5  </span><span class="cm">/* use current value   use current value */</span><span class="cp"></span>
<a name="line-1586"></a>
<a name="line-1587"></a><span class="cm">/* These functions give the user control over the scan-line filtering in</span>
<a name="line-1588"></a><span class="cm"> * libpng and the compression methods used by zlib.  These functions are</span>
<a name="line-1589"></a><span class="cm"> * mainly useful for testing, as the defaults should work with most users.</span>
<a name="line-1590"></a><span class="cm"> * Those users who are tight on memory or want faster performance at the</span>
<a name="line-1591"></a><span class="cm"> * expense of compression can modify them.  See the compression library</span>
<a name="line-1592"></a><span class="cm"> * header file (zlib.h) for an explination of the compression functions.</span>
<a name="line-1593"></a><span class="cm"> */</span>
<a name="line-1594"></a>
<a name="line-1595"></a><span class="cm">/* Set the filtering method(s) used by libpng.  Currently, the only valid</span>
<a name="line-1596"></a><span class="cm"> * value for &quot;method&quot; is 0.</span>
<a name="line-1597"></a><span class="cm"> */</span>
<a name="line-1598"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">67</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_filter</span><span class="p">,</span>
<a name="line-1599"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">method</span><span class="p">,</span> <span class="kt">int</span> <span class="n">filters</span><span class="p">));</span>
<a name="line-1600"></a>
<a name="line-1601"></a><span class="cm">/* Flags for png_set_filter() to say which filters to use.  The flags</span>
<a name="line-1602"></a><span class="cm"> * are chosen so that they don&#39;t conflict with real filter types</span>
<a name="line-1603"></a><span class="cm"> * below, in case they are supplied instead of the #defined constants.</span>
<a name="line-1604"></a><span class="cm"> * These values should NOT be changed.</span>
<a name="line-1605"></a><span class="cm"> */</span>
<a name="line-1606"></a><span class="cp">#define PNG_NO_FILTERS     0x00</span>
<a name="line-1607"></a><span class="cp">#define PNG_FILTER_NONE    0x08</span>
<a name="line-1608"></a><span class="cp">#define PNG_FILTER_SUB     0x10</span>
<a name="line-1609"></a><span class="cp">#define PNG_FILTER_UP      0x20</span>
<a name="line-1610"></a><span class="cp">#define PNG_FILTER_AVG     0x40</span>
<a name="line-1611"></a><span class="cp">#define PNG_FILTER_PAETH   0x80</span>
<a name="line-1612"></a><span class="cp">#define PNG_ALL_FILTERS (PNG_FILTER_NONE | PNG_FILTER_SUB | PNG_FILTER_UP | \</span>
<a name="line-1613"></a><span class="cp">                         PNG_FILTER_AVG | PNG_FILTER_PAETH)</span>
<a name="line-1614"></a>
<a name="line-1615"></a><span class="cm">/* Filter values (not flags) - used in pngwrite.c, pngwutil.c for now.</span>
<a name="line-1616"></a><span class="cm"> * These defines should NOT be changed.</span>
<a name="line-1617"></a><span class="cm"> */</span>
<a name="line-1618"></a><span class="cp">#define PNG_FILTER_VALUE_NONE  0</span>
<a name="line-1619"></a><span class="cp">#define PNG_FILTER_VALUE_SUB   1</span>
<a name="line-1620"></a><span class="cp">#define PNG_FILTER_VALUE_UP    2</span>
<a name="line-1621"></a><span class="cp">#define PNG_FILTER_VALUE_AVG   3</span>
<a name="line-1622"></a><span class="cp">#define PNG_FILTER_VALUE_PAETH 4</span>
<a name="line-1623"></a><span class="cp">#define PNG_FILTER_VALUE_LAST  5</span>
<a name="line-1624"></a>
<a name="line-1625"></a><span class="cp">#ifdef PNG_WRITE_WEIGHTED_FILTER_SUPPORTED </span><span class="cm">/* EXPERIMENTAL */</span><span class="cp"></span>
<a name="line-1626"></a><span class="cm">/* The &quot;heuristic_method&quot; is given by one of the PNG_FILTER_HEURISTIC_</span>
<a name="line-1627"></a><span class="cm"> * defines, either the default (minimum-sum-of-absolute-differences), or</span>
<a name="line-1628"></a><span class="cm"> * the experimental method (weighted-minimum-sum-of-absolute-differences).</span>
<a name="line-1629"></a><span class="cm"> *</span>
<a name="line-1630"></a><span class="cm"> * Weights are factors &gt;= 1.0, indicating how important it is to keep the</span>
<a name="line-1631"></a><span class="cm"> * filter type consistent between rows.  Larger numbers mean the current</span>
<a name="line-1632"></a><span class="cm"> * filter is that many times as likely to be the same as the &quot;num_weights&quot;</span>
<a name="line-1633"></a><span class="cm"> * previous filters.  This is cumulative for each previous row with a weight.</span>
<a name="line-1634"></a><span class="cm"> * There needs to be &quot;num_weights&quot; values in &quot;filter_weights&quot;, or it can be</span>
<a name="line-1635"></a><span class="cm"> * NULL if the weights aren&#39;t being specified.  Weights have no influence on</span>
<a name="line-1636"></a><span class="cm"> * the selection of the first row filter.  Well chosen weights can (in theory)</span>
<a name="line-1637"></a><span class="cm"> * improve the compression for a given image.</span>
<a name="line-1638"></a><span class="cm"> *</span>
<a name="line-1639"></a><span class="cm"> * Costs are factors &gt;= 1.0 indicating the relative decoding costs of a</span>
<a name="line-1640"></a><span class="cm"> * filter type.  Higher costs indicate more decoding expense, and are</span>
<a name="line-1641"></a><span class="cm"> * therefore less likely to be selected over a filter with lower computational</span>
<a name="line-1642"></a><span class="cm"> * costs.  There needs to be a value in &quot;filter_costs&quot; for each valid filter</span>
<a name="line-1643"></a><span class="cm"> * type (given by PNG_FILTER_VALUE_LAST), or it can be NULL if you aren&#39;t</span>
<a name="line-1644"></a><span class="cm"> * setting the costs.  Costs try to improve the speed of decompression without</span>
<a name="line-1645"></a><span class="cm"> * unduly increasing the compressed image size.</span>
<a name="line-1646"></a><span class="cm"> *</span>
<a name="line-1647"></a><span class="cm"> * A negative weight or cost indicates the default value is to be used, and</span>
<a name="line-1648"></a><span class="cm"> * values in the range [0.0, 1.0) indicate the value is to remain unchanged.</span>
<a name="line-1649"></a><span class="cm"> * The default values for both weights and costs are currently 1.0, but may</span>
<a name="line-1650"></a><span class="cm"> * change if good general weighting/cost heuristics can be found.  If both</span>
<a name="line-1651"></a><span class="cm"> * the weights and costs are set to 1.0, this degenerates the WEIGHTED method</span>
<a name="line-1652"></a><span class="cm"> * to the UNWEIGHTED method, but with added encoding time/computation.</span>
<a name="line-1653"></a><span class="cm"> */</span>
<a name="line-1654"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">68</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_filter_heuristics</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1655"></a>    <span class="kt">int</span> <span class="n">heuristic_method</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num_weights</span><span class="p">,</span> <span class="n">png_const_doublep</span> <span class="n">filter_weights</span><span class="p">,</span>
<a name="line-1656"></a>    <span class="n">png_const_doublep</span> <span class="n">filter_costs</span><span class="p">));</span>
<a name="line-1657"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">209</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_filter_heuristics_fixed</span><span class="p">,</span>
<a name="line-1658"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1659"></a>    <span class="kt">int</span> <span class="n">heuristic_method</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num_weights</span><span class="p">,</span> <span class="n">png_const_fixed_point_p</span>
<a name="line-1660"></a>    <span class="n">filter_weights</span><span class="p">,</span> <span class="n">png_const_fixed_point_p</span> <span class="n">filter_costs</span><span class="p">));</span>
<a name="line-1661"></a><span class="cp">#endif </span><span class="cm">/*  PNG_WRITE_WEIGHTED_FILTER_SUPPORTED */</span><span class="cp"></span>
<a name="line-1662"></a>
<a name="line-1663"></a><span class="cm">/* Heuristic used for row filter selection.  These defines should NOT be</span>
<a name="line-1664"></a><span class="cm"> * changed.</span>
<a name="line-1665"></a><span class="cm"> */</span>
<a name="line-1666"></a><span class="cp">#define PNG_FILTER_HEURISTIC_DEFAULT    0  </span><span class="cm">/* Currently &quot;UNWEIGHTED&quot; */</span><span class="cp"></span>
<a name="line-1667"></a><span class="cp">#define PNG_FILTER_HEURISTIC_UNWEIGHTED 1  </span><span class="cm">/* Used by libpng &lt; 0.95 */</span><span class="cp"></span>
<a name="line-1668"></a><span class="cp">#define PNG_FILTER_HEURISTIC_WEIGHTED   2  </span><span class="cm">/* Experimental feature */</span><span class="cp"></span>
<a name="line-1669"></a><span class="cp">#define PNG_FILTER_HEURISTIC_LAST       3  </span><span class="cm">/* Not a valid value */</span><span class="cp"></span>
<a name="line-1670"></a>
<a name="line-1671"></a><span class="cp">#ifdef PNG_WRITE_SUPPORTED</span>
<a name="line-1672"></a><span class="cm">/* Set the library compression level.  Currently, valid values range from</span>
<a name="line-1673"></a><span class="cm"> * 0 - 9, corresponding directly to the zlib compression levels 0 - 9</span>
<a name="line-1674"></a><span class="cm"> * (0 - no compression, 9 - &quot;maximal&quot; compression).  Note that tests have</span>
<a name="line-1675"></a><span class="cm"> * shown that zlib compression levels 3-6 usually perform as well as level 9</span>
<a name="line-1676"></a><span class="cm"> * for PNG images, and do considerably fewer caclulations.  In the future,</span>
<a name="line-1677"></a><span class="cm"> * these values may not correspond directly to the zlib compression levels.</span>
<a name="line-1678"></a><span class="cm"> */</span>
<a name="line-1679"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">69</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_compression_level</span><span class="p">,</span>
<a name="line-1680"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">level</span><span class="p">));</span>
<a name="line-1681"></a>
<a name="line-1682"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_compression_mem_level</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1683"></a>    <span class="kt">int</span> <span class="n">mem_level</span><span class="p">));</span>
<a name="line-1684"></a>
<a name="line-1685"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">71</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_compression_strategy</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1686"></a>    <span class="kt">int</span> <span class="n">strategy</span><span class="p">));</span>
<a name="line-1687"></a>
<a name="line-1688"></a><span class="cm">/* If PNG_WRITE_OPTIMIZE_CMF_SUPPORTED is defined, libpng will use a</span>
<a name="line-1689"></a><span class="cm"> * smaller value of window_bits if it can do so safely.</span>
<a name="line-1690"></a><span class="cm"> */</span>
<a name="line-1691"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">72</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_compression_window_bits</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1692"></a>    <span class="kt">int</span> <span class="n">window_bits</span><span class="p">));</span>
<a name="line-1693"></a>
<a name="line-1694"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">73</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_compression_method</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1695"></a>    <span class="kt">int</span> <span class="n">method</span><span class="p">));</span>
<a name="line-1696"></a><span class="cp">#endif</span>
<a name="line-1697"></a>
<a name="line-1698"></a><span class="cp">#ifdef PNG_WRITE_CUSTOMIZE_ZTXT_COMPRESSION_SUPPORTED</span>
<a name="line-1699"></a><span class="cm">/* Also set zlib parameters for compressing non-IDAT chunks */</span>
<a name="line-1700"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">222</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_text_compression_level</span><span class="p">,</span>
<a name="line-1701"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">level</span><span class="p">));</span>
<a name="line-1702"></a>
<a name="line-1703"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">223</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_text_compression_mem_level</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1704"></a>    <span class="kt">int</span> <span class="n">mem_level</span><span class="p">));</span>
<a name="line-1705"></a>
<a name="line-1706"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">224</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_text_compression_strategy</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1707"></a>    <span class="kt">int</span> <span class="n">strategy</span><span class="p">));</span>
<a name="line-1708"></a>
<a name="line-1709"></a><span class="cm">/* If PNG_WRITE_OPTIMIZE_CMF_SUPPORTED is defined, libpng will use a</span>
<a name="line-1710"></a><span class="cm"> * smaller value of window_bits if it can do so safely.</span>
<a name="line-1711"></a><span class="cm"> */</span>
<a name="line-1712"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">225</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_text_compression_window_bits</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span>
<a name="line-1713"></a>    <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">window_bits</span><span class="p">));</span>
<a name="line-1714"></a>
<a name="line-1715"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">226</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_text_compression_method</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1716"></a>    <span class="kt">int</span> <span class="n">method</span><span class="p">));</span>
<a name="line-1717"></a><span class="cp">#endif </span><span class="cm">/* PNG_WRITE_CUSTOMIZE_ZTXT_COMPRESSION_SUPPORTED */</span><span class="cp"></span>
<a name="line-1718"></a>
<a name="line-1719"></a><span class="cm">/* These next functions are called for input/output, memory, and error</span>
<a name="line-1720"></a><span class="cm"> * handling.  They are in the file pngrio.c, pngwio.c, and pngerror.c,</span>
<a name="line-1721"></a><span class="cm"> * and call standard C I/O routines such as fread(), fwrite(), and</span>
<a name="line-1722"></a><span class="cm"> * fprintf().  These functions can be made to use other I/O routines</span>
<a name="line-1723"></a><span class="cm"> * at run time for those applications that need to handle I/O in a</span>
<a name="line-1724"></a><span class="cm"> * different manner by calling png_set_???_fn().  See libpng-manual.txt for</span>
<a name="line-1725"></a><span class="cm"> * more information.</span>
<a name="line-1726"></a><span class="cm"> */</span>
<a name="line-1727"></a>
<a name="line-1728"></a><span class="cp">#ifdef PNG_STDIO_SUPPORTED</span>
<a name="line-1729"></a><span class="cm">/* Initialize the input/output for the PNG file to the default functions. */</span>
<a name="line-1730"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">74</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_init_io</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_FILE_p</span> <span class="n">fp</span><span class="p">));</span>
<a name="line-1731"></a><span class="cp">#endif</span>
<a name="line-1732"></a>
<a name="line-1733"></a><span class="cm">/* Replace the (error and abort), and warning functions with user</span>
<a name="line-1734"></a><span class="cm"> * supplied functions.  If no messages are to be printed you must still</span>
<a name="line-1735"></a><span class="cm"> * write and use replacement functions. The replacement error_fn should</span>
<a name="line-1736"></a><span class="cm"> * still do a longjmp to the last setjmp location if you are using this</span>
<a name="line-1737"></a><span class="cm"> * method of error handling.  If error_fn or warning_fn is NULL, the</span>
<a name="line-1738"></a><span class="cm"> * default function will be used.</span>
<a name="line-1739"></a><span class="cm"> */</span>
<a name="line-1740"></a>
<a name="line-1741"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_error_fn</span><span class="p">,</span>
<a name="line-1742"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">error_ptr</span><span class="p">,</span>
<a name="line-1743"></a>    <span class="n">png_error_ptr</span> <span class="n">error_fn</span><span class="p">,</span> <span class="n">png_error_ptr</span> <span class="n">warning_fn</span><span class="p">));</span>
<a name="line-1744"></a>
<a name="line-1745"></a><span class="cm">/* Return the user pointer associated with the error functions */</span>
<a name="line-1746"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">76</span><span class="p">,</span> <span class="n">png_voidp</span><span class="p">,</span> <span class="n">png_get_error_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1747"></a><span class="hll"><span class='inconclusive2'>&lt;--- The variable 'png_voidp' hides a typedef with the same name.</span>
</span><a name="line-1748"></a><span class="cm">/* Replace the default data output functions with a user supplied one(s).</span>
<a name="line-1749"></a><span class="cm"> * If buffered output is not used, then output_flush_fn can be set to NULL.</span>
<a name="line-1750"></a><span class="cm"> * If PNG_WRITE_FLUSH_SUPPORTED is not defined at libpng compile time</span>
<a name="line-1751"></a><span class="cm"> * output_flush_fn will be ignored (and thus can be NULL).</span>
<a name="line-1752"></a><span class="cm"> * It is probably a mistake to use NULL for output_flush_fn if</span>
<a name="line-1753"></a><span class="cm"> * write_data_fn is not also NULL unless you have built libpng with</span>
<a name="line-1754"></a><span class="cm"> * PNG_WRITE_FLUSH_SUPPORTED undefined, because in this case libpng&#39;s</span>
<a name="line-1755"></a><span class="cm"> * default flush function, which uses the standard *FILE structure, will</span>
<a name="line-1756"></a><span class="cm"> * be used.</span>
<a name="line-1757"></a><span class="cm"> */</span>
<a name="line-1758"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">77</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_write_fn</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">io_ptr</span><span class="p">,</span>
<a name="line-1759"></a>    <span class="n">png_rw_ptr</span> <span class="n">write_data_fn</span><span class="p">,</span> <span class="n">png_flush_ptr</span> <span class="n">output_flush_fn</span><span class="p">));</span>
<a name="line-1760"></a>
<a name="line-1761"></a><span class="cm">/* Replace the default data input function with a user supplied one. */</span>
<a name="line-1762"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">78</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_read_fn</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">io_ptr</span><span class="p">,</span>
<a name="line-1763"></a>    <span class="n">png_rw_ptr</span> <span class="n">read_data_fn</span><span class="p">));</span>
<a name="line-1764"></a>
<a name="line-1765"></a><span class="cm">/* Return the user pointer associated with the I/O functions */</span>
<a name="line-1766"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">79</span><span class="p">,</span> <span class="n">png_voidp</span><span class="p">,</span> <span class="n">png_get_io_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1767"></a>
<a name="line-1768"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_read_status_fn</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1769"></a>    <span class="n">png_read_status_ptr</span> <span class="n">read_row_fn</span><span class="p">));</span>
<a name="line-1770"></a>
<a name="line-1771"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">81</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_write_status_fn</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1772"></a>    <span class="n">png_write_status_ptr</span> <span class="n">write_row_fn</span><span class="p">));</span>
<a name="line-1773"></a>
<a name="line-1774"></a><span class="cp">#ifdef PNG_USER_MEM_SUPPORTED</span>
<a name="line-1775"></a><span class="cm">/* Replace the default memory allocation functions with user supplied one(s). */</span>
<a name="line-1776"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">82</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_mem_fn</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">mem_ptr</span><span class="p">,</span>
<a name="line-1777"></a>    <span class="n">png_malloc_ptr</span> <span class="n">malloc_fn</span><span class="p">,</span> <span class="n">png_free_ptr</span> <span class="n">free_fn</span><span class="p">));</span>
<a name="line-1778"></a><span class="cm">/* Return the user pointer associated with the memory functions */</span>
<a name="line-1779"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">83</span><span class="p">,</span> <span class="n">png_voidp</span><span class="p">,</span> <span class="n">png_get_mem_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1780"></a><span class="cp">#endif</span>
<a name="line-1781"></a>
<a name="line-1782"></a><span class="cp">#ifdef PNG_READ_USER_TRANSFORM_SUPPORTED</span>
<a name="line-1783"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">84</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_read_user_transform_fn</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1784"></a>    <span class="n">png_user_transform_ptr</span> <span class="n">read_user_transform_fn</span><span class="p">));</span>
<a name="line-1785"></a><span class="cp">#endif</span>
<a name="line-1786"></a>
<a name="line-1787"></a><span class="cp">#ifdef PNG_WRITE_USER_TRANSFORM_SUPPORTED</span>
<a name="line-1788"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">85</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_write_user_transform_fn</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1789"></a>    <span class="n">png_user_transform_ptr</span> <span class="n">write_user_transform_fn</span><span class="p">));</span>
<a name="line-1790"></a><span class="cp">#endif</span>
<a name="line-1791"></a>
<a name="line-1792"></a><span class="cp">#ifdef PNG_USER_TRANSFORM_PTR_SUPPORTED</span>
<a name="line-1793"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">86</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_user_transform_info</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1794"></a>    <span class="n">png_voidp</span> <span class="n">user_transform_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">user_transform_depth</span><span class="p">,</span>
<a name="line-1795"></a>    <span class="kt">int</span> <span class="n">user_transform_channels</span><span class="p">));</span>
<a name="line-1796"></a><span class="cm">/* Return the user pointer associated with the user transform functions */</span>
<a name="line-1797"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">87</span><span class="p">,</span> <span class="n">png_voidp</span><span class="p">,</span> <span class="n">png_get_user_transform_ptr</span><span class="p">,</span>
<a name="line-1798"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1799"></a><span class="cp">#endif</span>
<a name="line-1800"></a>
<a name="line-1801"></a><span class="cp">#ifdef PNG_USER_TRANSFORM_INFO_SUPPORTED</span>
<a name="line-1802"></a><span class="cm">/* Return information about the row currently being processed.  Note that these</span>
<a name="line-1803"></a><span class="cm"> * APIs do not fail but will return unexpected results if called outside a user</span>
<a name="line-1804"></a><span class="cm"> * transform callback.  Also note that when transforming an interlaced image the</span>
<a name="line-1805"></a><span class="cm"> * row number is the row number within the sub-image of the interlace pass, so</span>
<a name="line-1806"></a><span class="cm"> * the value will increase to the height of the sub-image (not the full image)</span>
<a name="line-1807"></a><span class="cm"> * then reset to 0 for the next pass.</span>
<a name="line-1808"></a><span class="cm"> *</span>
<a name="line-1809"></a><span class="cm"> * Use PNG_ROW_FROM_PASS_ROW(row, pass) and PNG_COL_FROM_PASS_COL(col, pass) to</span>
<a name="line-1810"></a><span class="cm"> * find the output pixel (x,y) given an interlaced sub-image pixel</span>
<a name="line-1811"></a><span class="cm"> * (row,col,pass).  (See below for these macros.)</span>
<a name="line-1812"></a><span class="cm"> */</span>
<a name="line-1813"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">217</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_current_row_number</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span><span class="p">));</span>
<a name="line-1814"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">218</span><span class="p">,</span> <span class="n">png_byte</span><span class="p">,</span> <span class="n">png_get_current_pass_number</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span><span class="p">));</span>
<a name="line-1815"></a><span class="cp">#endif</span>
<a name="line-1816"></a>
<a name="line-1817"></a><span class="cp">#ifdef PNG_USER_CHUNKS_SUPPORTED</span>
<a name="line-1818"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">88</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_read_user_chunk_fn</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1819"></a>    <span class="n">png_voidp</span> <span class="n">user_chunk_ptr</span><span class="p">,</span> <span class="n">png_user_chunk_ptr</span> <span class="n">read_user_chunk_fn</span><span class="p">));</span>
<a name="line-1820"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">89</span><span class="p">,</span> <span class="n">png_voidp</span><span class="p">,</span> <span class="n">png_get_user_chunk_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1821"></a><span class="cp">#endif</span>
<a name="line-1822"></a>
<a name="line-1823"></a><span class="cp">#ifdef PNG_PROGRESSIVE_READ_SUPPORTED</span>
<a name="line-1824"></a><span class="cm">/* Sets the function callbacks for the push reader, and a pointer to a</span>
<a name="line-1825"></a><span class="cm"> * user-defined structure available to the callback functions.</span>
<a name="line-1826"></a><span class="cm"> */</span>
<a name="line-1827"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_progressive_read_fn</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1828"></a>    <span class="n">png_voidp</span> <span class="n">progressive_ptr</span><span class="p">,</span> <span class="n">png_progressive_info_ptr</span> <span class="n">info_fn</span><span class="p">,</span>
<a name="line-1829"></a>    <span class="n">png_progressive_row_ptr</span> <span class="n">row_fn</span><span class="p">,</span> <span class="n">png_progressive_end_ptr</span> <span class="n">end_fn</span><span class="p">));</span>
<a name="line-1830"></a>
<a name="line-1831"></a><span class="cm">/* Returns the user pointer associated with the push read functions */</span>
<a name="line-1832"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">91</span><span class="p">,</span> <span class="n">png_voidp</span><span class="p">,</span> <span class="n">png_get_progressive_ptr</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-1833"></a>
<a name="line-1834"></a><span class="cm">/* Function to be called when data becomes available */</span>
<a name="line-1835"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">92</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_process_data</span><span class="p">,</span>
<a name="line-1836"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-1837"></a>    <span class="n">png_bytep</span> <span class="n">buffer</span><span class="p">,</span> <span class="kt">png_size_t</span> <span class="n">buffer_size</span><span class="p">));</span>
<a name="line-1838"></a>
<a name="line-1839"></a><span class="cm">/* A function which may be called *only* within png_process_data to stop the</span>
<a name="line-1840"></a><span class="cm"> * processing of any more data.  The function returns the number of bytes</span>
<a name="line-1841"></a><span class="cm"> * remaining, excluding any that libpng has cached internally.  A subsequent</span>
<a name="line-1842"></a><span class="cm"> * call to png_process_data must supply these bytes again.  If the argument</span>
<a name="line-1843"></a><span class="cm"> * &#39;save&#39; is set to true the routine will first save all the pending data and</span>
<a name="line-1844"></a><span class="cm"> * will always return 0.</span>
<a name="line-1845"></a><span class="cm"> */</span>
<a name="line-1846"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">219</span><span class="p">,</span> <span class="kt">png_size_t</span><span class="p">,</span> <span class="n">png_process_data_pause</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">,</span> <span class="kt">int</span> <span class="n">save</span><span class="p">));</span>
<a name="line-1847"></a>
<a name="line-1848"></a><span class="cm">/* A function which may be called *only* outside (after) a call to</span>
<a name="line-1849"></a><span class="cm"> * png_process_data.  It returns the number of bytes of data to skip in the</span>
<a name="line-1850"></a><span class="cm"> * input.  Normally it will return 0, but if it returns a non-zero value the</span>
<a name="line-1851"></a><span class="cm"> * application must skip than number of bytes of input data and pass the</span>
<a name="line-1852"></a><span class="cm"> * following data to the next call to png_process_data.</span>
<a name="line-1853"></a><span class="cm"> */</span>
<a name="line-1854"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">220</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_process_data_skip</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span><span class="p">));</span>
<a name="line-1855"></a>
<a name="line-1856"></a><span class="cp">#ifdef PNG_READ_INTERLACING_SUPPORTED</span>
<a name="line-1857"></a><span class="cm">/* Function that combines rows.  &#39;new_row&#39; is a flag that should come from</span>
<a name="line-1858"></a><span class="cm"> * the callback and be non-NULL if anything needs to be done; the library</span>
<a name="line-1859"></a><span class="cm"> * stores its own version of the new data internally and ignores the passed</span>
<a name="line-1860"></a><span class="cm"> * in value.</span>
<a name="line-1861"></a><span class="cm"> */</span>
<a name="line-1862"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">93</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_progressive_combine_row</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1863"></a>    <span class="n">png_bytep</span> <span class="n">old_row</span><span class="p">,</span> <span class="n">png_const_bytep</span> <span class="n">new_row</span><span class="p">));</span>
<a name="line-1864"></a><span class="cp">#endif </span><span class="cm">/* PNG_READ_INTERLACING_SUPPORTED */</span><span class="cp"></span>
<a name="line-1865"></a><span class="cp">#endif </span><span class="cm">/* PNG_PROGRESSIVE_READ_SUPPORTED */</span><span class="cp"></span>
<a name="line-1866"></a>
<a name="line-1867"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">94</span><span class="p">,</span> <span class="n">png_voidp</span><span class="p">,</span> <span class="n">png_malloc</span><span class="p">,</span>
<a name="line-1868"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">png_alloc_size_t</span> <span class="n">size</span><span class="p">),</span>
<a name="line-1869"></a>    <span class="n">PNG_ALLOCATED</span><span class="p">);</span>
<a name="line-1870"></a><span class="cm">/* Added at libpng version 1.4.0 */</span>
<a name="line-1871"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">95</span><span class="p">,</span> <span class="n">png_voidp</span><span class="p">,</span> <span class="n">png_calloc</span><span class="p">,</span>
<a name="line-1872"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">png_alloc_size_t</span> <span class="n">size</span><span class="p">),</span>
<a name="line-1873"></a>    <span class="n">PNG_ALLOCATED</span><span class="p">);</span>
<a name="line-1874"></a>
<a name="line-1875"></a><span class="cm">/* Added at libpng version 1.2.4 */</span>
<a name="line-1876"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">96</span><span class="p">,</span> <span class="n">png_voidp</span><span class="p">,</span> <span class="n">png_malloc_warn</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1877"></a>    <span class="kt">png_alloc_size_t</span> <span class="n">size</span><span class="p">),</span> <span class="n">PNG_ALLOCATED</span><span class="p">);</span>
<a name="line-1878"></a>
<a name="line-1879"></a><span class="cm">/* Frees a pointer allocated by png_malloc() */</span>
<a name="line-1880"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_free</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">ptr</span><span class="p">));</span>
<a name="line-1881"></a>
<a name="line-1882"></a><span class="cm">/* Free data that was allocated internally */</span>
<a name="line-1883"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">98</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_free_data</span><span class="p">,</span>
<a name="line-1884"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="n">free_me</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">));</span>
<a name="line-1885"></a>
<a name="line-1886"></a><span class="cm">/* Reassign responsibility for freeing existing data, whether allocated</span>
<a name="line-1887"></a><span class="cm"> * by libpng or by the application */</span>
<a name="line-1888"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_data_freer</span><span class="p">,</span>
<a name="line-1889"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">freer</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="n">mask</span><span class="p">));</span>
<a name="line-1890"></a>
<a name="line-1891"></a><span class="cm">/* Assignments for png_data_freer */</span>
<a name="line-1892"></a><span class="cp">#define PNG_DESTROY_WILL_FREE_DATA 1</span>
<a name="line-1893"></a><span class="cp">#define PNG_SET_WILL_FREE_DATA 1</span>
<a name="line-1894"></a><span class="cp">#define PNG_USER_WILL_FREE_DATA 2</span>
<a name="line-1895"></a><span class="cm">/* Flags for png_ptr-&gt;free_me and info_ptr-&gt;free_me */</span>
<a name="line-1896"></a><span class="cp">#define PNG_FREE_HIST 0x0008</span>
<a name="line-1897"></a><span class="cp">#define PNG_FREE_ICCP 0x0010</span>
<a name="line-1898"></a><span class="cp">#define PNG_FREE_SPLT 0x0020</span>
<a name="line-1899"></a><span class="cp">#define PNG_FREE_ROWS 0x0040</span>
<a name="line-1900"></a><span class="cp">#define PNG_FREE_PCAL 0x0080</span>
<a name="line-1901"></a><span class="cp">#define PNG_FREE_SCAL 0x0100</span>
<a name="line-1902"></a><span class="cp">#define PNG_FREE_UNKN 0x0200</span>
<a name="line-1903"></a><span class="cp">#define PNG_FREE_LIST 0x0400</span>
<a name="line-1904"></a><span class="cp">#define PNG_FREE_PLTE 0x1000</span>
<a name="line-1905"></a><span class="cp">#define PNG_FREE_TRNS 0x2000</span>
<a name="line-1906"></a><span class="cp">#define PNG_FREE_TEXT 0x4000</span>
<a name="line-1907"></a><span class="cp">#define PNG_FREE_ALL  0x7fff</span>
<a name="line-1908"></a><span class="cp">#define PNG_FREE_MUL  0x4220 </span><span class="cm">/* PNG_FREE_SPLT|PNG_FREE_TEXT|PNG_FREE_UNKN */</span><span class="cp"></span>
<a name="line-1909"></a>
<a name="line-1910"></a><span class="cp">#ifdef PNG_USER_MEM_SUPPORTED</span>
<a name="line-1911"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">png_voidp</span><span class="p">,</span> <span class="n">png_malloc_default</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1912"></a>    <span class="kt">png_alloc_size_t</span> <span class="n">size</span><span class="p">),</span> <span class="n">PNG_ALLOCATED</span><span class="p">);</span>
<a name="line-1913"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_free_default</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">ptr</span><span class="p">));</span>
<a name="line-1914"></a><span class="cp">#endif</span>
<a name="line-1915"></a>
<a name="line-1916"></a><span class="cp">#ifdef PNG_ERROR_TEXT_SUPPORTED</span>
<a name="line-1917"></a><span class="cm">/* Fatal error in PNG image of libpng - can&#39;t continue */</span>
<a name="line-1918"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">102</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_error</span><span class="p">,</span>
<a name="line-1919"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_charp</span> <span class="n">error_message</span><span class="p">),</span>
<a name="line-1920"></a>    <span class="n">PNG_NORETURN</span><span class="p">);</span>
<a name="line-1921"></a>
<a name="line-1922"></a><span class="cm">/* The same, but the chunk name is prepended to the error string. */</span>
<a name="line-1923"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">103</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_chunk_error</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1924"></a>    <span class="n">png_const_charp</span> <span class="n">error_message</span><span class="p">),</span> <span class="n">PNG_NORETURN</span><span class="p">);</span>
<a name="line-1925"></a>
<a name="line-1926"></a><span class="cp">#else</span>
<a name="line-1927"></a><span class="cm">/* Fatal error in PNG image of libpng - can&#39;t continue */</span>
<a name="line-1928"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">104</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_err</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">),</span> <span class="n">PNG_NORETURN</span><span class="p">);</span>
<a name="line-1929"></a><span class="cp">#endif</span>
<a name="line-1930"></a>
<a name="line-1931"></a><span class="cp">#ifdef PNG_WARNINGS_SUPPORTED</span>
<a name="line-1932"></a><span class="cm">/* Non-fatal error in libpng.  Can continue, but may have a problem. */</span>
<a name="line-1933"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">105</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_warning</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1934"></a>    <span class="n">png_const_charp</span> <span class="n">warning_message</span><span class="p">));</span>
<a name="line-1935"></a>
<a name="line-1936"></a><span class="cm">/* Non-fatal error in libpng, chunk name is prepended to message. */</span>
<a name="line-1937"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">106</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_chunk_warning</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1938"></a>    <span class="n">png_const_charp</span> <span class="n">warning_message</span><span class="p">));</span>
<a name="line-1939"></a><span class="cp">#endif</span>
<a name="line-1940"></a>
<a name="line-1941"></a><span class="cp">#ifdef PNG_BENIGN_ERRORS_SUPPORTED</span>
<a name="line-1942"></a><span class="cm">/* Benign error in libpng.  Can continue, but may have a problem.</span>
<a name="line-1943"></a><span class="cm"> * User can choose whether to handle as a fatal error or as a warning. */</span>
<a name="line-1944"></a><span class="cp">#  undef png_benign_error</span>
<a name="line-1945"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">107</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_benign_error</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1946"></a>    <span class="n">png_const_charp</span> <span class="n">warning_message</span><span class="p">));</span>
<a name="line-1947"></a>
<a name="line-1948"></a><span class="cm">/* Same, chunk name is prepended to message. */</span>
<a name="line-1949"></a><span class="cp">#  undef png_chunk_benign_error</span>
<a name="line-1950"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">108</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_chunk_benign_error</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1951"></a>    <span class="n">png_const_charp</span> <span class="n">warning_message</span><span class="p">));</span>
<a name="line-1952"></a>
<a name="line-1953"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">109</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_benign_errors</span><span class="p">,</span>
<a name="line-1954"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">allowed</span><span class="p">));</span>
<a name="line-1955"></a><span class="cp">#else</span>
<a name="line-1956"></a><span class="cp">#  ifdef PNG_ALLOW_BENIGN_ERRORS</span>
<a name="line-1957"></a><span class="cp">#    define png_benign_error png_warning</span>
<a name="line-1958"></a><span class="cp">#    define png_chunk_benign_error png_chunk_warning</span>
<a name="line-1959"></a><span class="cp">#  else</span>
<a name="line-1960"></a><span class="cp">#    define png_benign_error png_error</span>
<a name="line-1961"></a><span class="cp">#    define png_chunk_benign_error png_chunk_error</span>
<a name="line-1962"></a><span class="cp">#  endif</span>
<a name="line-1963"></a><span class="cp">#endif</span>
<a name="line-1964"></a>
<a name="line-1965"></a><span class="cm">/* The png_set_&lt;chunk&gt; functions are for storing values in the png_info_struct.</span>
<a name="line-1966"></a><span class="cm"> * Similarly, the png_get_&lt;chunk&gt; calls are used to read values from the</span>
<a name="line-1967"></a><span class="cm"> * png_info_struct, either storing the parameters in the passed variables, or</span>
<a name="line-1968"></a><span class="cm"> * setting pointers into the png_info_struct where the data is stored.  The</span>
<a name="line-1969"></a><span class="cm"> * png_get_&lt;chunk&gt; functions return a non-zero value if the data was available</span>
<a name="line-1970"></a><span class="cm"> * in info_ptr, or return zero and do not change any of the parameters if the</span>
<a name="line-1971"></a><span class="cm"> * data was not available.</span>
<a name="line-1972"></a><span class="cm"> *</span>
<a name="line-1973"></a><span class="cm"> * These functions should be used instead of directly accessing png_info</span>
<a name="line-1974"></a><span class="cm"> * to avoid problems with future changes in the size and internal layout of</span>
<a name="line-1975"></a><span class="cm"> * png_info_struct.</span>
<a name="line-1976"></a><span class="cm"> */</span>
<a name="line-1977"></a><span class="cm">/* Returns &quot;flag&quot; if chunk data is valid in info_ptr. */</span>
<a name="line-1978"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">110</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_valid</span><span class="p">,</span>
<a name="line-1979"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-1980"></a>    <span class="n">png_uint_32</span> <span class="n">flag</span><span class="p">));</span>
<a name="line-1981"></a>
<a name="line-1982"></a><span class="cm">/* Returns number of bytes needed to hold a transformed row. */</span>
<a name="line-1983"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="kt">png_size_t</span><span class="p">,</span> <span class="n">png_get_rowbytes</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1984"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-1985"></a>
<a name="line-1986"></a><span class="cp">#ifdef PNG_INFO_IMAGE_SUPPORTED</span>
<a name="line-1987"></a><span class="cm">/* Returns row_pointers, which is an array of pointers to scanlines that was</span>
<a name="line-1988"></a><span class="cm"> * returned from png_read_png().</span>
<a name="line-1989"></a><span class="cm"> */</span>
<a name="line-1990"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">112</span><span class="p">,</span> <span class="n">png_bytepp</span><span class="p">,</span> <span class="n">png_get_rows</span><span class="p">,</span>
<a name="line-1991"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-1992"></a><span class="hll"><span class="cm">/* Set row_pointers, which is an array of pointers to scanlines for use</span><span class='inconclusive2'>&lt;--- The variable 'png_bytepp' hides a typedef with the same name.</span>
</span><a name="line-1993"></a><span class="cm"> * by png_write_png().</span>
<a name="line-1994"></a><span class="cm"> */</span>
<a name="line-1995"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">113</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_rows</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-1996"></a>    <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_bytepp</span> <span class="n">row_pointers</span><span class="p">));</span>
<a name="line-1997"></a><span class="cp">#endif</span>
<a name="line-1998"></a>
<a name="line-1999"></a><span class="cm">/* Returns number of color channels in image. */</span>
<a name="line-2000"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">114</span><span class="p">,</span> <span class="n">png_byte</span><span class="p">,</span> <span class="n">png_get_channels</span><span class="p">,</span>
<a name="line-2001"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2002"></a>
<a name="line-2003"></a><span class="cp">#ifdef PNG_EASY_ACCESS_SUPPORTED</span>
<a name="line-2004"></a><span class="cm">/* Returns image width in pixels. */</span>
<a name="line-2005"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">115</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_image_width</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2006"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2007"></a>
<a name="line-2008"></a><span class="cm">/* Returns image height in pixels. */</span>
<a name="line-2009"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">116</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_image_height</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2010"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2011"></a>
<a name="line-2012"></a><span class="cm">/* Returns image bit_depth. */</span>
<a name="line-2013"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">117</span><span class="p">,</span> <span class="n">png_byte</span><span class="p">,</span> <span class="n">png_get_bit_depth</span><span class="p">,</span>
<a name="line-2014"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2015"></a>
<a name="line-2016"></a><span class="cm">/* Returns image color_type. */</span>
<a name="line-2017"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">118</span><span class="p">,</span> <span class="n">png_byte</span><span class="p">,</span> <span class="n">png_get_color_type</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2018"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2019"></a>
<a name="line-2020"></a><span class="cm">/* Returns image filter_type. */</span>
<a name="line-2021"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">119</span><span class="p">,</span> <span class="n">png_byte</span><span class="p">,</span> <span class="n">png_get_filter_type</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2022"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2023"></a>
<a name="line-2024"></a><span class="cm">/* Returns image interlace_type. */</span>
<a name="line-2025"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="n">png_byte</span><span class="p">,</span> <span class="n">png_get_interlace_type</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2026"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2027"></a>
<a name="line-2028"></a><span class="cm">/* Returns image compression_type. */</span>
<a name="line-2029"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">121</span><span class="p">,</span> <span class="n">png_byte</span><span class="p">,</span> <span class="n">png_get_compression_type</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2030"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2031"></a>
<a name="line-2032"></a><span class="cm">/* Returns image resolution in pixels per meter, from pHYs chunk data. */</span>
<a name="line-2033"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_pixels_per_meter</span><span class="p">,</span>
<a name="line-2034"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2035"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_x_pixels_per_meter</span><span class="p">,</span>
<a name="line-2036"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2037"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">124</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_y_pixels_per_meter</span><span class="p">,</span>
<a name="line-2038"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2039"></a>
<a name="line-2040"></a><span class="cm">/* Returns pixel aspect ratio, computed from pHYs chunk data.  */</span>
<a name="line-2041"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="n">png_get_pixel_aspect_ratio</span><span class="p">,</span>
<a name="line-2042"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2043"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="n">png_fixed_point</span><span class="p">,</span> <span class="n">png_get_pixel_aspect_ratio_fixed</span><span class="p">,</span>
<a name="line-2044"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2045"></a><span class="hll"><span class='inconclusive2'>&lt;--- The variable 'png_fixed_point' hides a typedef with the same name.</span>
</span><a name="line-2046"></a><span class="cm">/* Returns image x, y offset in pixels or microns, from oFFs chunk data. */</span>
<a name="line-2047"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">126</span><span class="p">,</span> <span class="n">png_int_32</span><span class="p">,</span> <span class="n">png_get_x_offset_pixels</span><span class="p">,</span>
<a name="line-2048"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2049"></a><span class="hll"><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">127</span><span class="p">,</span> <span class="n">png_int_32</span><span class="p">,</span> <span class="n">png_get_y_offset_pixels</span><span class="p">,</span><span class='inconclusive2'>&lt;--- The variable 'png_int_32' hides a typedef with the same name.</span>
</span><a name="line-2050"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2051"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">png_int_32</span><span class="p">,</span> <span class="n">png_get_x_offset_microns</span><span class="p">,</span>
<a name="line-2052"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2053"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">129</span><span class="p">,</span> <span class="n">png_int_32</span><span class="p">,</span> <span class="n">png_get_y_offset_microns</span><span class="p">,</span>
<a name="line-2054"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2055"></a>
<a name="line-2056"></a><span class="cp">#endif </span><span class="cm">/* PNG_EASY_ACCESS_SUPPORTED */</span><span class="cp"></span>
<a name="line-2057"></a>
<a name="line-2058"></a><span class="cm">/* Returns pointer to signature string read from PNG header */</span>
<a name="line-2059"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span> <span class="n">png_const_bytep</span><span class="p">,</span> <span class="n">png_get_signature</span><span class="p">,</span>
<a name="line-2060"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2061"></a><span class="hll"><span class='inconclusive2'>&lt;--- The variable 'png_const_bytep' hides a typedef with the same name.</span>
</span><a name="line-2062"></a><span class="cp">#ifdef PNG_bKGD_SUPPORTED</span>
<a name="line-2063"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">131</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_bKGD</span><span class="p">,</span>
<a name="line-2064"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2065"></a>    <span class="n">png_color_16p</span> <span class="o">*</span><span class="n">background</span><span class="p">));</span>
<a name="line-2066"></a><span class="cp">#endif</span>
<a name="line-2067"></a>
<a name="line-2068"></a><span class="cp">#ifdef PNG_bKGD_SUPPORTED</span>
<a name="line-2069"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">132</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_bKGD</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2070"></a>    <span class="n">png_const_color_16p</span> <span class="n">background</span><span class="p">));</span>
<a name="line-2071"></a><span class="cp">#endif</span>
<a name="line-2072"></a>
<a name="line-2073"></a><span class="cp">#ifdef PNG_cHRM_SUPPORTED</span>
<a name="line-2074"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">133</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_cHRM</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2075"></a>   <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">white_x</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">white_y</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">red_x</span><span class="p">,</span>
<a name="line-2076"></a>    <span class="kt">double</span> <span class="o">*</span><span class="n">red_y</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">green_x</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">green_y</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">blue_x</span><span class="p">,</span>
<a name="line-2077"></a>    <span class="kt">double</span> <span class="o">*</span><span class="n">blue_y</span><span class="p">));</span>
<a name="line-2078"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">230</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_cHRM_XYZ</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2079"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">red_X</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">red_Y</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">red_Z</span><span class="p">,</span>
<a name="line-2080"></a>    <span class="kt">double</span> <span class="o">*</span><span class="n">green_X</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">green_Y</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">green_Z</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">blue_X</span><span class="p">,</span>
<a name="line-2081"></a>    <span class="kt">double</span> <span class="o">*</span><span class="n">blue_Y</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">blue_Z</span><span class="p">));</span>
<a name="line-2082"></a><span class="cp">#ifdef PNG_FIXED_POINT_SUPPORTED </span><span class="cm">/* Otherwise not implemented */</span><span class="cp"></span>
<a name="line-2083"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">134</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_cHRM_fixed</span><span class="p">,</span>
<a name="line-2084"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2085"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_white_x</span><span class="p">,</span>
<a name="line-2086"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_white_y</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_red_x</span><span class="p">,</span>
<a name="line-2087"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_red_y</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_green_x</span><span class="p">,</span>
<a name="line-2088"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_green_y</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_blue_x</span><span class="p">,</span>
<a name="line-2089"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_blue_y</span><span class="p">));</span>
<a name="line-2090"></a><span class="cp">#endif</span>
<a name="line-2091"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">231</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_cHRM_XYZ_fixed</span><span class="p">,</span>
<a name="line-2092"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2093"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_red_X</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_red_Y</span><span class="p">,</span>
<a name="line-2094"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_red_Z</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_green_X</span><span class="p">,</span>
<a name="line-2095"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_green_Y</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_green_Z</span><span class="p">,</span>
<a name="line-2096"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_blue_X</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_blue_Y</span><span class="p">,</span>
<a name="line-2097"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_blue_Z</span><span class="p">));</span>
<a name="line-2098"></a><span class="cp">#endif</span>
<a name="line-2099"></a>
<a name="line-2100"></a><span class="cp">#ifdef PNG_cHRM_SUPPORTED</span>
<a name="line-2101"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">135</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_cHRM</span><span class="p">,</span>
<a name="line-2102"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2103"></a>    <span class="kt">double</span> <span class="n">white_x</span><span class="p">,</span> <span class="kt">double</span> <span class="n">white_y</span><span class="p">,</span> <span class="kt">double</span> <span class="n">red_x</span><span class="p">,</span> <span class="kt">double</span> <span class="n">red_y</span><span class="p">,</span> <span class="kt">double</span> <span class="n">green_x</span><span class="p">,</span>
<a name="line-2104"></a>    <span class="kt">double</span> <span class="n">green_y</span><span class="p">,</span> <span class="kt">double</span> <span class="n">blue_x</span><span class="p">,</span> <span class="kt">double</span> <span class="n">blue_y</span><span class="p">));</span>
<a name="line-2105"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">232</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_cHRM_XYZ</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2106"></a>    <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">double</span> <span class="n">red_X</span><span class="p">,</span> <span class="kt">double</span> <span class="n">red_Y</span><span class="p">,</span> <span class="kt">double</span> <span class="n">red_Z</span><span class="p">,</span>
<a name="line-2107"></a>    <span class="kt">double</span> <span class="n">green_X</span><span class="p">,</span> <span class="kt">double</span> <span class="n">green_Y</span><span class="p">,</span> <span class="kt">double</span> <span class="n">green_Z</span><span class="p">,</span> <span class="kt">double</span> <span class="n">blue_X</span><span class="p">,</span>
<a name="line-2108"></a>    <span class="kt">double</span> <span class="n">blue_Y</span><span class="p">,</span> <span class="kt">double</span> <span class="n">blue_Z</span><span class="p">));</span>
<a name="line-2109"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">136</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_cHRM_fixed</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2110"></a>    <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">int_white_x</span><span class="p">,</span>
<a name="line-2111"></a>    <span class="n">png_fixed_point</span> <span class="n">int_white_y</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">int_red_x</span><span class="p">,</span>
<a name="line-2112"></a>    <span class="n">png_fixed_point</span> <span class="n">int_red_y</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">int_green_x</span><span class="p">,</span>
<a name="line-2113"></a>    <span class="n">png_fixed_point</span> <span class="n">int_green_y</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">int_blue_x</span><span class="p">,</span>
<a name="line-2114"></a>    <span class="n">png_fixed_point</span> <span class="n">int_blue_y</span><span class="p">));</span>
<a name="line-2115"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">233</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_cHRM_XYZ_fixed</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2116"></a>    <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">int_red_X</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">int_red_Y</span><span class="p">,</span>
<a name="line-2117"></a>    <span class="n">png_fixed_point</span> <span class="n">int_red_Z</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">int_green_X</span><span class="p">,</span>
<a name="line-2118"></a>    <span class="n">png_fixed_point</span> <span class="n">int_green_Y</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">int_green_Z</span><span class="p">,</span>
<a name="line-2119"></a>    <span class="n">png_fixed_point</span> <span class="n">int_blue_X</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">int_blue_Y</span><span class="p">,</span>
<a name="line-2120"></a>    <span class="n">png_fixed_point</span> <span class="n">int_blue_Z</span><span class="p">));</span>
<a name="line-2121"></a><span class="cp">#endif</span>
<a name="line-2122"></a>
<a name="line-2123"></a><span class="cp">#ifdef PNG_gAMA_SUPPORTED</span>
<a name="line-2124"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">137</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_gAMA</span><span class="p">,</span>
<a name="line-2125"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2126"></a>    <span class="kt">double</span> <span class="o">*</span><span class="n">file_gamma</span><span class="p">));</span>
<a name="line-2127"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">138</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_gAMA_fixed</span><span class="p">,</span>
<a name="line-2128"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2129"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">int_file_gamma</span><span class="p">));</span>
<a name="line-2130"></a><span class="cp">#endif</span>
<a name="line-2131"></a>
<a name="line-2132"></a><span class="cp">#ifdef PNG_gAMA_SUPPORTED</span>
<a name="line-2133"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">139</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_gAMA</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2134"></a>    <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">double</span> <span class="n">file_gamma</span><span class="p">));</span>
<a name="line-2135"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">140</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_gAMA_fixed</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2136"></a>    <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">int_file_gamma</span><span class="p">));</span>
<a name="line-2137"></a><span class="cp">#endif</span>
<a name="line-2138"></a>
<a name="line-2139"></a><span class="cp">#ifdef PNG_hIST_SUPPORTED</span>
<a name="line-2140"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">141</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_hIST</span><span class="p">,</span>
<a name="line-2141"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2142"></a>    <span class="n">png_uint_16p</span> <span class="o">*</span><span class="n">hist</span><span class="p">));</span>
<a name="line-2143"></a><span class="cp">#endif</span>
<a name="line-2144"></a>
<a name="line-2145"></a><span class="cp">#ifdef PNG_hIST_SUPPORTED</span>
<a name="line-2146"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">142</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_hIST</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2147"></a>    <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_const_uint_16p</span> <span class="n">hist</span><span class="p">));</span>
<a name="line-2148"></a><span class="cp">#endif</span>
<a name="line-2149"></a>
<a name="line-2150"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">143</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_IHDR</span><span class="p">,</span>
<a name="line-2151"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2152"></a>    <span class="n">png_uint_32</span> <span class="o">*</span><span class="n">width</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="o">*</span><span class="n">height</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">bit_depth</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">color_type</span><span class="p">,</span>
<a name="line-2153"></a>    <span class="kt">int</span> <span class="o">*</span><span class="n">interlace_method</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">compression_method</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">filter_method</span><span class="p">));</span>
<a name="line-2154"></a>
<a name="line-2155"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">144</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_IHDR</span><span class="p">,</span>
<a name="line-2156"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2157"></a>    <span class="n">png_uint_32</span> <span class="n">width</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="n">height</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bit_depth</span><span class="p">,</span> <span class="kt">int</span> <span class="n">color_type</span><span class="p">,</span>
<a name="line-2158"></a>    <span class="kt">int</span> <span class="n">interlace_method</span><span class="p">,</span> <span class="kt">int</span> <span class="n">compression_method</span><span class="p">,</span> <span class="kt">int</span> <span class="n">filter_method</span><span class="p">));</span>
<a name="line-2159"></a>
<a name="line-2160"></a><span class="cp">#ifdef PNG_oFFs_SUPPORTED</span>
<a name="line-2161"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">145</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_oFFs</span><span class="p">,</span>
<a name="line-2162"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2163"></a>    <span class="n">png_int_32</span> <span class="o">*</span><span class="n">offset_x</span><span class="p">,</span> <span class="n">png_int_32</span> <span class="o">*</span><span class="n">offset_y</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">unit_type</span><span class="p">));</span>
<a name="line-2164"></a><span class="cp">#endif</span>
<a name="line-2165"></a>
<a name="line-2166"></a><span class="cp">#ifdef PNG_oFFs_SUPPORTED</span>
<a name="line-2167"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">146</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_oFFs</span><span class="p">,</span>
<a name="line-2168"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2169"></a>    <span class="n">png_int_32</span> <span class="n">offset_x</span><span class="p">,</span> <span class="n">png_int_32</span> <span class="n">offset_y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">unit_type</span><span class="p">));</span>
<a name="line-2170"></a><span class="cp">#endif</span>
<a name="line-2171"></a>
<a name="line-2172"></a><span class="cp">#ifdef PNG_pCAL_SUPPORTED</span>
<a name="line-2173"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">147</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_pCAL</span><span class="p">,</span>
<a name="line-2174"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2175"></a>    <span class="n">png_charp</span> <span class="o">*</span><span class="n">purpose</span><span class="p">,</span> <span class="n">png_int_32</span> <span class="o">*</span><span class="n">X0</span><span class="p">,</span> <span class="n">png_int_32</span> <span class="o">*</span><span class="n">X1</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">type</span><span class="p">,</span>
<a name="line-2176"></a>    <span class="kt">int</span> <span class="o">*</span><span class="n">nparams</span><span class="p">,</span>
<a name="line-2177"></a>    <span class="n">png_charp</span> <span class="o">*</span><span class="n">units</span><span class="p">,</span> <span class="n">png_charpp</span> <span class="o">*</span><span class="n">params</span><span class="p">));</span>
<a name="line-2178"></a><span class="cp">#endif</span>
<a name="line-2179"></a>
<a name="line-2180"></a><span class="cp">#ifdef PNG_pCAL_SUPPORTED</span>
<a name="line-2181"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">148</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_pCAL</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2182"></a>    <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2183"></a>    <span class="n">png_const_charp</span> <span class="n">purpose</span><span class="p">,</span> <span class="n">png_int_32</span> <span class="n">X0</span><span class="p">,</span> <span class="n">png_int_32</span> <span class="n">X1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">type</span><span class="p">,</span>
<a name="line-2184"></a>    <span class="kt">int</span> <span class="n">nparams</span><span class="p">,</span> <span class="n">png_const_charp</span> <span class="n">units</span><span class="p">,</span> <span class="n">png_charpp</span> <span class="n">params</span><span class="p">));</span>
<a name="line-2185"></a><span class="cp">#endif</span>
<a name="line-2186"></a>
<a name="line-2187"></a><span class="cp">#ifdef PNG_pHYs_SUPPORTED</span>
<a name="line-2188"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">149</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_pHYs</span><span class="p">,</span>
<a name="line-2189"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2190"></a>    <span class="n">png_uint_32</span> <span class="o">*</span><span class="n">res_x</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="o">*</span><span class="n">res_y</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">unit_type</span><span class="p">));</span>
<a name="line-2191"></a><span class="cp">#endif</span>
<a name="line-2192"></a>
<a name="line-2193"></a><span class="cp">#ifdef PNG_pHYs_SUPPORTED</span>
<a name="line-2194"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_pHYs</span><span class="p">,</span>
<a name="line-2195"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2196"></a>    <span class="n">png_uint_32</span> <span class="n">res_x</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="n">res_y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">unit_type</span><span class="p">));</span>
<a name="line-2197"></a><span class="cp">#endif</span>
<a name="line-2198"></a>
<a name="line-2199"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">151</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_PLTE</span><span class="p">,</span>
<a name="line-2200"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2201"></a>    <span class="n">png_colorp</span> <span class="o">*</span><span class="n">palette</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">num_palette</span><span class="p">));</span>
<a name="line-2202"></a>
<a name="line-2203"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">152</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_PLTE</span><span class="p">,</span>
<a name="line-2204"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2205"></a>    <span class="n">png_const_colorp</span> <span class="n">palette</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num_palette</span><span class="p">));</span>
<a name="line-2206"></a>
<a name="line-2207"></a><span class="cp">#ifdef PNG_sBIT_SUPPORTED</span>
<a name="line-2208"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">153</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_sBIT</span><span class="p">,</span>
<a name="line-2209"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2210"></a>    <span class="n">png_color_8p</span> <span class="o">*</span><span class="n">sig_bit</span><span class="p">));</span>
<a name="line-2211"></a><span class="cp">#endif</span>
<a name="line-2212"></a>
<a name="line-2213"></a><span class="cp">#ifdef PNG_sBIT_SUPPORTED</span>
<a name="line-2214"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">154</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_sBIT</span><span class="p">,</span>
<a name="line-2215"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_const_color_8p</span> <span class="n">sig_bit</span><span class="p">));</span>
<a name="line-2216"></a><span class="cp">#endif</span>
<a name="line-2217"></a>
<a name="line-2218"></a><span class="cp">#ifdef PNG_sRGB_SUPPORTED</span>
<a name="line-2219"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">155</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_sRGB</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2220"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">file_srgb_intent</span><span class="p">));</span>
<a name="line-2221"></a><span class="cp">#endif</span>
<a name="line-2222"></a>
<a name="line-2223"></a><span class="cp">#ifdef PNG_sRGB_SUPPORTED</span>
<a name="line-2224"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">156</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_sRGB</span><span class="p">,</span>
<a name="line-2225"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">srgb_intent</span><span class="p">));</span>
<a name="line-2226"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">157</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_sRGB_gAMA_and_cHRM</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2227"></a>    <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">srgb_intent</span><span class="p">));</span>
<a name="line-2228"></a><span class="cp">#endif</span>
<a name="line-2229"></a>
<a name="line-2230"></a><span class="cp">#ifdef PNG_iCCP_SUPPORTED</span>
<a name="line-2231"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">158</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_iCCP</span><span class="p">,</span>
<a name="line-2232"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2233"></a>    <span class="n">png_charpp</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">compression_type</span><span class="p">,</span> <span class="n">png_bytepp</span> <span class="n">profile</span><span class="p">,</span>
<a name="line-2234"></a>    <span class="n">png_uint_32</span> <span class="o">*</span><span class="n">proflen</span><span class="p">));</span>
<a name="line-2235"></a><span class="cp">#endif</span>
<a name="line-2236"></a>
<a name="line-2237"></a><span class="cp">#ifdef PNG_iCCP_SUPPORTED</span>
<a name="line-2238"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">159</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_iCCP</span><span class="p">,</span>
<a name="line-2239"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2240"></a>    <span class="n">png_const_charp</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">compression_type</span><span class="p">,</span> <span class="n">png_const_bytep</span> <span class="n">profile</span><span class="p">,</span>
<a name="line-2241"></a>    <span class="n">png_uint_32</span> <span class="n">proflen</span><span class="p">));</span>
<a name="line-2242"></a><span class="cp">#endif</span>
<a name="line-2243"></a>
<a name="line-2244"></a><span class="cp">#ifdef PNG_sPLT_SUPPORTED</span>
<a name="line-2245"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">160</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_sPLT</span><span class="p">,</span>
<a name="line-2246"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2247"></a>    <span class="n">png_sPLT_tpp</span> <span class="n">entries</span><span class="p">));</span>
<a name="line-2248"></a><span class="cp">#endif</span>
<a name="line-2249"></a>
<a name="line-2250"></a><span class="cp">#ifdef PNG_sPLT_SUPPORTED</span>
<a name="line-2251"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">161</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_sPLT</span><span class="p">,</span>
<a name="line-2252"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2253"></a>    <span class="n">png_const_sPLT_tp</span> <span class="n">entries</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nentries</span><span class="p">));</span>
<a name="line-2254"></a><span class="cp">#endif</span>
<a name="line-2255"></a>
<a name="line-2256"></a><span class="cp">#ifdef PNG_TEXT_SUPPORTED</span>
<a name="line-2257"></a><span class="cm">/* png_get_text also returns the number of text chunks in *num_text */</span>
<a name="line-2258"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">162</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_text</span><span class="p">,</span>
<a name="line-2259"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2260"></a>    <span class="n">png_textp</span> <span class="o">*</span><span class="n">text_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">num_text</span><span class="p">));</span>
<a name="line-2261"></a><span class="cp">#endif</span>
<a name="line-2262"></a>
<a name="line-2263"></a><span class="cm">/* Note while png_set_text() will accept a structure whose text,</span>
<a name="line-2264"></a><span class="cm"> * language, and  translated keywords are NULL pointers, the structure</span>
<a name="line-2265"></a><span class="cm"> * returned by png_get_text will always contain regular</span>
<a name="line-2266"></a><span class="cm"> * zero-terminated C strings.  They might be empty strings but</span>
<a name="line-2267"></a><span class="cm"> * they will never be NULL pointers.</span>
<a name="line-2268"></a><span class="cm"> */</span>
<a name="line-2269"></a>
<a name="line-2270"></a><span class="cp">#ifdef PNG_TEXT_SUPPORTED</span>
<a name="line-2271"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">163</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_text</span><span class="p">,</span>
<a name="line-2272"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2273"></a>    <span class="n">png_const_textp</span> <span class="n">text_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num_text</span><span class="p">));</span>
<a name="line-2274"></a><span class="cp">#endif</span>
<a name="line-2275"></a>
<a name="line-2276"></a><span class="cp">#ifdef PNG_tIME_SUPPORTED</span>
<a name="line-2277"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">164</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_tIME</span><span class="p">,</span>
<a name="line-2278"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_timep</span> <span class="o">*</span><span class="n">mod_time</span><span class="p">));</span>
<a name="line-2279"></a><span class="cp">#endif</span>
<a name="line-2280"></a>
<a name="line-2281"></a><span class="cp">#ifdef PNG_tIME_SUPPORTED</span>
<a name="line-2282"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">165</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_tIME</span><span class="p">,</span>
<a name="line-2283"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_const_timep</span> <span class="n">mod_time</span><span class="p">));</span>
<a name="line-2284"></a><span class="cp">#endif</span>
<a name="line-2285"></a>
<a name="line-2286"></a><span class="cp">#ifdef PNG_tRNS_SUPPORTED</span>
<a name="line-2287"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">166</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_tRNS</span><span class="p">,</span>
<a name="line-2288"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2289"></a>    <span class="n">png_bytep</span> <span class="o">*</span><span class="n">trans_alpha</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">num_trans</span><span class="p">,</span> <span class="n">png_color_16p</span> <span class="o">*</span><span class="n">trans_color</span><span class="p">));</span>
<a name="line-2290"></a><span class="cp">#endif</span>
<a name="line-2291"></a>
<a name="line-2292"></a><span class="cp">#ifdef PNG_tRNS_SUPPORTED</span>
<a name="line-2293"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">167</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_tRNS</span><span class="p">,</span>
<a name="line-2294"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2295"></a>    <span class="n">png_const_bytep</span> <span class="n">trans_alpha</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num_trans</span><span class="p">,</span>
<a name="line-2296"></a>    <span class="n">png_const_color_16p</span> <span class="n">trans_color</span><span class="p">));</span>
<a name="line-2297"></a><span class="cp">#endif</span>
<a name="line-2298"></a>
<a name="line-2299"></a><span class="cp">#ifdef PNG_sCAL_SUPPORTED</span>
<a name="line-2300"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">168</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_sCAL</span><span class="p">,</span>
<a name="line-2301"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2302"></a>    <span class="kt">int</span> <span class="o">*</span><span class="n">unit</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">width</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">height</span><span class="p">));</span>
<a name="line-2303"></a><span class="cp">#ifdef PNG_FLOATING_ARITHMETIC_SUPPORTED</span>
<a name="line-2304"></a><span class="cm">/* NOTE: this API is currently implemented using floating point arithmetic,</span>
<a name="line-2305"></a><span class="cm"> * consequently it can only be used on systems with floating point support.</span>
<a name="line-2306"></a><span class="cm"> * In any case the range of values supported by png_fixed_point is small and it</span>
<a name="line-2307"></a><span class="cm"> * is highly recommended that png_get_sCAL_s be used instead.</span>
<a name="line-2308"></a><span class="cm"> */</span>
<a name="line-2309"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">214</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_sCAL_fixed</span><span class="p">,</span>
<a name="line-2310"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">unit</span><span class="p">,</span>
<a name="line-2311"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">width</span><span class="p">,</span>
<a name="line-2312"></a>    <span class="n">png_fixed_point</span> <span class="o">*</span><span class="n">height</span><span class="p">));</span>
<a name="line-2313"></a><span class="cp">#endif</span>
<a name="line-2314"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">169</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_sCAL_s</span><span class="p">,</span>
<a name="line-2315"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2316"></a>    <span class="kt">int</span> <span class="o">*</span><span class="n">unit</span><span class="p">,</span> <span class="n">png_charpp</span> <span class="n">swidth</span><span class="p">,</span> <span class="n">png_charpp</span> <span class="n">sheight</span><span class="p">));</span>
<a name="line-2317"></a>
<a name="line-2318"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">170</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_sCAL</span><span class="p">,</span>
<a name="line-2319"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2320"></a>    <span class="kt">int</span> <span class="n">unit</span><span class="p">,</span> <span class="kt">double</span> <span class="n">width</span><span class="p">,</span> <span class="kt">double</span> <span class="n">height</span><span class="p">));</span>
<a name="line-2321"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">213</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_sCAL_fixed</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2322"></a>   <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">unit</span><span class="p">,</span> <span class="n">png_fixed_point</span> <span class="n">width</span><span class="p">,</span>
<a name="line-2323"></a>   <span class="n">png_fixed_point</span> <span class="n">height</span><span class="p">));</span>
<a name="line-2324"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">171</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_sCAL_s</span><span class="p">,</span>
<a name="line-2325"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2326"></a>    <span class="kt">int</span> <span class="n">unit</span><span class="p">,</span> <span class="n">png_const_charp</span> <span class="n">swidth</span><span class="p">,</span> <span class="n">png_const_charp</span> <span class="n">sheight</span><span class="p">));</span>
<a name="line-2327"></a><span class="cp">#endif </span><span class="cm">/* PNG_sCAL_SUPPORTED */</span><span class="cp"></span>
<a name="line-2328"></a>
<a name="line-2329"></a><span class="cp">#ifdef PNG_HANDLE_AS_UNKNOWN_SUPPORTED</span>
<a name="line-2330"></a><span class="cm">/* Provide a list of chunks and how they are to be handled, if the built-in</span>
<a name="line-2331"></a><span class="cm">   handling or default unknown chunk handling is not desired.  Any chunks not</span>
<a name="line-2332"></a><span class="cm">   listed will be handled in the default manner.  The IHDR and IEND chunks</span>
<a name="line-2333"></a><span class="cm">   must not be listed.  Because this turns off the default handling for chunks</span>
<a name="line-2334"></a><span class="cm">   that would otherwise be recognized the behavior of libpng transformations may</span>
<a name="line-2335"></a><span class="cm">   well become incorrect!</span>
<a name="line-2336"></a><span class="cm">      keep = 0: PNG_HANDLE_CHUNK_AS_DEFAULT: follow default behavior</span>
<a name="line-2337"></a><span class="cm">           = 1: PNG_HANDLE_CHUNK_NEVER:      do not keep</span>
<a name="line-2338"></a><span class="cm">           = 2: PNG_HANDLE_CHUNK_IF_SAFE:    keep only if safe-to-copy</span>
<a name="line-2339"></a><span class="cm">           = 3: PNG_HANDLE_CHUNK_ALWAYS:     keep even if unsafe-to-copy</span>
<a name="line-2340"></a><span class="cm">*/</span>
<a name="line-2341"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">172</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_keep_unknown_chunks</span><span class="p">,</span>
<a name="line-2342"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">keep</span><span class="p">,</span>
<a name="line-2343"></a>    <span class="n">png_const_bytep</span> <span class="n">chunk_list</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num_chunks</span><span class="p">));</span>
<a name="line-2344"></a>
<a name="line-2345"></a><span class="cm">/* The handling code is returned; the result is therefore true (non-zero) if</span>
<a name="line-2346"></a><span class="cm"> * special handling is required, false for the default handling.</span>
<a name="line-2347"></a><span class="cm"> */</span>
<a name="line-2348"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">173</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="n">png_handle_as_unknown</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2349"></a>    <span class="n">png_const_bytep</span> <span class="n">chunk_name</span><span class="p">));</span>
<a name="line-2350"></a><span class="cp">#endif</span>
<a name="line-2351"></a><span class="cp">#ifdef PNG_UNKNOWN_CHUNKS_SUPPORTED</span>
<a name="line-2352"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">174</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_unknown_chunks</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2353"></a>    <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_const_unknown_chunkp</span> <span class="n">unknowns</span><span class="p">,</span>
<a name="line-2354"></a>    <span class="kt">int</span> <span class="n">num_unknowns</span><span class="p">));</span>
<a name="line-2355"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">175</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_unknown_chunk_location</span><span class="p">,</span>
<a name="line-2356"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">chunk</span><span class="p">,</span> <span class="kt">int</span> <span class="n">location</span><span class="p">));</span>
<a name="line-2357"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">176</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="n">png_get_unknown_chunks</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2358"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_unknown_chunkpp</span> <span class="n">entries</span><span class="p">));</span>
<a name="line-2359"></a><span class="cp">#endif</span>
<a name="line-2360"></a>
<a name="line-2361"></a><span class="cm">/* Png_free_data() will turn off the &quot;valid&quot; flag for anything it frees.</span>
<a name="line-2362"></a><span class="cm"> * If you need to turn it off for a chunk that your application has freed,</span>
<a name="line-2363"></a><span class="cm"> * you can use png_set_invalid(png_ptr, info_ptr, PNG_INFO_CHNK);</span>
<a name="line-2364"></a><span class="cm"> */</span>
<a name="line-2365"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">177</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_invalid</span><span class="p">,</span>
<a name="line-2366"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">mask</span><span class="p">));</span>
<a name="line-2367"></a>
<a name="line-2368"></a><span class="cp">#ifdef PNG_INFO_IMAGE_SUPPORTED</span>
<a name="line-2369"></a><span class="cm">/* The &quot;params&quot; pointer is currently not used and is for future expansion. */</span>
<a name="line-2370"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">178</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_read_png</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2371"></a>    <span class="kt">int</span> <span class="n">transforms</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">params</span><span class="p">));</span>
<a name="line-2372"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">179</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_write_png</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_infop</span> <span class="n">info_ptr</span><span class="p">,</span>
<a name="line-2373"></a>    <span class="kt">int</span> <span class="n">transforms</span><span class="p">,</span> <span class="n">png_voidp</span> <span class="n">params</span><span class="p">));</span>
<a name="line-2374"></a><span class="cp">#endif</span>
<a name="line-2375"></a>
<a name="line-2376"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="n">png_const_charp</span><span class="p">,</span> <span class="n">png_get_copyright</span><span class="p">,</span>
<a name="line-2377"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-2378"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">181</span><span class="p">,</span> <span class="n">png_const_charp</span><span class="p">,</span> <span class="n">png_get_header_ver</span><span class="p">,</span>
<a name="line-2379"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-2380"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">182</span><span class="p">,</span> <span class="n">png_const_charp</span><span class="p">,</span> <span class="n">png_get_header_version</span><span class="p">,</span>
<a name="line-2381"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-2382"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">183</span><span class="p">,</span> <span class="n">png_const_charp</span><span class="p">,</span> <span class="n">png_get_libpng_ver</span><span class="p">,</span>
<a name="line-2383"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-2384"></a>
<a name="line-2385"></a><span class="cp">#ifdef PNG_MNG_FEATURES_SUPPORTED</span>
<a name="line-2386"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">184</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_permit_mng_features</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2387"></a>    <span class="n">png_uint_32</span> <span class="n">mng_features_permitted</span><span class="p">));</span>
<a name="line-2388"></a><span class="cp">#endif</span>
<a name="line-2389"></a>
<a name="line-2390"></a><span class="cm">/* For use in png_set_keep_unknown, added to version 1.2.6 */</span>
<a name="line-2391"></a><span class="cp">#define PNG_HANDLE_CHUNK_AS_DEFAULT   0</span>
<a name="line-2392"></a><span class="cp">#define PNG_HANDLE_CHUNK_NEVER        1</span>
<a name="line-2393"></a><span class="cp">#define PNG_HANDLE_CHUNK_IF_SAFE      2</span>
<a name="line-2394"></a><span class="cp">#define PNG_HANDLE_CHUNK_ALWAYS       3</span>
<a name="line-2395"></a>
<a name="line-2396"></a><span class="cm">/* Strip the prepended error numbers (&quot;#nnn &quot;) from error and warning</span>
<a name="line-2397"></a><span class="cm"> * messages before passing them to the error or warning handler.</span>
<a name="line-2398"></a><span class="cm"> */</span>
<a name="line-2399"></a><span class="cp">#ifdef PNG_ERROR_NUMBERS_SUPPORTED</span>
<a name="line-2400"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">185</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_strip_error_numbers</span><span class="p">,</span>
<a name="line-2401"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2402"></a>    <span class="n">png_uint_32</span> <span class="n">strip_mode</span><span class="p">));</span>
<a name="line-2403"></a><span class="cp">#endif</span>
<a name="line-2404"></a>
<a name="line-2405"></a><span class="cm">/* Added in libpng-1.2.6 */</span>
<a name="line-2406"></a><span class="cp">#ifdef PNG_SET_USER_LIMITS_SUPPORTED</span>
<a name="line-2407"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">186</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_user_limits</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2408"></a>    <span class="n">png_uint_32</span> <span class="n">user_width_max</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="n">user_height_max</span><span class="p">));</span>
<a name="line-2409"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">187</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_user_width_max</span><span class="p">,</span>
<a name="line-2410"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-2411"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">188</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_user_height_max</span><span class="p">,</span>
<a name="line-2412"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-2413"></a><span class="cm">/* Added in libpng-1.4.0 */</span>
<a name="line-2414"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">189</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_chunk_cache_max</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2415"></a>    <span class="n">png_uint_32</span> <span class="n">user_chunk_cache_max</span><span class="p">));</span>
<a name="line-2416"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">190</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_chunk_cache_max</span><span class="p">,</span>
<a name="line-2417"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-2418"></a><span class="cm">/* Added in libpng-1.4.1 */</span>
<a name="line-2419"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">191</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_set_chunk_malloc_max</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2420"></a>    <span class="kt">png_alloc_size_t</span> <span class="n">user_chunk_cache_max</span><span class="p">));</span>
<a name="line-2421"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">192</span><span class="p">,</span> <span class="kt">png_alloc_size_t</span><span class="p">,</span> <span class="n">png_get_chunk_malloc_max</span><span class="p">,</span>
<a name="line-2422"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-2423"></a><span class="hll"><span class="cp">#endif</span><span class='inconclusive2'>&lt;--- The variable 'png_alloc_size_t' hides a typedef with the same name.</span>
</span><a name="line-2424"></a>
<a name="line-2425"></a><span class="cp">#if defined(PNG_INCH_CONVERSIONS_SUPPORTED)</span>
<a name="line-2426"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">193</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_pixels_per_inch</span><span class="p">,</span>
<a name="line-2427"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2428"></a>
<a name="line-2429"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">194</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_x_pixels_per_inch</span><span class="p">,</span>
<a name="line-2430"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2431"></a>
<a name="line-2432"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">195</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_y_pixels_per_inch</span><span class="p">,</span>
<a name="line-2433"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2434"></a>
<a name="line-2435"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">196</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="n">png_get_x_offset_inches</span><span class="p">,</span>
<a name="line-2436"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2437"></a><span class="cp">#ifdef PNG_FIXED_POINT_SUPPORTED </span><span class="cm">/* otherwise not implemented. */</span><span class="cp"></span>
<a name="line-2438"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">211</span><span class="p">,</span> <span class="n">png_fixed_point</span><span class="p">,</span> <span class="n">png_get_x_offset_inches_fixed</span><span class="p">,</span>
<a name="line-2439"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2440"></a><span class="cp">#endif</span>
<a name="line-2441"></a>
<a name="line-2442"></a><span class="n">PNG_FP_EXPORT</span><span class="p">(</span><span class="mi">197</span><span class="p">,</span> <span class="kt">float</span><span class="p">,</span> <span class="n">png_get_y_offset_inches</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2443"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2444"></a><span class="cp">#ifdef PNG_FIXED_POINT_SUPPORTED </span><span class="cm">/* otherwise not implemented. */</span><span class="cp"></span>
<a name="line-2445"></a><span class="n">PNG_FIXED_EXPORT</span><span class="p">(</span><span class="mi">212</span><span class="p">,</span> <span class="n">png_fixed_point</span><span class="p">,</span> <span class="n">png_get_y_offset_inches_fixed</span><span class="p">,</span>
<a name="line-2446"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span> <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">));</span>
<a name="line-2447"></a><span class="cp">#endif</span>
<a name="line-2448"></a>
<a name="line-2449"></a><span class="cp">#  ifdef PNG_pHYs_SUPPORTED</span>
<a name="line-2450"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">198</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_pHYs_dpi</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2451"></a>    <span class="n">png_const_infop</span> <span class="n">info_ptr</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="o">*</span><span class="n">res_x</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="o">*</span><span class="n">res_y</span><span class="p">,</span>
<a name="line-2452"></a>    <span class="kt">int</span> <span class="o">*</span><span class="n">unit_type</span><span class="p">));</span>
<a name="line-2453"></a><span class="cp">#  endif </span><span class="cm">/* PNG_pHYs_SUPPORTED */</span><span class="cp"></span>
<a name="line-2454"></a><span class="cp">#endif  </span><span class="cm">/* PNG_INCH_CONVERSIONS_SUPPORTED */</span><span class="cp"></span>
<a name="line-2455"></a>
<a name="line-2456"></a><span class="cm">/* Added in libpng-1.4.0 */</span>
<a name="line-2457"></a><span class="cp">#ifdef PNG_IO_STATE_SUPPORTED</span>
<a name="line-2458"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">199</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_io_state</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-2459"></a>
<a name="line-2460"></a><span class="n">PNG_EXPORTA</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="n">png_const_bytep</span><span class="p">,</span> <span class="n">png_get_io_chunk_name</span><span class="p">,</span>
<a name="line-2461"></a>    <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">),</span> <span class="n">PNG_DEPRECATED</span><span class="p">);</span>
<a name="line-2462"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">216</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_io_chunk_type</span><span class="p">,</span>
<a name="line-2463"></a>    <span class="p">(</span><span class="n">png_const_structp</span> <span class="n">png_ptr</span><span class="p">));</span>
<a name="line-2464"></a>
<a name="line-2465"></a><span class="cm">/* The flags returned by png_get_io_state() are the following: */</span>
<a name="line-2466"></a><span class="cp">#  define PNG_IO_NONE        0x0000   </span><span class="cm">/* no I/O at this moment */</span><span class="cp"></span>
<a name="line-2467"></a><span class="cp">#  define PNG_IO_READING     0x0001   </span><span class="cm">/* currently reading */</span><span class="cp"></span>
<a name="line-2468"></a><span class="cp">#  define PNG_IO_WRITING     0x0002   </span><span class="cm">/* currently writing */</span><span class="cp"></span>
<a name="line-2469"></a><span class="cp">#  define PNG_IO_SIGNATURE   0x0010   </span><span class="cm">/* currently at the file signature */</span><span class="cp"></span>
<a name="line-2470"></a><span class="cp">#  define PNG_IO_CHUNK_HDR   0x0020   </span><span class="cm">/* currently at the chunk header */</span><span class="cp"></span>
<a name="line-2471"></a><span class="cp">#  define PNG_IO_CHUNK_DATA  0x0040   </span><span class="cm">/* currently at the chunk data */</span><span class="cp"></span>
<a name="line-2472"></a><span class="cp">#  define PNG_IO_CHUNK_CRC   0x0080   </span><span class="cm">/* currently at the chunk crc */</span><span class="cp"></span>
<a name="line-2473"></a><span class="cp">#  define PNG_IO_MASK_OP     0x000f   </span><span class="cm">/* current operation: reading/writing */</span><span class="cp"></span>
<a name="line-2474"></a><span class="cp">#  define PNG_IO_MASK_LOC    0x00f0   </span><span class="cm">/* current location: sig/hdr/data/crc */</span><span class="cp"></span>
<a name="line-2475"></a><span class="cp">#endif </span><span class="cm">/* ?PNG_IO_STATE_SUPPORTED */</span><span class="cp"></span>
<a name="line-2476"></a>
<a name="line-2477"></a><span class="cm">/* Interlace support.  The following macros are always defined so that if</span>
<a name="line-2478"></a><span class="cm"> * libpng interlace handling is turned off the macros may be used to handle</span>
<a name="line-2479"></a><span class="cm"> * interlaced images within the application.</span>
<a name="line-2480"></a><span class="cm"> */</span>
<a name="line-2481"></a><span class="cp">#define PNG_INTERLACE_ADAM7_PASSES 7</span>
<a name="line-2482"></a>
<a name="line-2483"></a><span class="cm">/* Two macros to return the first row and first column of the original,</span>
<a name="line-2484"></a><span class="cm"> * full, image which appears in a given pass.  &#39;pass&#39; is in the range 0</span>
<a name="line-2485"></a><span class="cm"> * to 6 and the result is in the range 0 to 7.</span>
<a name="line-2486"></a><span class="cm"> */</span>
<a name="line-2487"></a><span class="cp">#define PNG_PASS_START_ROW(pass) (((1&amp;~(pass))&lt;&lt;(3-((pass)&gt;&gt;1)))&amp;7)</span>
<a name="line-2488"></a><span class="cp">#define PNG_PASS_START_COL(pass) (((1&amp; (pass))&lt;&lt;(3-(((pass)+1)&gt;&gt;1)))&amp;7)</span>
<a name="line-2489"></a>
<a name="line-2490"></a><span class="cm">/* A macro to return the offset between pixels in the output row for a pair of</span>
<a name="line-2491"></a><span class="cm"> * pixels in the input - effectively the inverse of the &#39;COL_SHIFT&#39; macro that</span>
<a name="line-2492"></a><span class="cm"> * follows.  Note that ROW_OFFSET is the offset from one row to the next whereas</span>
<a name="line-2493"></a><span class="cm"> * COL_OFFSET is from one column to the next, within a row.</span>
<a name="line-2494"></a><span class="cm"> */</span>
<a name="line-2495"></a><span class="cp">#define PNG_PASS_ROW_OFFSET(pass) ((pass)&gt;2?(8&gt;&gt;(((pass)-1)&gt;&gt;1)):8)</span>
<a name="line-2496"></a><span class="cp">#define PNG_PASS_COL_OFFSET(pass) (1&lt;&lt;((7-(pass))&gt;&gt;1))</span>
<a name="line-2497"></a>
<a name="line-2498"></a><span class="cm">/* Two macros to help evaluate the number of rows or columns in each</span>
<a name="line-2499"></a><span class="cm"> * pass.  This is expressed as a shift - effectively log2 of the number or</span>
<a name="line-2500"></a><span class="cm"> * rows or columns in each 8x8 tile of the original image.</span>
<a name="line-2501"></a><span class="cm"> */</span>
<a name="line-2502"></a><span class="cp">#define PNG_PASS_ROW_SHIFT(pass) ((pass)&gt;2?(8-(pass))&gt;&gt;1:3)</span>
<a name="line-2503"></a><span class="cp">#define PNG_PASS_COL_SHIFT(pass) ((pass)&gt;1?(7-(pass))&gt;&gt;1:3)</span>
<a name="line-2504"></a>
<a name="line-2505"></a><span class="cm">/* Hence two macros to determine the number of rows or columns in a given</span>
<a name="line-2506"></a><span class="cm"> * pass of an image given its height or width.  In fact these macros may</span>
<a name="line-2507"></a><span class="cm"> * return non-zero even though the sub-image is empty, because the other</span>
<a name="line-2508"></a><span class="cm"> * dimension may be empty for a small image.</span>
<a name="line-2509"></a><span class="cm"> */</span>
<a name="line-2510"></a><span class="cp">#define PNG_PASS_ROWS(height, pass) (((height)+(((1&lt;&lt;PNG_PASS_ROW_SHIFT(pass))\</span>
<a name="line-2511"></a><span class="cp">   -1)-PNG_PASS_START_ROW(pass)))&gt;&gt;PNG_PASS_ROW_SHIFT(pass))</span>
<a name="line-2512"></a><span class="cp">#define PNG_PASS_COLS(width, pass) (((width)+(((1&lt;&lt;PNG_PASS_COL_SHIFT(pass))\</span>
<a name="line-2513"></a><span class="cp">   -1)-PNG_PASS_START_COL(pass)))&gt;&gt;PNG_PASS_COL_SHIFT(pass))</span>
<a name="line-2514"></a>
<a name="line-2515"></a><span class="cm">/* For the reader row callbacks (both progressive and sequential) it is</span>
<a name="line-2516"></a><span class="cm"> * necessary to find the row in the output image given a row in an interlaced</span>
<a name="line-2517"></a><span class="cm"> * image, so two more macros:</span>
<a name="line-2518"></a><span class="cm"> */</span>
<a name="line-2519"></a><span class="cp">#define PNG_ROW_FROM_PASS_ROW(yIn, pass) \</span>
<a name="line-2520"></a><span class="cp">   (((yIn)&lt;&lt;PNG_PASS_ROW_SHIFT(pass))+PNG_PASS_START_ROW(pass))</span>
<a name="line-2521"></a><span class="cp">#define PNG_COL_FROM_PASS_COL(xIn, pass) \</span>
<a name="line-2522"></a><span class="cp">   (((xIn)&lt;&lt;PNG_PASS_COL_SHIFT(pass))+PNG_PASS_START_COL(pass))</span>
<a name="line-2523"></a>
<a name="line-2524"></a><span class="cm">/* Two macros which return a boolean (0 or 1) saying whether the given row</span>
<a name="line-2525"></a><span class="cm"> * or column is in a particular pass.  These use a common utility macro that</span>
<a name="line-2526"></a><span class="cm"> * returns a mask for a given pass - the offset &#39;off&#39; selects the row or</span>
<a name="line-2527"></a><span class="cm"> * column version.  The mask has the appropriate bit set for each column in</span>
<a name="line-2528"></a><span class="cm"> * the tile.</span>
<a name="line-2529"></a><span class="cm"> */</span>
<a name="line-2530"></a><span class="cp">#define PNG_PASS_MASK(pass,off) ( \</span>
<a name="line-2531"></a><span class="cp">   ((0x110145AF&gt;&gt;(((7-(off))-(pass))&lt;&lt;2)) &amp; 0xF) | \</span>
<a name="line-2532"></a><span class="cp">   ((0x01145AF0&gt;&gt;(((7-(off))-(pass))&lt;&lt;2)) &amp; 0xF0))</span>
<a name="line-2533"></a>
<a name="line-2534"></a><span class="cp">#define PNG_ROW_IN_INTERLACE_PASS(y, pass) \</span>
<a name="line-2535"></a><span class="cp">   ((PNG_PASS_MASK(pass,0) &gt;&gt; ((y)&amp;7)) &amp; 1)</span>
<a name="line-2536"></a><span class="cp">#define PNG_COL_IN_INTERLACE_PASS(x, pass) \</span>
<a name="line-2537"></a><span class="cp">   ((PNG_PASS_MASK(pass,1) &gt;&gt; ((x)&amp;7)) &amp; 1)</span>
<a name="line-2538"></a>
<a name="line-2539"></a><span class="cp">#ifdef PNG_READ_COMPOSITE_NODIV_SUPPORTED</span>
<a name="line-2540"></a><span class="cm">/* With these routines we avoid an integer divide, which will be slower on</span>
<a name="line-2541"></a><span class="cm"> * most machines.  However, it does take more operations than the corresponding</span>
<a name="line-2542"></a><span class="cm"> * divide method, so it may be slower on a few RISC systems.  There are two</span>
<a name="line-2543"></a><span class="cm"> * shifts (by 8 or 16 bits) and an addition, versus a single integer divide.</span>
<a name="line-2544"></a><span class="cm"> *</span>
<a name="line-2545"></a><span class="cm"> * Note that the rounding factors are NOT supposed to be the same!  128 and</span>
<a name="line-2546"></a><span class="cm"> * 32768 are correct for the NODIV code; 127 and 32767 are correct for the</span>
<a name="line-2547"></a><span class="cm"> * standard method.</span>
<a name="line-2548"></a><span class="cm"> *</span>
<a name="line-2549"></a><span class="cm"> * [Optimized code by Greg Roelofs and Mark Adler...blame us for bugs. :-) ]</span>
<a name="line-2550"></a><span class="cm"> */</span>
<a name="line-2551"></a>
<a name="line-2552"></a> <span class="cm">/* fg and bg should be in `gamma 1.0&#39; space; alpha is the opacity */</span>
<a name="line-2553"></a>
<a name="line-2554"></a><span class="cp">#  define png_composite(composite, fg, alpha, bg)         \</span>
<a name="line-2555"></a><span class="cp">     { png_uint_16 temp = (png_uint_16)((png_uint_16)(fg) \</span>
<a name="line-2556"></a><span class="cp">           * (png_uint_16)(alpha)                         \</span>
<a name="line-2557"></a><span class="cp">           + (png_uint_16)(bg)*(png_uint_16)(255          \</span>
<a name="line-2558"></a><span class="cp">           - (png_uint_16)(alpha)) + 128);                \</span>
<a name="line-2559"></a><span class="cp">       (composite) = (png_byte)((temp + (temp &gt;&gt; 8)) &gt;&gt; 8); }</span>
<a name="line-2560"></a>
<a name="line-2561"></a><span class="cp">#  define png_composite_16(composite, fg, alpha, bg)       \</span>
<a name="line-2562"></a><span class="cp">     { png_uint_32 temp = (png_uint_32)((png_uint_32)(fg)  \</span>
<a name="line-2563"></a><span class="cp">           * (png_uint_32)(alpha)                          \</span>
<a name="line-2564"></a><span class="cp">           + (png_uint_32)(bg)*(65535                      \</span>
<a name="line-2565"></a><span class="cp">           - (png_uint_32)(alpha)) + 32768);               \</span>
<a name="line-2566"></a><span class="cp">       (composite) = (png_uint_16)((temp + (temp &gt;&gt; 16)) &gt;&gt; 16); }</span>
<a name="line-2567"></a>
<a name="line-2568"></a><span class="cp">#else  </span><span class="cm">/* Standard method using integer division */</span><span class="cp"></span>
<a name="line-2569"></a>
<a name="line-2570"></a><span class="cp">#  define png_composite(composite, fg, alpha, bg)                          \</span>
<a name="line-2571"></a><span class="cp">     (composite) = (png_byte)(((png_uint_16)(fg) * (png_uint_16)(alpha) +  \</span>
<a name="line-2572"></a><span class="cp">     (png_uint_16)(bg) * (png_uint_16)(255 - (png_uint_16)(alpha)) +       \</span>
<a name="line-2573"></a><span class="cp">     127) / 255)</span>
<a name="line-2574"></a>
<a name="line-2575"></a><span class="cp">#  define png_composite_16(composite, fg, alpha, bg)                         \</span>
<a name="line-2576"></a><span class="cp">     (composite) = (png_uint_16)(((png_uint_32)(fg) * (png_uint_32)(alpha) + \</span>
<a name="line-2577"></a><span class="cp">     (png_uint_32)(bg)*(png_uint_32)(65535 - (png_uint_32)(alpha)) +         \</span>
<a name="line-2578"></a><span class="cp">     32767) / 65535)</span>
<a name="line-2579"></a><span class="cp">#endif </span><span class="cm">/* PNG_READ_COMPOSITE_NODIV_SUPPORTED */</span><span class="cp"></span>
<a name="line-2580"></a>
<a name="line-2581"></a><span class="cp">#ifdef PNG_READ_INT_FUNCTIONS_SUPPORTED</span>
<a name="line-2582"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_uint_32</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_bytep</span> <span class="n">buf</span><span class="p">));</span>
<a name="line-2583"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">202</span><span class="p">,</span> <span class="n">png_uint_16</span><span class="p">,</span> <span class="n">png_get_uint_16</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_bytep</span> <span class="n">buf</span><span class="p">));</span>
<a name="line-2584"></a><span class="hll"><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="n">png_int_32</span><span class="p">,</span> <span class="n">png_get_int_32</span><span class="p">,</span> <span class="p">(</span><span class="n">png_const_bytep</span> <span class="n">buf</span><span class="p">));</span><span class='inconclusive2'>&lt;--- The variable 'png_uint_16' hides a typedef with the same name.</span>
</span><a name="line-2585"></a><span class="cp">#endif</span>
<a name="line-2586"></a>
<a name="line-2587"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">204</span><span class="p">,</span> <span class="n">png_uint_32</span><span class="p">,</span> <span class="n">png_get_uint_31</span><span class="p">,</span> <span class="p">(</span><span class="n">png_structp</span> <span class="n">png_ptr</span><span class="p">,</span>
<a name="line-2588"></a>    <span class="n">png_const_bytep</span> <span class="n">buf</span><span class="p">));</span>
<a name="line-2589"></a><span class="cm">/* No png_get_int_16 -- may be added if there&#39;s a real need for it. */</span>
<a name="line-2590"></a>
<a name="line-2591"></a><span class="cm">/* Place a 32-bit number into a buffer in PNG byte order (big-endian). */</span>
<a name="line-2592"></a><span class="cp">#ifdef PNG_WRITE_INT_FUNCTIONS_SUPPORTED</span>
<a name="line-2593"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">205</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_save_uint_32</span><span class="p">,</span> <span class="p">(</span><span class="n">png_bytep</span> <span class="n">buf</span><span class="p">,</span> <span class="n">png_uint_32</span> <span class="n">i</span><span class="p">));</span>
<a name="line-2594"></a><span class="cp">#endif</span>
<a name="line-2595"></a><span class="cp">#ifdef PNG_SAVE_INT_32_SUPPORTED</span>
<a name="line-2596"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">206</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_save_int_32</span><span class="p">,</span> <span class="p">(</span><span class="n">png_bytep</span> <span class="n">buf</span><span class="p">,</span> <span class="n">png_int_32</span> <span class="n">i</span><span class="p">));</span>
<a name="line-2597"></a><span class="cp">#endif</span>
<a name="line-2598"></a>
<a name="line-2599"></a><span class="cm">/* Place a 16-bit number into a buffer in PNG byte order.</span>
<a name="line-2600"></a><span class="cm"> * The parameter is declared unsigned int, not png_uint_16,</span>
<a name="line-2601"></a><span class="cm"> * just to avoid potential problems on pre-ANSI C compilers.</span>
<a name="line-2602"></a><span class="cm"> */</span>
<a name="line-2603"></a><span class="cp">#ifdef PNG_WRITE_INT_FUNCTIONS_SUPPORTED</span>
<a name="line-2604"></a><span class="n">PNG_EXPORT</span><span class="p">(</span><span class="mi">207</span><span class="p">,</span> <span class="kt">void</span><span class="p">,</span> <span class="n">png_save_uint_16</span><span class="p">,</span> <span class="p">(</span><span class="n">png_bytep</span> <span class="n">buf</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">i</span><span class="p">));</span>
<a name="line-2605"></a><span class="cm">/* No png_save_int_16 -- may be added if there&#39;s a real need for it. */</span>
<a name="line-2606"></a><span class="cp">#endif</span>
<a name="line-2607"></a>
<a name="line-2608"></a><span class="cp">#ifdef PNG_USE_READ_MACROS</span>
<a name="line-2609"></a><span class="cm">/* Inline macros to do direct reads of bytes from the input buffer.</span>
<a name="line-2610"></a><span class="cm"> * The png_get_int_32() routine assumes we are using two&#39;s complement</span>
<a name="line-2611"></a><span class="cm"> * format for negative values, which is almost certainly true.</span>
<a name="line-2612"></a><span class="cm"> */</span>
<a name="line-2613"></a><span class="cp">#  define png_get_uint_32(buf) \</span>
<a name="line-2614"></a><span class="cp">     (((png_uint_32)(*(buf)) &lt;&lt; 24) + \</span>
<a name="line-2615"></a><span class="cp">      ((png_uint_32)(*((buf) + 1)) &lt;&lt; 16) + \</span>
<a name="line-2616"></a><span class="cp">      ((png_uint_32)(*((buf) + 2)) &lt;&lt; 8) + \</span>
<a name="line-2617"></a><span class="cp">      ((png_uint_32)(*((buf) + 3))))</span>
<a name="line-2618"></a>
<a name="line-2619"></a>   <span class="cm">/* From libpng-1.4.0 until 1.4.4, the png_get_uint_16 macro (but not the</span>
<a name="line-2620"></a><span class="cm">    * function) incorrectly returned a value of type png_uint_32.</span>
<a name="line-2621"></a><span class="cm">    */</span>
<a name="line-2622"></a><span class="cp">#  define png_get_uint_16(buf) \</span>
<a name="line-2623"></a><span class="cp">     ((png_uint_16) \</span>
<a name="line-2624"></a><span class="cp">      (((unsigned int)(*(buf)) &lt;&lt; 8) + \</span>
<a name="line-2625"></a><span class="cp">       ((unsigned int)(*((buf) + 1)))))</span>
<a name="line-2626"></a>
<a name="line-2627"></a><span class="cp">#  define png_get_int_32(buf) \</span>
<a name="line-2628"></a><span class="cp">     ((png_int_32)((*(buf) &amp; 0x80) \</span>
<a name="line-2629"></a><span class="cp">      ? -((png_int_32)((png_get_uint_32(buf) ^ 0xffffffffL) + 1)) \</span>
<a name="line-2630"></a><span class="cp">      : (png_int_32)png_get_uint_32(buf)))</span>
<a name="line-2631"></a><span class="cp">#endif</span>
<a name="line-2632"></a>
<a name="line-2633"></a><span class="cm">/* Maintainer: Put new public prototypes here ^, in libpng.3, and project</span>
<a name="line-2634"></a><span class="cm"> * defs</span>
<a name="line-2635"></a><span class="cm"> */</span>
<a name="line-2636"></a>
<a name="line-2637"></a><span class="cm">/* The last ordinal number (this is the *last* one already used; the next</span>
<a name="line-2638"></a><span class="cm"> * one to use is one more than this.)  Maintainer, remember to add an entry to</span>
<a name="line-2639"></a><span class="cm"> * scripts/symbols.def as well.</span>
<a name="line-2640"></a><span class="cm"> */</span>
<a name="line-2641"></a><span class="cp">#ifdef PNG_EXPORT_LAST_ORDINAL</span>
<a name="line-2642"></a>  <span class="n">PNG_EXPORT_LAST_ORDINAL</span><span class="p">(</span><span class="mi">233</span><span class="p">);</span>
<a name="line-2643"></a><span class="cp">#endif</span>
<a name="line-2644"></a>
<a name="line-2645"></a><span class="cp">#ifdef __cplusplus</span>
<a name="line-2646"></a><span class="p">}</span>
<a name="line-2647"></a><span class="cp">#endif</span>
<a name="line-2648"></a>
<a name="line-2649"></a><span class="cp">#endif </span><span class="cm">/* PNG_VERSION_INFO_ONLY */</span><span class="cp"></span>
<a name="line-2650"></a><span class="cm">/* Do not put anything past this line */</span>
<a name="line-2651"></a><span class="cp">#endif </span><span class="cm">/* PNG_H */</span><span class="cp"></span>
</pre></div>
</td></tr></table>
      </div>
      <div id="footer">
        <p>
         Cppcheck 1.70 dev - a tool for static C/C++ code analysis</br>
         </br>
         Internet: <a href="http://cppcheck.sourceforge.net">http://cppcheck.sourceforge.net</a></br>
         IRC: <a href="irc://irc.freenode.net/cppcheck">irc://irc.freenode.net/cppcheck</a></br>
        <p>
      </div>
  </body>
</html>
